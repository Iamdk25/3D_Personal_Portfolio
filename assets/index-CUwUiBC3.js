function oce(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function ace(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();function N2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lce(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var NK={exports:{}},O2={},OK={exports:{}},wn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tM=Symbol.for("react.element"),cce=Symbol.for("react.portal"),uce=Symbol.for("react.fragment"),hce=Symbol.for("react.strict_mode"),dce=Symbol.for("react.profiler"),fce=Symbol.for("react.provider"),pce=Symbol.for("react.context"),mce=Symbol.for("react.forward_ref"),gce=Symbol.for("react.suspense"),vce=Symbol.for("react.memo"),yce=Symbol.for("react.lazy"),E9=Symbol.iterator;function xce(n){return n===null||typeof n!="object"?null:(n=E9&&n[E9]||n["@@iterator"],typeof n=="function"?n:null)}var UK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kK=Object.assign,zK={};function r1(n,e,t){this.props=n,this.context=e,this.refs=zK,this.updater=t||UK}r1.prototype.isReactComponent={};r1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};r1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function HK(){}HK.prototype=r1.prototype;function lk(n,e,t){this.props=n,this.context=e,this.refs=zK,this.updater=t||UK}var ck=lk.prototype=new HK;ck.constructor=lk;kK(ck,r1.prototype);ck.isPureReactComponent=!0;var C9=Array.isArray,GK=Object.prototype.hasOwnProperty,uk={current:null},VK={key:!0,ref:!0,__self:!0,__source:!0};function jK(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GK.call(e,i)&&!VK.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:tM,type:n,key:s,ref:o,props:r,_owner:uk.current}}function _ce(n,e){return{$$typeof:tM,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function hk(n){return typeof n=="object"&&n!==null&&n.$$typeof===tM}function Ace(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var T9=/\/+/g;function oI(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Ace(""+n.key):e.toString(36)}function oT(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case tM:case cce:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+oI(o,0):i,C9(r)?(t="",n!=null&&(t=n.replace(T9,"$&/")+"/"),oT(r,e,t,"",function(c){return c})):r!=null&&(hk(r)&&(r=_ce(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(T9,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",C9(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+oI(s,a);o+=oT(s,e,t,l,r)}else if(l=xce(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+oI(s,a++),o+=oT(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ab(n,e,t){if(n==null)return n;var i=[],r=0;return oT(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Sce(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var vo={current:null},aT={transition:null},wce={ReactCurrentDispatcher:vo,ReactCurrentBatchConfig:aT,ReactCurrentOwner:uk};function WK(){throw Error("act(...) is not supported in production builds of React.")}wn.Children={map:Ab,forEach:function(n,e,t){Ab(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ab(n,function(){e++}),e},toArray:function(n){return Ab(n,function(e){return e})||[]},only:function(n){if(!hk(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};wn.Component=r1;wn.Fragment=uce;wn.Profiler=dce;wn.PureComponent=lk;wn.StrictMode=hce;wn.Suspense=gce;wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wce;wn.act=WK;wn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=kK({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uk.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)GK.call(e,l)&&!VK.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:tM,type:n.type,key:r,ref:s,props:i,_owner:o}};wn.createContext=function(n){return n={$$typeof:pce,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:fce,_context:n},n.Consumer=n};wn.createElement=jK;wn.createFactory=function(n){var e=jK.bind(null,n);return e.type=n,e};wn.createRef=function(){return{current:null}};wn.forwardRef=function(n){return{$$typeof:mce,render:n}};wn.isValidElement=hk;wn.lazy=function(n){return{$$typeof:yce,_payload:{_status:-1,_result:n},_init:Sce}};wn.memo=function(n,e){return{$$typeof:vce,type:n,compare:e===void 0?null:e}};wn.startTransition=function(n){var e=aT.transition;aT.transition={};try{n()}finally{aT.transition=e}};wn.unstable_act=WK;wn.useCallback=function(n,e){return vo.current.useCallback(n,e)};wn.useContext=function(n){return vo.current.useContext(n)};wn.useDebugValue=function(){};wn.useDeferredValue=function(n){return vo.current.useDeferredValue(n)};wn.useEffect=function(n,e){return vo.current.useEffect(n,e)};wn.useId=function(){return vo.current.useId()};wn.useImperativeHandle=function(n,e,t){return vo.current.useImperativeHandle(n,e,t)};wn.useInsertionEffect=function(n,e){return vo.current.useInsertionEffect(n,e)};wn.useLayoutEffect=function(n,e){return vo.current.useLayoutEffect(n,e)};wn.useMemo=function(n,e){return vo.current.useMemo(n,e)};wn.useReducer=function(n,e,t){return vo.current.useReducer(n,e,t)};wn.useRef=function(n){return vo.current.useRef(n)};wn.useState=function(n){return vo.current.useState(n)};wn.useSyncExternalStore=function(n,e,t){return vo.current.useSyncExternalStore(n,e,t)};wn.useTransition=function(){return vo.current.useTransition()};wn.version="18.3.1";OK.exports=wn;var ue=OK.exports;const Kc=N2(ue),Mce=ace({__proto__:null,default:Kc},[ue]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var bce=ue,Ece=Symbol.for("react.element"),Cce=Symbol.for("react.fragment"),Tce=Object.prototype.hasOwnProperty,Rce=bce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pce={key:!0,ref:!0,__self:!0,__source:!0};function XK(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Tce.call(e,i)&&!Pce.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Ece,type:n,key:s,ref:o,props:r,_owner:Rce.current}}O2.Fragment=Cce;O2.jsx=XK;O2.jsxs=XK;NK.exports=O2;var Pe=NK.exports,V3={},JK={exports:{}},Ra={},KK={exports:{}},YK={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(D,z){var H=D.length;D.push(z);e:for(;0<H;){var ee=H-1>>>1,pe=D[ee];if(0<r(pe,z))D[ee]=z,D[H]=pe,H=ee;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var ee=0,pe=D.length,ke=pe>>>1;ee<ke;){var ne=2*(ee+1)-1,ve=D[ne],be=ne+1,xe=D[be];if(0>r(ve,H))be<pe&&0>r(xe,ve)?(D[ee]=xe,D[be]=H,ee=be):(D[ee]=ve,D[ne]=H,ee=ne);else if(be<pe&&0>r(xe,H))D[ee]=xe,D[be]=H,ee=be;else break e}}return z}function r(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=D)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function b(D){if(x=!1,w(D),!v)if(t(l)!==null)v=!0,Y(P);else{var z=t(c);z!==null&&ie(b,z.startTime-D)}}function P(D,z){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var H=p;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var pe=ee(d.expirationTime<=z);z=n.unstable_now(),typeof pe=="function"?d.callback=pe:d===t(l)&&i(l),w(z)}else i(l);d=t(l)}if(d!==null)var ke=!0;else{var ne=t(c);ne!==null&&ie(b,ne.startTime-z),ke=!1}return ke}finally{d=null,p=H,m=!1}}var T=!1,B=null,I=-1,R=5,C=-1;function N(){return!(n.unstable_now()-C<R)}function j(){if(B!==null){var D=n.unstable_now();C=D;var z=!0;try{z=B(!0,D)}finally{z?W():(T=!1,B=null)}}else T=!1}var W;if(typeof S=="function")W=function(){S(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){y(j,0)};function Y(D){B=D,T||(T=!0,W())}function ie(D,z){I=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Y(P))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var H=p;p=z;try{return D()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return z()}finally{p=H}},n.unstable_scheduleCallback=function(D,z,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:h++,callback:z,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ee?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(x?(g(I),I=-1):x=!0,ie(b,H-ee))):(D.sortIndex=pe,e(l,D),v||m||(v=!0,Y(P))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var z=p;return function(){var H=p;p=z;try{return D.apply(this,arguments)}finally{p=H}}}})(YK);KK.exports=YK;var Bce=KK.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ice=ue,_a=Bce;function xt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QK=new Set,RS={};function o0(n,e){Ax(n,e),Ax(n+"Capture",e)}function Ax(n,e){for(RS[n]=e,n=0;n<e.length;n++)QK.add(e[n])}var Hh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j3=Object.prototype.hasOwnProperty,Lce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R9={},P9={};function Dce(n){return j3.call(P9,n)?!0:j3.call(R9,n)?!1:Lce.test(n)?P9[n]=!0:(R9[n]=!0,!1)}function Fce(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Nce(n,e,t,i){if(e===null||typeof e>"u"||Fce(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yo(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xs[n]=new yo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xs[e]=new yo(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xs[n]=new yo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xs[n]=new yo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xs[n]=new yo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xs[n]=new yo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xs[n]=new yo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xs[n]=new yo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xs[n]=new yo(n,5,!1,n.toLowerCase(),null,!1,!1)});var dk=/[\-:]([a-z])/g;function fk(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(dk,fk);xs[e]=new yo(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(dk,fk);xs[e]=new yo(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(dk,fk);xs[e]=new yo(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xs[n]=new yo(n,1,!1,n.toLowerCase(),null,!1,!1)});xs.xlinkHref=new yo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xs[n]=new yo(n,1,!1,n.toLowerCase(),null,!0,!0)});function pk(n,e,t,i){var r=xs.hasOwnProperty(e)?xs[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nce(e,t,r,i)&&(t=null),i||r===null?Dce(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var td=Ice.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sb=Symbol.for("react.element"),hy=Symbol.for("react.portal"),dy=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),W3=Symbol.for("react.profiler"),qK=Symbol.for("react.provider"),$K=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),X3=Symbol.for("react.suspense"),J3=Symbol.for("react.suspense_list"),vk=Symbol.for("react.memo"),qd=Symbol.for("react.lazy"),ZK=Symbol.for("react.offscreen"),B9=Symbol.iterator;function L_(n){return n===null||typeof n!="object"?null:(n=B9&&n[B9]||n["@@iterator"],typeof n=="function"?n:null)}var Ui=Object.assign,aI;function FA(n){if(aI===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);aI=e&&e[1]||""}return`
`+aI+n}var lI=!1;function cI(n,e){if(!n||lI)return"";lI=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{lI=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?FA(n):""}function Oce(n){switch(n.tag){case 5:return FA(n.type);case 16:return FA("Lazy");case 13:return FA("Suspense");case 19:return FA("SuspenseList");case 0:case 2:case 15:return n=cI(n.type,!1),n;case 11:return n=cI(n.type.render,!1),n;case 1:return n=cI(n.type,!0),n;default:return""}}function K3(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case dy:return"Fragment";case hy:return"Portal";case W3:return"Profiler";case mk:return"StrictMode";case X3:return"Suspense";case J3:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $K:return(n.displayName||"Context")+".Consumer";case qK:return(n._context.displayName||"Context")+".Provider";case gk:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vk:return e=n.displayName||null,e!==null?e:K3(n.type)||"Memo";case qd:e=n._payload,n=n._init;try{return K3(n(e))}catch{}}return null}function Uce(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K3(e);case 8:return e===mk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eY(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kce(n){var e=eY(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function wb(n){n._valueTracker||(n._valueTracker=kce(n))}function tY(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=eY(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function $T(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Y3(n,e){var t=e.checked;return Ui({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function I9(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Nf(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nY(n,e){e=e.checked,e!=null&&pk(n,"checked",e,!1)}function Q3(n,e){nY(n,e);var t=Nf(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?q3(n,e.type,t):e.hasOwnProperty("defaultValue")&&q3(n,e.type,Nf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function L9(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function q3(n,e,t){(e!=="number"||$T(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var NA=Array.isArray;function Zy(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Nf(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function $3(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xt(91));return Ui({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function D9(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(xt(92));if(NA(t)){if(1<t.length)throw Error(xt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Nf(t)}}function iY(n,e){var t=Nf(e.value),i=Nf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function F9(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function rY(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z3(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?rY(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mb,sY=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Mb=Mb||document.createElement("div"),Mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mb.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function PS(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var YA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zce=["Webkit","ms","Moz","O"];Object.keys(YA).forEach(function(n){zce.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),YA[e]=YA[n]})});function oY(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||YA.hasOwnProperty(n)&&YA[n]?(""+e).trim():e+"px"}function aY(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=oY(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Hce=Ui({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eF(n,e){if(e){if(Hce[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xt(62))}}function tF(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nF=null;function yk(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var iF=null,ex=null,tx=null;function N9(n){if(n=rM(n)){if(typeof iF!="function")throw Error(xt(280));var e=n.stateNode;e&&(e=G2(e),iF(n.stateNode,n.type,e))}}function lY(n){ex?tx?tx.push(n):tx=[n]:ex=n}function cY(){if(ex){var n=ex,e=tx;if(tx=ex=null,N9(n),e)for(n=0;n<e.length;n++)N9(e[n])}}function uY(n,e){return n(e)}function hY(){}var uI=!1;function dY(n,e,t){if(uI)return n(e,t);uI=!0;try{return uY(n,e,t)}finally{uI=!1,(ex!==null||tx!==null)&&(hY(),cY())}}function BS(n,e){var t=n.stateNode;if(t===null)return null;var i=G2(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(xt(231,e,typeof t));return t}var rF=!1;if(Hh)try{var D_={};Object.defineProperty(D_,"passive",{get:function(){rF=!0}}),window.addEventListener("test",D_,D_),window.removeEventListener("test",D_,D_)}catch{rF=!1}function Gce(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var QA=!1,ZT=null,eR=!1,sF=null,Vce={onError:function(n){QA=!0,ZT=n}};function jce(n,e,t,i,r,s,o,a,l){QA=!1,ZT=null,Gce.apply(Vce,arguments)}function Wce(n,e,t,i,r,s,o,a,l){if(jce.apply(this,arguments),QA){if(QA){var c=ZT;QA=!1,ZT=null}else throw Error(xt(198));eR||(eR=!0,sF=c)}}function a0(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function fY(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function O9(n){if(a0(n)!==n)throw Error(xt(188))}function Xce(n){var e=n.alternate;if(!e){if(e=a0(n),e===null)throw Error(xt(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return O9(r),n;if(s===i)return O9(r),e;s=s.sibling}throw Error(xt(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(xt(189))}}if(t.alternate!==i)throw Error(xt(190))}if(t.tag!==3)throw Error(xt(188));return t.stateNode.current===t?n:e}function pY(n){return n=Xce(n),n!==null?mY(n):null}function mY(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=mY(n);if(e!==null)return e;n=n.sibling}return null}var gY=_a.unstable_scheduleCallback,U9=_a.unstable_cancelCallback,Jce=_a.unstable_shouldYield,Kce=_a.unstable_requestPaint,ir=_a.unstable_now,Yce=_a.unstable_getCurrentPriorityLevel,xk=_a.unstable_ImmediatePriority,vY=_a.unstable_UserBlockingPriority,tR=_a.unstable_NormalPriority,Qce=_a.unstable_LowPriority,yY=_a.unstable_IdlePriority,U2=null,$c=null;function qce(n){if($c&&typeof $c.onCommitFiberRoot=="function")try{$c.onCommitFiberRoot(U2,n,void 0,(n.current.flags&128)===128)}catch{}}var ec=Math.clz32?Math.clz32:eue,$ce=Math.log,Zce=Math.LN2;function eue(n){return n>>>=0,n===0?32:31-($ce(n)/Zce|0)|0}var bb=64,Eb=4194304;function OA(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function nR(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=OA(a):(s&=o,s!==0&&(i=OA(s)))}else o=t&~r,o!==0?i=OA(o):s!==0&&(i=OA(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ec(e),r=1<<t,i|=n[t],e&=~r;return i}function tue(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nue(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ec(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=tue(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function oF(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xY(){var n=bb;return bb<<=1,!(bb&4194240)&&(bb=64),n}function hI(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function nM(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ec(e),n[e]=t}function iue(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ec(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function _k(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ec(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var qn=0;function _Y(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var AY,Ak,SY,wY,MY,aF=!1,Cb=[],pf=null,mf=null,gf=null,IS=new Map,LS=new Map,rf=[],rue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k9(n,e){switch(n){case"focusin":case"focusout":pf=null;break;case"dragenter":case"dragleave":mf=null;break;case"mouseover":case"mouseout":gf=null;break;case"pointerover":case"pointerout":IS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":LS.delete(e.pointerId)}}function F_(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=rM(e),e!==null&&Ak(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function sue(n,e,t,i,r){switch(e){case"focusin":return pf=F_(pf,n,e,t,i,r),!0;case"dragenter":return mf=F_(mf,n,e,t,i,r),!0;case"mouseover":return gf=F_(gf,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return IS.set(s,F_(IS.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,LS.set(s,F_(LS.get(s)||null,n,e,t,i,r)),!0}return!1}function bY(n){var e=zm(n.target);if(e!==null){var t=a0(e);if(t!==null){if(e=t.tag,e===13){if(e=fY(t),e!==null){n.blockedOn=e,MY(n.priority,function(){SY(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lT(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=lF(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);nF=i,t.target.dispatchEvent(i),nF=null}else return e=rM(t),e!==null&&Ak(e),n.blockedOn=t,!1;e.shift()}return!0}function z9(n,e,t){lT(n)&&t.delete(e)}function oue(){aF=!1,pf!==null&&lT(pf)&&(pf=null),mf!==null&&lT(mf)&&(mf=null),gf!==null&&lT(gf)&&(gf=null),IS.forEach(z9),LS.forEach(z9)}function N_(n,e){n.blockedOn===e&&(n.blockedOn=null,aF||(aF=!0,_a.unstable_scheduleCallback(_a.unstable_NormalPriority,oue)))}function DS(n){function e(r){return N_(r,n)}if(0<Cb.length){N_(Cb[0],n);for(var t=1;t<Cb.length;t++){var i=Cb[t];i.blockedOn===n&&(i.blockedOn=null)}}for(pf!==null&&N_(pf,n),mf!==null&&N_(mf,n),gf!==null&&N_(gf,n),IS.forEach(e),LS.forEach(e),t=0;t<rf.length;t++)i=rf[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<rf.length&&(t=rf[0],t.blockedOn===null);)bY(t),t.blockedOn===null&&rf.shift()}var nx=td.ReactCurrentBatchConfig,iR=!0;function aue(n,e,t,i){var r=qn,s=nx.transition;nx.transition=null;try{qn=1,Sk(n,e,t,i)}finally{qn=r,nx.transition=s}}function lue(n,e,t,i){var r=qn,s=nx.transition;nx.transition=null;try{qn=4,Sk(n,e,t,i)}finally{qn=r,nx.transition=s}}function Sk(n,e,t,i){if(iR){var r=lF(n,e,t,i);if(r===null)AI(n,e,i,rR,t),k9(n,i);else if(sue(r,n,e,t,i))i.stopPropagation();else if(k9(n,i),e&4&&-1<rue.indexOf(n)){for(;r!==null;){var s=rM(r);if(s!==null&&AY(s),s=lF(n,e,t,i),s===null&&AI(n,e,i,rR,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else AI(n,e,i,null,t)}}var rR=null;function lF(n,e,t,i){if(rR=null,n=yk(i),n=zm(n),n!==null)if(e=a0(n),e===null)n=null;else if(t=e.tag,t===13){if(n=fY(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return rR=n,null}function EY(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yce()){case xk:return 1;case vY:return 4;case tR:case Qce:return 16;case yY:return 536870912;default:return 16}default:return 16}}var uf=null,wk=null,cT=null;function CY(){if(cT)return cT;var n,e=wk,t=e.length,i,r="value"in uf?uf.value:uf.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return cT=r.slice(n,1<i?1-i:void 0)}function uT(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Tb(){return!0}function H9(){return!1}function Pa(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tb:H9,this.isPropagationStopped=H9,this}return Ui(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Tb)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Tb)},persist:function(){},isPersistent:Tb}),e}var s1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mk=Pa(s1),iM=Ui({},s1,{view:0,detail:0}),cue=Pa(iM),dI,fI,O_,k2=Ui({},iM,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bk,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==O_&&(O_&&n.type==="mousemove"?(dI=n.screenX-O_.screenX,fI=n.screenY-O_.screenY):fI=dI=0,O_=n),dI)},movementY:function(n){return"movementY"in n?n.movementY:fI}}),G9=Pa(k2),uue=Ui({},k2,{dataTransfer:0}),hue=Pa(uue),due=Ui({},iM,{relatedTarget:0}),pI=Pa(due),fue=Ui({},s1,{animationName:0,elapsedTime:0,pseudoElement:0}),pue=Pa(fue),mue=Ui({},s1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gue=Pa(mue),vue=Ui({},s1,{data:0}),V9=Pa(vue),yue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aue(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=_ue[n])?!!e[n]:!1}function bk(){return Aue}var Sue=Ui({},iM,{key:function(n){if(n.key){var e=yue[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uT(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xue[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bk,charCode:function(n){return n.type==="keypress"?uT(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uT(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wue=Pa(Sue),Mue=Ui({},k2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j9=Pa(Mue),bue=Ui({},iM,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bk}),Eue=Pa(bue),Cue=Ui({},s1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tue=Pa(Cue),Rue=Ui({},k2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pue=Pa(Rue),Bue=[9,13,27,32],Ek=Hh&&"CompositionEvent"in window,qA=null;Hh&&"documentMode"in document&&(qA=document.documentMode);var Iue=Hh&&"TextEvent"in window&&!qA,TY=Hh&&(!Ek||qA&&8<qA&&11>=qA),W9=" ",X9=!1;function RY(n,e){switch(n){case"keyup":return Bue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PY(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fy=!1;function Lue(n,e){switch(n){case"compositionend":return PY(e);case"keypress":return e.which!==32?null:(X9=!0,W9);case"textInput":return n=e.data,n===W9&&X9?null:n;default:return null}}function Due(n,e){if(fy)return n==="compositionend"||!Ek&&RY(n,e)?(n=CY(),cT=wk=uf=null,fy=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TY&&e.locale!=="ko"?null:e.data;default:return null}}var Fue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Fue[n.type]:e==="textarea"}function BY(n,e,t,i){lY(i),e=sR(e,"onChange"),0<e.length&&(t=new Mk("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var $A=null,FS=null;function Nue(n){GY(n,0)}function z2(n){var e=gy(n);if(tY(e))return n}function Oue(n,e){if(n==="change")return e}var IY=!1;if(Hh){var mI;if(Hh){var gI="oninput"in document;if(!gI){var K9=document.createElement("div");K9.setAttribute("oninput","return;"),gI=typeof K9.oninput=="function"}mI=gI}else mI=!1;IY=mI&&(!document.documentMode||9<document.documentMode)}function Y9(){$A&&($A.detachEvent("onpropertychange",LY),FS=$A=null)}function LY(n){if(n.propertyName==="value"&&z2(FS)){var e=[];BY(e,FS,n,yk(n)),dY(Nue,e)}}function Uue(n,e,t){n==="focusin"?(Y9(),$A=e,FS=t,$A.attachEvent("onpropertychange",LY)):n==="focusout"&&Y9()}function kue(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return z2(FS)}function zue(n,e){if(n==="click")return z2(e)}function Hue(n,e){if(n==="input"||n==="change")return z2(e)}function Gue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var oc=typeof Object.is=="function"?Object.is:Gue;function NS(n,e){if(oc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!j3.call(e,r)||!oc(n[r],e[r]))return!1}return!0}function Q9(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function q9(n,e){var t=Q9(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Q9(t)}}function DY(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?DY(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function FY(){for(var n=window,e=$T();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=$T(n.document)}return e}function Ck(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Vue(n){var e=FY(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&DY(t.ownerDocument.documentElement,t)){if(i!==null&&Ck(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=q9(t,s);var o=q9(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jue=Hh&&"documentMode"in document&&11>=document.documentMode,py=null,cF=null,ZA=null,uF=!1;function $9(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;uF||py==null||py!==$T(i)||(i=py,"selectionStart"in i&&Ck(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ZA&&NS(ZA,i)||(ZA=i,i=sR(cF,"onSelect"),0<i.length&&(e=new Mk("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=py)))}function Rb(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var my={animationend:Rb("Animation","AnimationEnd"),animationiteration:Rb("Animation","AnimationIteration"),animationstart:Rb("Animation","AnimationStart"),transitionend:Rb("Transition","TransitionEnd")},vI={},NY={};Hh&&(NY=document.createElement("div").style,"AnimationEvent"in window||(delete my.animationend.animation,delete my.animationiteration.animation,delete my.animationstart.animation),"TransitionEvent"in window||delete my.transitionend.transition);function H2(n){if(vI[n])return vI[n];if(!my[n])return n;var e=my[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in NY)return vI[n]=e[t];return n}var OY=H2("animationend"),UY=H2("animationiteration"),kY=H2("animationstart"),zY=H2("transitionend"),HY=new Map,Z9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(n,e){HY.set(n,e),o0(e,[n])}for(var yI=0;yI<Z9.length;yI++){var xI=Z9[yI],Wue=xI.toLowerCase(),Xue=xI[0].toUpperCase()+xI.slice(1);Zf(Wue,"on"+Xue)}Zf(OY,"onAnimationEnd");Zf(UY,"onAnimationIteration");Zf(kY,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(zY,"onTransitionEnd");Ax("onMouseEnter",["mouseout","mouseover"]);Ax("onMouseLeave",["mouseout","mouseover"]);Ax("onPointerEnter",["pointerout","pointerover"]);Ax("onPointerLeave",["pointerout","pointerover"]);o0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));o0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));o0("onBeforeInput",["compositionend","keypress","textInput","paste"]);o0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));o0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));o0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var UA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jue=new Set("cancel close invalid load scroll toggle".split(" ").concat(UA));function e5(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Wce(i,e,void 0,n),n.currentTarget=null}function GY(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;e5(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;e5(r,a,c),s=l}}}if(eR)throw n=sF,eR=!1,sF=null,n}function mi(n,e){var t=e[mF];t===void 0&&(t=e[mF]=new Set);var i=n+"__bubble";t.has(i)||(VY(e,n,2,!1),t.add(i))}function _I(n,e,t){var i=0;e&&(i|=4),VY(t,n,i,e)}var Pb="_reactListening"+Math.random().toString(36).slice(2);function OS(n){if(!n[Pb]){n[Pb]=!0,QK.forEach(function(t){t!=="selectionchange"&&(Jue.has(t)||_I(t,!1,n),_I(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Pb]||(e[Pb]=!0,_I("selectionchange",!1,e))}}function VY(n,e,t,i){switch(EY(e)){case 1:var r=aue;break;case 4:r=lue;break;default:r=Sk}t=r.bind(null,e,t,n),r=void 0,!rF||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function AI(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=zm(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}dY(function(){var c=s,h=yk(t),d=[];e:{var p=HY.get(n);if(p!==void 0){var m=Mk,v=n;switch(n){case"keypress":if(uT(t)===0)break e;case"keydown":case"keyup":m=wue;break;case"focusin":v="focus",m=pI;break;case"focusout":v="blur",m=pI;break;case"beforeblur":case"afterblur":m=pI;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=G9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Eue;break;case OY:case UY:case kY:m=pue;break;case zY:m=Tue;break;case"scroll":m=cue;break;case"wheel":m=Pue;break;case"copy":case"cut":case"paste":m=gue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=j9}var x=(e&4)!==0,y=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var S=c,w;S!==null;){w=S;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=BS(S,g),b!=null&&x.push(US(S,b,w)))),y)break;S=S.return}0<x.length&&(p=new m(p,v,null,t,h),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==nF&&(v=t.relatedTarget||t.fromElement)&&(zm(v)||v[Gh]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?zm(v):null,v!==null&&(y=a0(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=G9,b="onMouseLeave",g="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(x=j9,b="onPointerLeave",g="onPointerEnter",S="pointer"),y=m==null?p:gy(m),w=v==null?p:gy(v),p=new x(b,S+"leave",m,t,h),p.target=y,p.relatedTarget=w,b=null,zm(h)===c&&(x=new x(g,S+"enter",v,t,h),x.target=w,x.relatedTarget=y,b=x),y=b,m&&v)t:{for(x=m,g=v,S=0,w=x;w;w=hv(w))S++;for(w=0,b=g;b;b=hv(b))w++;for(;0<S-w;)x=hv(x),S--;for(;0<w-S;)g=hv(g),w--;for(;S--;){if(x===g||g!==null&&x===g.alternate)break t;x=hv(x),g=hv(g)}x=null}else x=null;m!==null&&t5(d,p,m,x,!1),v!==null&&y!==null&&t5(d,y,v,x,!0)}}e:{if(p=c?gy(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=Oue;else if(J9(p))if(IY)P=Hue;else{P=kue;var T=Uue}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=zue);if(P&&(P=P(n,c))){BY(d,P,t,h);break e}T&&T(n,p,c),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&q3(p,"number",p.value)}switch(T=c?gy(c):window,n){case"focusin":(J9(T)||T.contentEditable==="true")&&(py=T,cF=c,ZA=null);break;case"focusout":ZA=cF=py=null;break;case"mousedown":uF=!0;break;case"contextmenu":case"mouseup":case"dragend":uF=!1,$9(d,t,h);break;case"selectionchange":if(jue)break;case"keydown":case"keyup":$9(d,t,h)}var B;if(Ek)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fy?RY(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(TY&&t.locale!=="ko"&&(fy||I!=="onCompositionStart"?I==="onCompositionEnd"&&fy&&(B=CY()):(uf=h,wk="value"in uf?uf.value:uf.textContent,fy=!0)),T=sR(c,I),0<T.length&&(I=new V9(I,n,null,t,h),d.push({event:I,listeners:T}),B?I.data=B:(B=PY(t),B!==null&&(I.data=B)))),(B=Iue?Lue(n,t):Due(n,t))&&(c=sR(c,"onBeforeInput"),0<c.length&&(h=new V9("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=B))}GY(d,e)})}function US(n,e,t){return{instance:n,listener:e,currentTarget:t}}function sR(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=BS(n,t),s!=null&&i.unshift(US(n,s,r)),s=BS(n,e),s!=null&&i.push(US(n,s,r))),n=n.return}return i}function hv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function t5(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=BS(t,s),l!=null&&o.unshift(US(t,l,a))):r||(l=BS(t,s),l!=null&&o.push(US(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Kue=/\r\n?/g,Yue=/\u0000|\uFFFD/g;function n5(n){return(typeof n=="string"?n:""+n).replace(Kue,`
`).replace(Yue,"")}function Bb(n,e,t){if(e=n5(e),n5(n)!==e&&t)throw Error(xt(425))}function oR(){}var hF=null,dF=null;function fF(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pF=typeof setTimeout=="function"?setTimeout:void 0,Que=typeof clearTimeout=="function"?clearTimeout:void 0,i5=typeof Promise=="function"?Promise:void 0,que=typeof queueMicrotask=="function"?queueMicrotask:typeof i5<"u"?function(n){return i5.resolve(null).then(n).catch($ue)}:pF;function $ue(n){setTimeout(function(){throw n})}function SI(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),DS(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);DS(e)}function vf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function r5(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var o1=Math.random().toString(36).slice(2),Xc="__reactFiber$"+o1,kS="__reactProps$"+o1,Gh="__reactContainer$"+o1,mF="__reactEvents$"+o1,Zue="__reactListeners$"+o1,ehe="__reactHandles$"+o1;function zm(n){var e=n[Xc];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Gh]||t[Xc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=r5(n);n!==null;){if(t=n[Xc])return t;n=r5(n)}return e}n=t,t=n.parentNode}return null}function rM(n){return n=n[Xc]||n[Gh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gy(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(xt(33))}function G2(n){return n[kS]||null}var gF=[],vy=-1;function ep(n){return{current:n}}function Ai(n){0>vy||(n.current=gF[vy],gF[vy]=null,vy--)}function ci(n,e){vy++,gF[vy]=n.current,n.current=e}var Of={},Xs=ep(Of),Bo=ep(!1),Pg=Of;function Sx(n,e){var t=n.type.contextTypes;if(!t)return Of;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Io(n){return n=n.childContextTypes,n!=null}function aR(){Ai(Bo),Ai(Xs)}function s5(n,e,t){if(Xs.current!==Of)throw Error(xt(168));ci(Xs,e),ci(Bo,t)}function jY(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(xt(108,Uce(n)||"Unknown",r));return Ui({},t,i)}function lR(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Of,Pg=Xs.current,ci(Xs,n),ci(Bo,Bo.current),!0}function o5(n,e,t){var i=n.stateNode;if(!i)throw Error(xt(169));t?(n=jY(n,e,Pg),i.__reactInternalMemoizedMergedChildContext=n,Ai(Bo),Ai(Xs),ci(Xs,n)):Ai(Bo),ci(Bo,t)}var ch=null,V2=!1,wI=!1;function WY(n){ch===null?ch=[n]:ch.push(n)}function the(n){V2=!0,WY(n)}function tp(){if(!wI&&ch!==null){wI=!0;var n=0,e=qn;try{var t=ch;for(qn=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ch=null,V2=!1}catch(r){throw ch!==null&&(ch=ch.slice(n+1)),gY(xk,tp),r}finally{qn=e,wI=!1}}return null}var yy=[],xy=0,cR=null,uR=0,ol=[],al=0,Bg=null,vh=1,yh="";function Sm(n,e){yy[xy++]=uR,yy[xy++]=cR,cR=n,uR=e}function XY(n,e,t){ol[al++]=vh,ol[al++]=yh,ol[al++]=Bg,Bg=n;var i=vh;n=yh;var r=32-ec(i)-1;i&=~(1<<r),t+=1;var s=32-ec(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,vh=1<<32-ec(e)+r|t<<r|i,yh=s+n}else vh=1<<s|t<<r|i,yh=n}function Tk(n){n.return!==null&&(Sm(n,1),XY(n,1,0))}function Rk(n){for(;n===cR;)cR=yy[--xy],yy[xy]=null,uR=yy[--xy],yy[xy]=null;for(;n===Bg;)Bg=ol[--al],ol[al]=null,yh=ol[--al],ol[al]=null,vh=ol[--al],ol[al]=null}var pa=null,oa=null,Ei=!1,Ql=null;function JY(n,e){var t=dl(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function a5(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,pa=n,oa=vf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,pa=n,oa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Bg!==null?{id:vh,overflow:yh}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=dl(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,pa=n,oa=null,!0):!1;default:return!1}}function vF(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yF(n){if(Ei){var e=oa;if(e){var t=e;if(!a5(n,e)){if(vF(n))throw Error(xt(418));e=vf(t.nextSibling);var i=pa;e&&a5(n,e)?JY(i,t):(n.flags=n.flags&-4097|2,Ei=!1,pa=n)}}else{if(vF(n))throw Error(xt(418));n.flags=n.flags&-4097|2,Ei=!1,pa=n}}}function l5(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;pa=n}function Ib(n){if(n!==pa)return!1;if(!Ei)return l5(n),Ei=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!fF(n.type,n.memoizedProps)),e&&(e=oa)){if(vF(n))throw KY(),Error(xt(418));for(;e;)JY(n,e),e=vf(e.nextSibling)}if(l5(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(xt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){oa=vf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}oa=null}}else oa=pa?vf(n.stateNode.nextSibling):null;return!0}function KY(){for(var n=oa;n;)n=vf(n.nextSibling)}function wx(){oa=pa=null,Ei=!1}function Pk(n){Ql===null?Ql=[n]:Ql.push(n)}var nhe=td.ReactCurrentBatchConfig;function U_(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(xt(309));var i=t.stateNode}if(!i)throw Error(xt(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(xt(284));if(!t._owner)throw Error(xt(290,n))}return n}function Lb(n,e){throw n=Object.prototype.toString.call(e),Error(xt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function c5(n){var e=n._init;return e(n._payload)}function YY(n){function e(g,S){if(n){var w=g.deletions;w===null?(g.deletions=[S],g.flags|=16):w.push(S)}}function t(g,S){if(!n)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function i(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function r(g,S){return g=Af(g,S),g.index=0,g.sibling=null,g}function s(g,S,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<S?(g.flags|=2,S):w):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,S,w,b){return S===null||S.tag!==6?(S=PI(w,g.mode,b),S.return=g,S):(S=r(S,w),S.return=g,S)}function l(g,S,w,b){var P=w.type;return P===dy?h(g,S,w.props.children,b,w.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qd&&c5(P)===S.type)?(b=r(S,w.props),b.ref=U_(g,S,w),b.return=g,b):(b=vT(w.type,w.key,w.props,null,g.mode,b),b.ref=U_(g,S,w),b.return=g,b)}function c(g,S,w,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=BI(w,g.mode,b),S.return=g,S):(S=r(S,w.children||[]),S.return=g,S)}function h(g,S,w,b,P){return S===null||S.tag!==7?(S=hg(w,g.mode,b,P),S.return=g,S):(S=r(S,w),S.return=g,S)}function d(g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=PI(""+S,g.mode,w),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sb:return w=vT(S.type,S.key,S.props,null,g.mode,w),w.ref=U_(g,null,S),w.return=g,w;case hy:return S=BI(S,g.mode,w),S.return=g,S;case qd:var b=S._init;return d(g,b(S._payload),w)}if(NA(S)||L_(S))return S=hg(S,g.mode,w,null),S.return=g,S;Lb(g,S)}return null}function p(g,S,w,b){var P=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:a(g,S,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sb:return w.key===P?l(g,S,w,b):null;case hy:return w.key===P?c(g,S,w,b):null;case qd:return P=w._init,p(g,S,P(w._payload),b)}if(NA(w)||L_(w))return P!==null?null:h(g,S,w,b,null);Lb(g,w)}return null}function m(g,S,w,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(S,g,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sb:return g=g.get(b.key===null?w:b.key)||null,l(S,g,b,P);case hy:return g=g.get(b.key===null?w:b.key)||null,c(S,g,b,P);case qd:var T=b._init;return m(g,S,w,T(b._payload),P)}if(NA(b)||L_(b))return g=g.get(w)||null,h(S,g,b,P,null);Lb(S,b)}return null}function v(g,S,w,b){for(var P=null,T=null,B=S,I=S=0,R=null;B!==null&&I<w.length;I++){B.index>I?(R=B,B=null):R=B.sibling;var C=p(g,B,w[I],b);if(C===null){B===null&&(B=R);break}n&&B&&C.alternate===null&&e(g,B),S=s(C,S,I),T===null?P=C:T.sibling=C,T=C,B=R}if(I===w.length)return t(g,B),Ei&&Sm(g,I),P;if(B===null){for(;I<w.length;I++)B=d(g,w[I],b),B!==null&&(S=s(B,S,I),T===null?P=B:T.sibling=B,T=B);return Ei&&Sm(g,I),P}for(B=i(g,B);I<w.length;I++)R=m(B,g,I,w[I],b),R!==null&&(n&&R.alternate!==null&&B.delete(R.key===null?I:R.key),S=s(R,S,I),T===null?P=R:T.sibling=R,T=R);return n&&B.forEach(function(N){return e(g,N)}),Ei&&Sm(g,I),P}function x(g,S,w,b){var P=L_(w);if(typeof P!="function")throw Error(xt(150));if(w=P.call(w),w==null)throw Error(xt(151));for(var T=P=null,B=S,I=S=0,R=null,C=w.next();B!==null&&!C.done;I++,C=w.next()){B.index>I?(R=B,B=null):R=B.sibling;var N=p(g,B,C.value,b);if(N===null){B===null&&(B=R);break}n&&B&&N.alternate===null&&e(g,B),S=s(N,S,I),T===null?P=N:T.sibling=N,T=N,B=R}if(C.done)return t(g,B),Ei&&Sm(g,I),P;if(B===null){for(;!C.done;I++,C=w.next())C=d(g,C.value,b),C!==null&&(S=s(C,S,I),T===null?P=C:T.sibling=C,T=C);return Ei&&Sm(g,I),P}for(B=i(g,B);!C.done;I++,C=w.next())C=m(B,g,I,C.value,b),C!==null&&(n&&C.alternate!==null&&B.delete(C.key===null?I:C.key),S=s(C,S,I),T===null?P=C:T.sibling=C,T=C);return n&&B.forEach(function(j){return e(g,j)}),Ei&&Sm(g,I),P}function y(g,S,w,b){if(typeof w=="object"&&w!==null&&w.type===dy&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Sb:e:{for(var P=w.key,T=S;T!==null;){if(T.key===P){if(P=w.type,P===dy){if(T.tag===7){t(g,T.sibling),S=r(T,w.props.children),S.return=g,g=S;break e}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===qd&&c5(P)===T.type){t(g,T.sibling),S=r(T,w.props),S.ref=U_(g,T,w),S.return=g,g=S;break e}t(g,T);break}else e(g,T);T=T.sibling}w.type===dy?(S=hg(w.props.children,g.mode,b,w.key),S.return=g,g=S):(b=vT(w.type,w.key,w.props,null,g.mode,b),b.ref=U_(g,S,w),b.return=g,g=b)}return o(g);case hy:e:{for(T=w.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){t(g,S.sibling),S=r(S,w.children||[]),S.return=g,g=S;break e}else{t(g,S);break}else e(g,S);S=S.sibling}S=BI(w,g.mode,b),S.return=g,g=S}return o(g);case qd:return T=w._init,y(g,S,T(w._payload),b)}if(NA(w))return v(g,S,w,b);if(L_(w))return x(g,S,w,b);Lb(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(t(g,S.sibling),S=r(S,w),S.return=g,g=S):(t(g,S),S=PI(w,g.mode,b),S.return=g,g=S),o(g)):t(g,S)}return y}var Mx=YY(!0),QY=YY(!1),hR=ep(null),dR=null,_y=null,Bk=null;function Ik(){Bk=_y=dR=null}function Lk(n){var e=hR.current;Ai(hR),n._currentValue=e}function xF(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ix(n,e){dR=n,Bk=_y=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ro=!0),n.firstContext=null)}function _l(n){var e=n._currentValue;if(Bk!==n)if(n={context:n,memoizedValue:e,next:null},_y===null){if(dR===null)throw Error(xt(308));_y=n,dR.dependencies={lanes:0,firstContext:n}}else _y=_y.next=n;return e}var Hm=null;function Dk(n){Hm===null?Hm=[n]:Hm.push(n)}function qY(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Dk(e)):(t.next=r.next,r.next=t),e.interleaved=t,Vh(n,i)}function Vh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var $d=!1;function Fk(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $Y(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ch(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function yf(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,On&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Vh(n,t)}return r=i.interleaved,r===null?(e.next=e,Dk(i)):(e.next=r.next,r.next=e),i.interleaved=e,Vh(n,t)}function hT(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_k(n,t)}}function u5(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function fR(n,e,t,i){var r=n.updateQueue;$d=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,m=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=Ui({},d,p);break e;case 2:$d=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Lg|=o,n.lanes=o,n.memoizedState=d}}function h5(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(xt(191,r));r.call(i)}}}var sM={},Zc=ep(sM),zS=ep(sM),HS=ep(sM);function Gm(n){if(n===sM)throw Error(xt(174));return n}function Nk(n,e){switch(ci(HS,e),ci(zS,n),ci(Zc,sM),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z3(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Z3(e,n)}Ai(Zc),ci(Zc,e)}function bx(){Ai(Zc),Ai(zS),Ai(HS)}function ZY(n){Gm(HS.current);var e=Gm(Zc.current),t=Z3(e,n.type);e!==t&&(ci(zS,n),ci(Zc,t))}function Ok(n){zS.current===n&&(Ai(Zc),Ai(zS))}var Pi=ep(0);function pR(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var MI=[];function Uk(){for(var n=0;n<MI.length;n++)MI[n]._workInProgressVersionPrimary=null;MI.length=0}var dT=td.ReactCurrentDispatcher,bI=td.ReactCurrentBatchConfig,Ig=0,Ni=null,Er=null,Jr=null,mR=!1,eS=!1,GS=0,ihe=0;function Ms(){throw Error(xt(321))}function kk(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!oc(n[t],e[t]))return!1;return!0}function zk(n,e,t,i,r,s){if(Ig=s,Ni=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dT.current=n===null||n.memoizedState===null?ahe:lhe,n=t(i,r),eS){s=0;do{if(eS=!1,GS=0,25<=s)throw Error(xt(301));s+=1,Jr=Er=null,e.updateQueue=null,dT.current=che,n=t(i,r)}while(eS)}if(dT.current=gR,e=Er!==null&&Er.next!==null,Ig=0,Jr=Er=Ni=null,mR=!1,e)throw Error(xt(300));return n}function Hk(){var n=GS!==0;return GS=0,n}function Gc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Ni.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function Al(){if(Er===null){var n=Ni.alternate;n=n!==null?n.memoizedState:null}else n=Er.next;var e=Jr===null?Ni.memoizedState:Jr.next;if(e!==null)Jr=e,Er=n;else{if(n===null)throw Error(xt(310));Er=n,n={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Jr===null?Ni.memoizedState=Jr=n:Jr=Jr.next=n}return Jr}function VS(n,e){return typeof e=="function"?e(n):e}function EI(n){var e=Al(),t=e.queue;if(t===null)throw Error(xt(311));t.lastRenderedReducer=n;var i=Er,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ig&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Ni.lanes|=h,Lg|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,oc(i,e.memoizedState)||(Ro=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Ni.lanes|=s,Lg|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function CI(n){var e=Al(),t=e.queue;if(t===null)throw Error(xt(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);oc(s,e.memoizedState)||(Ro=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function eQ(){}function tQ(n,e){var t=Ni,i=Al(),r=e(),s=!oc(i.memoizedState,r);if(s&&(i.memoizedState=r,Ro=!0),i=i.queue,Gk(rQ.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Jr!==null&&Jr.memoizedState.tag&1){if(t.flags|=2048,jS(9,iQ.bind(null,t,i,r,e),void 0,null),Yr===null)throw Error(xt(349));Ig&30||nQ(t,e,r)}return r}function nQ(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ni.updateQueue,e===null?(e={lastEffect:null,stores:null},Ni.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iQ(n,e,t,i){e.value=t,e.getSnapshot=i,sQ(e)&&oQ(n)}function rQ(n,e,t){return t(function(){sQ(e)&&oQ(n)})}function sQ(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!oc(n,t)}catch{return!0}}function oQ(n){var e=Vh(n,1);e!==null&&tc(e,n,1,-1)}function d5(n){var e=Gc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:VS,lastRenderedState:n},e.queue=n,n=n.dispatch=ohe.bind(null,Ni,n),[e.memoizedState,n]}function jS(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Ni.updateQueue,e===null?(e={lastEffect:null,stores:null},Ni.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function aQ(){return Al().memoizedState}function fT(n,e,t,i){var r=Gc();Ni.flags|=n,r.memoizedState=jS(1|e,t,void 0,i===void 0?null:i)}function j2(n,e,t,i){var r=Al();i=i===void 0?null:i;var s=void 0;if(Er!==null){var o=Er.memoizedState;if(s=o.destroy,i!==null&&kk(i,o.deps)){r.memoizedState=jS(e,t,s,i);return}}Ni.flags|=n,r.memoizedState=jS(1|e,t,s,i)}function f5(n,e){return fT(8390656,8,n,e)}function Gk(n,e){return j2(2048,8,n,e)}function lQ(n,e){return j2(4,2,n,e)}function cQ(n,e){return j2(4,4,n,e)}function uQ(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function hQ(n,e,t){return t=t!=null?t.concat([n]):null,j2(4,4,uQ.bind(null,e,n),t)}function Vk(){}function dQ(n,e){var t=Al();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&kk(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function fQ(n,e){var t=Al();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&kk(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function pQ(n,e,t){return Ig&21?(oc(t,e)||(t=xY(),Ni.lanes|=t,Lg|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ro=!0),n.memoizedState=t)}function rhe(n,e){var t=qn;qn=t!==0&&4>t?t:4,n(!0);var i=bI.transition;bI.transition={};try{n(!1),e()}finally{qn=t,bI.transition=i}}function mQ(){return Al().memoizedState}function she(n,e,t){var i=_f(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},gQ(n))vQ(e,t);else if(t=qY(n,e,t,i),t!==null){var r=ho();tc(t,n,i,r),yQ(t,e,i)}}function ohe(n,e,t){var i=_f(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(gQ(n))vQ(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,oc(a,o)){var l=e.interleaved;l===null?(r.next=r,Dk(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=qY(n,e,r,i),t!==null&&(r=ho(),tc(t,n,i,r),yQ(t,e,i))}}function gQ(n){var e=n.alternate;return n===Ni||e!==null&&e===Ni}function vQ(n,e){eS=mR=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function yQ(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_k(n,t)}}var gR={readContext:_l,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useInsertionEffect:Ms,useLayoutEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useMutableSource:Ms,useSyncExternalStore:Ms,useId:Ms,unstable_isNewReconciler:!1},ahe={readContext:_l,useCallback:function(n,e){return Gc().memoizedState=[n,e===void 0?null:e],n},useContext:_l,useEffect:f5,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fT(4194308,4,uQ.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fT(4194308,4,n,e)},useInsertionEffect:function(n,e){return fT(4,2,n,e)},useMemo:function(n,e){var t=Gc();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Gc();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=she.bind(null,Ni,n),[i.memoizedState,n]},useRef:function(n){var e=Gc();return n={current:n},e.memoizedState=n},useState:d5,useDebugValue:Vk,useDeferredValue:function(n){return Gc().memoizedState=n},useTransition:function(){var n=d5(!1),e=n[0];return n=rhe.bind(null,n[1]),Gc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Ni,r=Gc();if(Ei){if(t===void 0)throw Error(xt(407));t=t()}else{if(t=e(),Yr===null)throw Error(xt(349));Ig&30||nQ(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,f5(rQ.bind(null,i,s,n),[n]),i.flags|=2048,jS(9,iQ.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Gc(),e=Yr.identifierPrefix;if(Ei){var t=yh,i=vh;t=(i&~(1<<32-ec(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=GS++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ihe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},lhe={readContext:_l,useCallback:dQ,useContext:_l,useEffect:Gk,useImperativeHandle:hQ,useInsertionEffect:lQ,useLayoutEffect:cQ,useMemo:fQ,useReducer:EI,useRef:aQ,useState:function(){return EI(VS)},useDebugValue:Vk,useDeferredValue:function(n){var e=Al();return pQ(e,Er.memoizedState,n)},useTransition:function(){var n=EI(VS)[0],e=Al().memoizedState;return[n,e]},useMutableSource:eQ,useSyncExternalStore:tQ,useId:mQ,unstable_isNewReconciler:!1},che={readContext:_l,useCallback:dQ,useContext:_l,useEffect:Gk,useImperativeHandle:hQ,useInsertionEffect:lQ,useLayoutEffect:cQ,useMemo:fQ,useReducer:CI,useRef:aQ,useState:function(){return CI(VS)},useDebugValue:Vk,useDeferredValue:function(n){var e=Al();return Er===null?e.memoizedState=n:pQ(e,Er.memoizedState,n)},useTransition:function(){var n=CI(VS)[0],e=Al().memoizedState;return[n,e]},useMutableSource:eQ,useSyncExternalStore:tQ,useId:mQ,unstable_isNewReconciler:!1};function jl(n,e){if(n&&n.defaultProps){e=Ui({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function _F(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ui({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var W2={isMounted:function(n){return(n=n._reactInternals)?a0(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ho(),r=_f(n),s=Ch(i,r);s.payload=e,t!=null&&(s.callback=t),e=yf(n,s,r),e!==null&&(tc(e,n,r,i),hT(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ho(),r=_f(n),s=Ch(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=yf(n,s,r),e!==null&&(tc(e,n,r,i),hT(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ho(),i=_f(n),r=Ch(t,i);r.tag=2,e!=null&&(r.callback=e),e=yf(n,r,i),e!==null&&(tc(e,n,i,t),hT(e,n,i))}};function p5(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!NS(t,i)||!NS(r,s):!0}function xQ(n,e,t){var i=!1,r=Of,s=e.contextType;return typeof s=="object"&&s!==null?s=_l(s):(r=Io(e)?Pg:Xs.current,i=e.contextTypes,s=(i=i!=null)?Sx(n,r):Of),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W2,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function m5(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&W2.enqueueReplaceState(e,e.state,null)}function AF(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Fk(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=_l(s):(s=Io(e)?Pg:Xs.current,r.context=Sx(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_F(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&W2.enqueueReplaceState(r,r.state,null),fR(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ex(n,e){try{var t="",i=e;do t+=Oce(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function TI(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function SF(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var uhe=typeof WeakMap=="function"?WeakMap:Map;function _Q(n,e,t){t=Ch(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){yR||(yR=!0,BF=i),SF(n,e)},t}function AQ(n,e,t){t=Ch(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){SF(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){SF(n,e),typeof i!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function g5(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new uhe;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Mhe.bind(null,n,e,t),e.then(n,n))}function v5(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function y5(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ch(-1,1),e.tag=2,yf(t,e,1))),t.lanes|=1),n)}var hhe=td.ReactCurrentOwner,Ro=!1;function so(n,e,t,i){e.child=n===null?QY(e,null,t,i):Mx(e,n.child,t,i)}function x5(n,e,t,i,r){t=t.render;var s=e.ref;return ix(e,r),i=zk(n,e,t,i,s,r),t=Hk(),n!==null&&!Ro?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,jh(n,e,r)):(Ei&&t&&Tk(e),e.flags|=1,so(n,e,i,r),e.child)}function _5(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!qk(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,SQ(n,e,s,i,r)):(n=vT(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:NS,t(o,i)&&n.ref===e.ref)return jh(n,e,r)}return e.flags|=1,n=Af(s,i),n.ref=e.ref,n.return=e,e.child=n}function SQ(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(NS(s,i)&&n.ref===e.ref)if(Ro=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ro=!0);else return e.lanes=n.lanes,jh(n,e,r)}return wF(n,e,t,i,r)}function wQ(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ci(Sy,ea),ea|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ci(Sy,ea),ea|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,ci(Sy,ea),ea|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,ci(Sy,ea),ea|=i;return so(n,e,r,t),e.child}function MQ(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function wF(n,e,t,i,r){var s=Io(t)?Pg:Xs.current;return s=Sx(e,s),ix(e,r),t=zk(n,e,t,i,s,r),i=Hk(),n!==null&&!Ro?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,jh(n,e,r)):(Ei&&i&&Tk(e),e.flags|=1,so(n,e,t,r),e.child)}function A5(n,e,t,i,r){if(Io(t)){var s=!0;lR(e)}else s=!1;if(ix(e,r),e.stateNode===null)pT(n,e),xQ(e,t,i),AF(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=_l(c):(c=Io(t)?Pg:Xs.current,c=Sx(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&m5(e,o,i,c),$d=!1;var p=e.memoizedState;o.state=p,fR(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Bo.current||$d?(typeof h=="function"&&(_F(e,t,h,i),l=e.memoizedState),(a=$d||p5(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,$Y(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:jl(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=_l(l):(l=Io(t)?Pg:Xs.current,l=Sx(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&m5(e,o,i,l),$d=!1,p=e.memoizedState,o.state=p,fR(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||Bo.current||$d?(typeof m=="function"&&(_F(e,t,m,i),v=e.memoizedState),(c=$d||p5(e,t,c,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return MF(n,e,t,i,s,r)}function MF(n,e,t,i,r,s){MQ(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&o5(e,t,!1),jh(n,e,s);i=e.stateNode,hhe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Mx(e,n.child,null,s),e.child=Mx(e,null,a,s)):so(n,e,a,s),e.memoizedState=i.state,r&&o5(e,t,!0),e.child}function bQ(n){var e=n.stateNode;e.pendingContext?s5(n,e.pendingContext,e.pendingContext!==e.context):e.context&&s5(n,e.context,!1),Nk(n,e.containerInfo)}function S5(n,e,t,i,r){return wx(),Pk(r),e.flags|=256,so(n,e,t,i),e.child}var bF={dehydrated:null,treeContext:null,retryLane:0};function EF(n){return{baseLanes:n,cachePool:null,transitions:null}}function EQ(n,e,t){var i=e.pendingProps,r=Pi.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),ci(Pi,r&1),n===null)return yF(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=K2(o,i,0,null),n=hg(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=EF(t),e.memoizedState=bF,n):jk(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return dhe(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Af(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Af(a,s):(s=hg(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?EF(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=bF,i}return s=n.child,n=s.sibling,i=Af(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function jk(n,e){return e=K2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Db(n,e,t,i){return i!==null&&Pk(i),Mx(e,n.child,null,t),n=jk(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function dhe(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=TI(Error(xt(422))),Db(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=K2({mode:"visible",children:i.children},r,0,null),s=hg(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Mx(e,n.child,null,o),e.child.memoizedState=EF(o),e.memoizedState=bF,s);if(!(e.mode&1))return Db(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(xt(419)),i=TI(s,i,void 0),Db(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ro||a){if(i=Yr,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Vh(n,r),tc(i,n,r,-1))}return Qk(),i=TI(Error(xt(421))),Db(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=bhe.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,oa=vf(r.nextSibling),pa=e,Ei=!0,Ql=null,n!==null&&(ol[al++]=vh,ol[al++]=yh,ol[al++]=Bg,vh=n.id,yh=n.overflow,Bg=e),e=jk(e,i.children),e.flags|=4096,e)}function w5(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),xF(n.return,e,t)}function RI(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function CQ(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(so(n,e,i.children,t),i=Pi.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&w5(n,t,e);else if(n.tag===19)w5(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ci(Pi,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&pR(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),RI(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&pR(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}RI(e,!0,t,null,s);break;case"together":RI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pT(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Lg|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(xt(153));if(e.child!==null){for(n=e.child,t=Af(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Af(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function fhe(n,e,t){switch(e.tag){case 3:bQ(e),wx();break;case 5:ZY(e);break;case 1:Io(e.type)&&lR(e);break;case 4:Nk(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ci(hR,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ci(Pi,Pi.current&1),e.flags|=128,null):t&e.child.childLanes?EQ(n,e,t):(ci(Pi,Pi.current&1),n=jh(n,e,t),n!==null?n.sibling:null);ci(Pi,Pi.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return CQ(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ci(Pi,Pi.current),i)break;return null;case 22:case 23:return e.lanes=0,wQ(n,e,t)}return jh(n,e,t)}var TQ,CF,RQ,PQ;TQ=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};CF=function(){};RQ=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Gm(Zc.current);var s=null;switch(t){case"input":r=Y3(n,r),i=Y3(n,i),s=[];break;case"select":r=Ui({},r,{value:void 0}),i=Ui({},i,{value:void 0}),s=[];break;case"textarea":r=$3(n,r),i=$3(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=oR)}eF(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(RS.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(RS.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mi("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};PQ=function(n,e,t,i){t!==i&&(e.flags|=4)};function k_(n,e){if(!Ei)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function bs(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function phe(n,e,t){var i=e.pendingProps;switch(Rk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(e),null;case 1:return Io(e.type)&&aR(),bs(e),null;case 3:return i=e.stateNode,bx(),Ai(Bo),Ai(Xs),Uk(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ib(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ql!==null&&(DF(Ql),Ql=null))),CF(n,e),bs(e),null;case 5:Ok(e);var r=Gm(HS.current);if(t=e.type,n!==null&&e.stateNode!=null)RQ(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(xt(166));return bs(e),null}if(n=Gm(Zc.current),Ib(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Xc]=e,i[kS]=s,n=(e.mode&1)!==0,t){case"dialog":mi("cancel",i),mi("close",i);break;case"iframe":case"object":case"embed":mi("load",i);break;case"video":case"audio":for(r=0;r<UA.length;r++)mi(UA[r],i);break;case"source":mi("error",i);break;case"img":case"image":case"link":mi("error",i),mi("load",i);break;case"details":mi("toggle",i);break;case"input":I9(i,s),mi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},mi("invalid",i);break;case"textarea":D9(i,s),mi("invalid",i)}eF(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bb(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bb(i.textContent,a,n),r=["children",""+a]):RS.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&mi("scroll",i)}switch(t){case"input":wb(i),L9(i,s,!0);break;case"textarea":wb(i),F9(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=oR)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rY(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Xc]=e,n[kS]=i,TQ(n,e,!1,!1),e.stateNode=n;e:{switch(o=tF(t,i),t){case"dialog":mi("cancel",n),mi("close",n),r=i;break;case"iframe":case"object":case"embed":mi("load",n),r=i;break;case"video":case"audio":for(r=0;r<UA.length;r++)mi(UA[r],n);r=i;break;case"source":mi("error",n),r=i;break;case"img":case"image":case"link":mi("error",n),mi("load",n),r=i;break;case"details":mi("toggle",n),r=i;break;case"input":I9(n,i),r=Y3(n,i),mi("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Ui({},i,{value:void 0}),mi("invalid",n);break;case"textarea":D9(n,i),r=$3(n,i),mi("invalid",n);break;default:r=i}eF(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?aY(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sY(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&PS(n,l):typeof l=="number"&&PS(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(RS.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mi("scroll",n):l!=null&&pk(n,s,l,o))}switch(t){case"input":wb(n),L9(n,i,!1);break;case"textarea":wb(n),F9(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Nf(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Zy(n,!!i.multiple,s,!1):i.defaultValue!=null&&Zy(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=oR)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bs(e),null;case 6:if(n&&e.stateNode!=null)PQ(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(xt(166));if(t=Gm(HS.current),Gm(Zc.current),Ib(e)){if(i=e.stateNode,t=e.memoizedProps,i[Xc]=e,(s=i.nodeValue!==t)&&(n=pa,n!==null))switch(n.tag){case 3:Bb(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Bb(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Xc]=e,e.stateNode=i}return bs(e),null;case 13:if(Ai(Pi),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ei&&oa!==null&&e.mode&1&&!(e.flags&128))KY(),wx(),e.flags|=98560,s=!1;else if(s=Ib(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(xt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(xt(317));s[Xc]=e}else wx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bs(e),s=!1}else Ql!==null&&(DF(Ql),Ql=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Pi.current&1?Tr===0&&(Tr=3):Qk())),e.updateQueue!==null&&(e.flags|=4),bs(e),null);case 4:return bx(),CF(n,e),n===null&&OS(e.stateNode.containerInfo),bs(e),null;case 10:return Lk(e.type._context),bs(e),null;case 17:return Io(e.type)&&aR(),bs(e),null;case 19:if(Ai(Pi),s=e.memoizedState,s===null)return bs(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)k_(s,!1);else{if(Tr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=pR(n),o!==null){for(e.flags|=128,k_(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ci(Pi,Pi.current&1|2),e.child}n=n.sibling}s.tail!==null&&ir()>Cx&&(e.flags|=128,i=!0,k_(s,!1),e.lanes=4194304)}else{if(!i)if(n=pR(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),k_(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ei)return bs(e),null}else 2*ir()-s.renderingStartTime>Cx&&t!==1073741824&&(e.flags|=128,i=!0,k_(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ir(),e.sibling=null,t=Pi.current,ci(Pi,i?t&1|2:t&1),e):(bs(e),null);case 22:case 23:return Yk(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ea&1073741824&&(bs(e),e.subtreeFlags&6&&(e.flags|=8192)):bs(e),null;case 24:return null;case 25:return null}throw Error(xt(156,e.tag))}function mhe(n,e){switch(Rk(e),e.tag){case 1:return Io(e.type)&&aR(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return bx(),Ai(Bo),Ai(Xs),Uk(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Ok(e),null;case 13:if(Ai(Pi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(xt(340));wx()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ai(Pi),null;case 4:return bx(),null;case 10:return Lk(e.type._context),null;case 22:case 23:return Yk(),null;case 24:return null;default:return null}}var Fb=!1,Ns=!1,ghe=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Ay(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){ji(n,e,i)}else t.current=null}function BQ(n,e,t){try{t()}catch(i){ji(n,e,i)}}var M5=!1;function vhe(n,e){if(hF=iR,n=FY(),Ck(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(dF={focusedElem:n,selectionRange:t},iR=!1,Dt=e;Dt!==null;)if(e=Dt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Dt=n;else for(;Dt!==null;){e=Dt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:jl(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xt(163))}}catch(b){ji(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Dt=n;break}Dt=e.return}return v=M5,M5=!1,v}function tS(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&BQ(e,t,s)}r=r.next}while(r!==i)}}function X2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function TF(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function IQ(n){var e=n.alternate;e!==null&&(n.alternate=null,IQ(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Xc],delete e[kS],delete e[mF],delete e[Zue],delete e[ehe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function LQ(n){return n.tag===5||n.tag===3||n.tag===4}function b5(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||LQ(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function RF(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=oR));else if(i!==4&&(n=n.child,n!==null))for(RF(n,e,t),n=n.sibling;n!==null;)RF(n,e,t),n=n.sibling}function PF(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(PF(n,e,t),n=n.sibling;n!==null;)PF(n,e,t),n=n.sibling}var cs=null,Kl=!1;function bd(n,e,t){for(t=t.child;t!==null;)DQ(n,e,t),t=t.sibling}function DQ(n,e,t){if($c&&typeof $c.onCommitFiberUnmount=="function")try{$c.onCommitFiberUnmount(U2,t)}catch{}switch(t.tag){case 5:Ns||Ay(t,e);case 6:var i=cs,r=Kl;cs=null,bd(n,e,t),cs=i,Kl=r,cs!==null&&(Kl?(n=cs,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):cs.removeChild(t.stateNode));break;case 18:cs!==null&&(Kl?(n=cs,t=t.stateNode,n.nodeType===8?SI(n.parentNode,t):n.nodeType===1&&SI(n,t),DS(n)):SI(cs,t.stateNode));break;case 4:i=cs,r=Kl,cs=t.stateNode.containerInfo,Kl=!0,bd(n,e,t),cs=i,Kl=r;break;case 0:case 11:case 14:case 15:if(!Ns&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&BQ(t,e,o),r=r.next}while(r!==i)}bd(n,e,t);break;case 1:if(!Ns&&(Ay(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){ji(t,e,a)}bd(n,e,t);break;case 21:bd(n,e,t);break;case 22:t.mode&1?(Ns=(i=Ns)||t.memoizedState!==null,bd(n,e,t),Ns=i):bd(n,e,t);break;default:bd(n,e,t)}}function E5(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ghe),e.forEach(function(i){var r=Ehe.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Nl(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:cs=a.stateNode,Kl=!1;break e;case 3:cs=a.stateNode.containerInfo,Kl=!0;break e;case 4:cs=a.stateNode.containerInfo,Kl=!0;break e}a=a.return}if(cs===null)throw Error(xt(160));DQ(s,o,r),cs=null,Kl=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ji(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FQ(e,n),e=e.sibling}function FQ(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Nl(e,n),zc(n),i&4){try{tS(3,n,n.return),X2(3,n)}catch(x){ji(n,n.return,x)}try{tS(5,n,n.return)}catch(x){ji(n,n.return,x)}}break;case 1:Nl(e,n),zc(n),i&512&&t!==null&&Ay(t,t.return);break;case 5:if(Nl(e,n),zc(n),i&512&&t!==null&&Ay(t,t.return),n.flags&32){var r=n.stateNode;try{PS(r,"")}catch(x){ji(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nY(r,s),tF(a,o);var c=tF(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?aY(r,d):h==="dangerouslySetInnerHTML"?sY(r,d):h==="children"?PS(r,d):pk(r,h,d,c)}switch(a){case"input":Q3(r,s);break;case"textarea":iY(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Zy(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Zy(r,!!s.multiple,s.defaultValue,!0):Zy(r,!!s.multiple,s.multiple?[]:"",!1))}r[kS]=s}catch(x){ji(n,n.return,x)}}break;case 6:if(Nl(e,n),zc(n),i&4){if(n.stateNode===null)throw Error(xt(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){ji(n,n.return,x)}}break;case 3:if(Nl(e,n),zc(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{DS(e.containerInfo)}catch(x){ji(n,n.return,x)}break;case 4:Nl(e,n),zc(n);break;case 13:Nl(e,n),zc(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Jk=ir())),i&4&&E5(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Ns=(c=Ns)||h,Nl(e,n),Ns=c):Nl(e,n),zc(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(Dt=n,h=n.child;h!==null;){for(d=Dt=h;Dt!==null;){switch(p=Dt,m=p.child,p.tag){case 0:case 11:case 14:case 15:tS(4,p,p.return);break;case 1:Ay(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ji(i,t,x)}}break;case 5:Ay(p,p.return);break;case 22:if(p.memoizedState!==null){T5(d);continue}}m!==null?(m.return=p,Dt=m):T5(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oY("display",o))}catch(x){ji(n,n.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){ji(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nl(e,n),zc(n),i&4&&E5(n);break;case 21:break;default:Nl(e,n),zc(n)}}function zc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(LQ(t)){var i=t;break e}t=t.return}throw Error(xt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(PS(r,""),i.flags&=-33);var s=b5(n);PF(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=b5(n);RF(n,a,o);break;default:throw Error(xt(161))}}catch(l){ji(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function yhe(n,e,t){Dt=n,NQ(n)}function NQ(n,e,t){for(var i=(n.mode&1)!==0;Dt!==null;){var r=Dt,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Fb;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ns;a=Fb;var c=Ns;if(Fb=o,(Ns=l)&&!c)for(Dt=r;Dt!==null;)o=Dt,l=o.child,o.tag===22&&o.memoizedState!==null?R5(r):l!==null?(l.return=o,Dt=l):R5(r);for(;s!==null;)Dt=s,NQ(s),s=s.sibling;Dt=r,Fb=a,Ns=c}C5(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Dt=s):C5(n)}}function C5(n){for(;Dt!==null;){var e=Dt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ns||X2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ns)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:jl(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&h5(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}h5(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&DS(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xt(163))}Ns||e.flags&512&&TF(e)}catch(p){ji(e,e.return,p)}}if(e===n){Dt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Dt=t;break}Dt=e.return}}function T5(n){for(;Dt!==null;){var e=Dt;if(e===n){Dt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Dt=t;break}Dt=e.return}}function R5(n){for(;Dt!==null;){var e=Dt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{X2(4,e)}catch(l){ji(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ji(e,r,l)}}var s=e.return;try{TF(e)}catch(l){ji(e,s,l)}break;case 5:var o=e.return;try{TF(e)}catch(l){ji(e,o,l)}}}catch(l){ji(e,e.return,l)}if(e===n){Dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Dt=a;break}Dt=e.return}}var xhe=Math.ceil,vR=td.ReactCurrentDispatcher,Wk=td.ReactCurrentOwner,yl=td.ReactCurrentBatchConfig,On=0,Yr=null,mr=null,ms=0,ea=0,Sy=ep(0),Tr=0,WS=null,Lg=0,J2=0,Xk=0,nS=null,Co=null,Jk=0,Cx=1/0,sh=null,yR=!1,BF=null,xf=null,Nb=!1,hf=null,xR=0,iS=0,IF=null,mT=-1,gT=0;function ho(){return On&6?ir():mT!==-1?mT:mT=ir()}function _f(n){return n.mode&1?On&2&&ms!==0?ms&-ms:nhe.transition!==null?(gT===0&&(gT=xY()),gT):(n=qn,n!==0||(n=window.event,n=n===void 0?16:EY(n.type)),n):1}function tc(n,e,t,i){if(50<iS)throw iS=0,IF=null,Error(xt(185));nM(n,t,i),(!(On&2)||n!==Yr)&&(n===Yr&&(!(On&2)&&(J2|=t),Tr===4&&sf(n,ms)),Lo(n,i),t===1&&On===0&&!(e.mode&1)&&(Cx=ir()+500,V2&&tp()))}function Lo(n,e){var t=n.callbackNode;nue(n,e);var i=nR(n,n===Yr?ms:0);if(i===0)t!==null&&U9(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&U9(t),e===1)n.tag===0?the(P5.bind(null,n)):WY(P5.bind(null,n)),que(function(){!(On&6)&&tp()}),t=null;else{switch(_Y(i)){case 1:t=xk;break;case 4:t=vY;break;case 16:t=tR;break;case 536870912:t=yY;break;default:t=tR}t=jQ(t,OQ.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function OQ(n,e){if(mT=-1,gT=0,On&6)throw Error(xt(327));var t=n.callbackNode;if(rx()&&n.callbackNode!==t)return null;var i=nR(n,n===Yr?ms:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=_R(n,i);else{e=i;var r=On;On|=2;var s=kQ();(Yr!==n||ms!==e)&&(sh=null,Cx=ir()+500,ug(n,e));do try{She();break}catch(a){UQ(n,a)}while(!0);Ik(),vR.current=s,On=r,mr!==null?e=0:(Yr=null,ms=0,e=Tr)}if(e!==0){if(e===2&&(r=oF(n),r!==0&&(i=r,e=LF(n,r))),e===1)throw t=WS,ug(n,0),sf(n,i),Lo(n,ir()),t;if(e===6)sf(n,i);else{if(r=n.current.alternate,!(i&30)&&!_he(r)&&(e=_R(n,i),e===2&&(s=oF(n),s!==0&&(i=s,e=LF(n,s))),e===1))throw t=WS,ug(n,0),sf(n,i),Lo(n,ir()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(xt(345));case 2:wm(n,Co,sh);break;case 3:if(sf(n,i),(i&130023424)===i&&(e=Jk+500-ir(),10<e)){if(nR(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ho(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=pF(wm.bind(null,n,Co,sh),e);break}wm(n,Co,sh);break;case 4:if(sf(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ec(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ir()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xhe(i/1960))-i,10<i){n.timeoutHandle=pF(wm.bind(null,n,Co,sh),i);break}wm(n,Co,sh);break;case 5:wm(n,Co,sh);break;default:throw Error(xt(329))}}}return Lo(n,ir()),n.callbackNode===t?OQ.bind(null,n):null}function LF(n,e){var t=nS;return n.current.memoizedState.isDehydrated&&(ug(n,e).flags|=256),n=_R(n,e),n!==2&&(e=Co,Co=t,e!==null&&DF(e)),n}function DF(n){Co===null?Co=n:Co.push.apply(Co,n)}function _he(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!oc(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sf(n,e){for(e&=~Xk,e&=~J2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ec(e),i=1<<t;n[t]=-1,e&=~i}}function P5(n){if(On&6)throw Error(xt(327));rx();var e=nR(n,0);if(!(e&1))return Lo(n,ir()),null;var t=_R(n,e);if(n.tag!==0&&t===2){var i=oF(n);i!==0&&(e=i,t=LF(n,i))}if(t===1)throw t=WS,ug(n,0),sf(n,e),Lo(n,ir()),t;if(t===6)throw Error(xt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,wm(n,Co,sh),Lo(n,ir()),null}function Kk(n,e){var t=On;On|=1;try{return n(e)}finally{On=t,On===0&&(Cx=ir()+500,V2&&tp())}}function Dg(n){hf!==null&&hf.tag===0&&!(On&6)&&rx();var e=On;On|=1;var t=yl.transition,i=qn;try{if(yl.transition=null,qn=1,n)return n()}finally{qn=i,yl.transition=t,On=e,!(On&6)&&tp()}}function Yk(){ea=Sy.current,Ai(Sy)}function ug(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Que(t)),mr!==null)for(t=mr.return;t!==null;){var i=t;switch(Rk(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&aR();break;case 3:bx(),Ai(Bo),Ai(Xs),Uk();break;case 5:Ok(i);break;case 4:bx();break;case 13:Ai(Pi);break;case 19:Ai(Pi);break;case 10:Lk(i.type._context);break;case 22:case 23:Yk()}t=t.return}if(Yr=n,mr=n=Af(n.current,null),ms=ea=e,Tr=0,WS=null,Xk=J2=Lg=0,Co=nS=null,Hm!==null){for(e=0;e<Hm.length;e++)if(t=Hm[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Hm=null}return n}function UQ(n,e){do{var t=mr;try{if(Ik(),dT.current=gR,mR){for(var i=Ni.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}mR=!1}if(Ig=0,Jr=Er=Ni=null,eS=!1,GS=0,Wk.current=null,t===null||t.return===null){Tr=1,WS=e,mr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ms,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=v5(o);if(m!==null){m.flags&=-257,y5(m,o,a,s,e),m.mode&1&&g5(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){g5(s,c,e),Qk();break e}l=Error(xt(426))}}else if(Ei&&a.mode&1){var y=v5(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),y5(y,o,a,s,e),Pk(Ex(l,a));break e}}s=l=Ex(l,a),Tr!==4&&(Tr=2),nS===null?nS=[s]:nS.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_Q(s,l,e);u5(s,g);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xf===null||!xf.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=AQ(s,a,e);u5(s,b);break e}}s=s.return}while(s!==null)}HQ(t)}catch(P){e=P,mr===t&&t!==null&&(mr=t=t.return);continue}break}while(!0)}function kQ(){var n=vR.current;return vR.current=gR,n===null?gR:n}function Qk(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Yr===null||!(Lg&268435455)&&!(J2&268435455)||sf(Yr,ms)}function _R(n,e){var t=On;On|=2;var i=kQ();(Yr!==n||ms!==e)&&(sh=null,ug(n,e));do try{Ahe();break}catch(r){UQ(n,r)}while(!0);if(Ik(),On=t,vR.current=i,mr!==null)throw Error(xt(261));return Yr=null,ms=0,Tr}function Ahe(){for(;mr!==null;)zQ(mr)}function She(){for(;mr!==null&&!Jce();)zQ(mr)}function zQ(n){var e=VQ(n.alternate,n,ea);n.memoizedProps=n.pendingProps,e===null?HQ(n):mr=e,Wk.current=null}function HQ(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=mhe(t,e),t!==null){t.flags&=32767,mr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tr=6,mr=null;return}}else if(t=phe(t,e,ea),t!==null){mr=t;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=n}while(e!==null);Tr===0&&(Tr=5)}function wm(n,e,t){var i=qn,r=yl.transition;try{yl.transition=null,qn=1,whe(n,e,t,i)}finally{yl.transition=r,qn=i}return null}function whe(n,e,t,i){do rx();while(hf!==null);if(On&6)throw Error(xt(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(xt(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(iue(n,s),n===Yr&&(mr=Yr=null,ms=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Nb||(Nb=!0,jQ(tR,function(){return rx(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=yl.transition,yl.transition=null;var o=qn;qn=1;var a=On;On|=4,Wk.current=null,vhe(n,t),FQ(t,n),Vue(dF),iR=!!hF,dF=hF=null,n.current=t,yhe(t),Kce(),On=a,qn=o,yl.transition=s}else n.current=t;if(Nb&&(Nb=!1,hf=n,xR=r),s=n.pendingLanes,s===0&&(xf=null),qce(t.stateNode),Lo(n,ir()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(yR)throw yR=!1,n=BF,BF=null,n;return xR&1&&n.tag!==0&&rx(),s=n.pendingLanes,s&1?n===IF?iS++:(iS=0,IF=n):iS=0,tp(),null}function rx(){if(hf!==null){var n=_Y(xR),e=yl.transition,t=qn;try{if(yl.transition=null,qn=16>n?16:n,hf===null)var i=!1;else{if(n=hf,hf=null,xR=0,On&6)throw Error(xt(331));var r=On;for(On|=4,Dt=n.current;Dt!==null;){var s=Dt,o=s.child;if(Dt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Dt=c;Dt!==null;){var h=Dt;switch(h.tag){case 0:case 11:case 15:tS(8,h,s)}var d=h.child;if(d!==null)d.return=h,Dt=d;else for(;Dt!==null;){h=Dt;var p=h.sibling,m=h.return;if(IQ(h),h===c){Dt=null;break}if(p!==null){p.return=m,Dt=p;break}Dt=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Dt=o;else e:for(;Dt!==null;){if(s=Dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tS(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Dt=g;break e}Dt=s.return}}var S=n.current;for(Dt=S;Dt!==null;){o=Dt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Dt=w;else e:for(o=S;Dt!==null;){if(a=Dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:X2(9,a)}}catch(P){ji(a,a.return,P)}if(a===o){Dt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Dt=b;break e}Dt=a.return}}if(On=r,tp(),$c&&typeof $c.onPostCommitFiberRoot=="function")try{$c.onPostCommitFiberRoot(U2,n)}catch{}i=!0}return i}finally{qn=t,yl.transition=e}}return!1}function B5(n,e,t){e=Ex(t,e),e=_Q(n,e,1),n=yf(n,e,1),e=ho(),n!==null&&(nM(n,1,e),Lo(n,e))}function ji(n,e,t){if(n.tag===3)B5(n,n,t);else for(;e!==null;){if(e.tag===3){B5(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xf===null||!xf.has(i))){n=Ex(t,n),n=AQ(e,n,1),e=yf(e,n,1),n=ho(),e!==null&&(nM(e,1,n),Lo(e,n));break}}e=e.return}}function Mhe(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ho(),n.pingedLanes|=n.suspendedLanes&t,Yr===n&&(ms&t)===t&&(Tr===4||Tr===3&&(ms&130023424)===ms&&500>ir()-Jk?ug(n,0):Xk|=t),Lo(n,e)}function GQ(n,e){e===0&&(n.mode&1?(e=Eb,Eb<<=1,!(Eb&130023424)&&(Eb=4194304)):e=1);var t=ho();n=Vh(n,e),n!==null&&(nM(n,e,t),Lo(n,t))}function bhe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),GQ(n,t)}function Ehe(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(xt(314))}i!==null&&i.delete(e),GQ(n,t)}var VQ;VQ=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Bo.current)Ro=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ro=!1,fhe(n,e,t);Ro=!!(n.flags&131072)}else Ro=!1,Ei&&e.flags&1048576&&XY(e,uR,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;pT(n,e),n=e.pendingProps;var r=Sx(e,Xs.current);ix(e,t),r=zk(null,e,i,n,r,t);var s=Hk();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Io(i)?(s=!0,lR(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Fk(e),r.updater=W2,e.stateNode=r,r._reactInternals=e,AF(e,i,n,t),e=MF(null,e,i,!0,s,t)):(e.tag=0,Ei&&s&&Tk(e),so(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(pT(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=The(i),n=jl(i,n),r){case 0:e=wF(null,e,i,n,t);break e;case 1:e=A5(null,e,i,n,t);break e;case 11:e=x5(null,e,i,n,t);break e;case 14:e=_5(null,e,i,jl(i.type,n),t);break e}throw Error(xt(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:jl(i,r),wF(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:jl(i,r),A5(n,e,i,r,t);case 3:e:{if(bQ(e),n===null)throw Error(xt(387));i=e.pendingProps,s=e.memoizedState,r=s.element,$Y(n,e),fR(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ex(Error(xt(423)),e),e=S5(n,e,i,t,r);break e}else if(i!==r){r=Ex(Error(xt(424)),e),e=S5(n,e,i,t,r);break e}else for(oa=vf(e.stateNode.containerInfo.firstChild),pa=e,Ei=!0,Ql=null,t=QY(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(wx(),i===r){e=jh(n,e,t);break e}so(n,e,i,t)}e=e.child}return e;case 5:return ZY(e),n===null&&yF(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,fF(i,r)?o=null:s!==null&&fF(i,s)&&(e.flags|=32),MQ(n,e),so(n,e,o,t),e.child;case 6:return n===null&&yF(e),null;case 13:return EQ(n,e,t);case 4:return Nk(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Mx(e,null,i,t):so(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:jl(i,r),x5(n,e,i,r,t);case 7:return so(n,e,e.pendingProps,t),e.child;case 8:return so(n,e,e.pendingProps.children,t),e.child;case 12:return so(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ci(hR,i._currentValue),i._currentValue=o,s!==null)if(oc(s.value,o)){if(s.children===r.children&&!Bo.current){e=jh(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ch(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),xF(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(xt(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),xF(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}so(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ix(e,t),r=_l(r),i=i(r),e.flags|=1,so(n,e,i,t),e.child;case 14:return i=e.type,r=jl(i,e.pendingProps),r=jl(i.type,r),_5(n,e,i,r,t);case 15:return SQ(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:jl(i,r),pT(n,e),e.tag=1,Io(i)?(n=!0,lR(e)):n=!1,ix(e,t),xQ(e,i,r),AF(e,i,r,t),MF(null,e,i,!0,n,t);case 19:return CQ(n,e,t);case 22:return wQ(n,e,t)}throw Error(xt(156,e.tag))};function jQ(n,e){return gY(n,e)}function Che(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dl(n,e,t,i){return new Che(n,e,t,i)}function qk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function The(n){if(typeof n=="function")return qk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===gk)return 11;if(n===vk)return 14}return 2}function Af(n,e){var t=n.alternate;return t===null?(t=dl(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vT(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")qk(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case dy:return hg(t.children,r,s,e);case mk:o=8,r|=8;break;case W3:return n=dl(12,t,e,r|2),n.elementType=W3,n.lanes=s,n;case X3:return n=dl(13,t,e,r),n.elementType=X3,n.lanes=s,n;case J3:return n=dl(19,t,e,r),n.elementType=J3,n.lanes=s,n;case ZK:return K2(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case qK:o=10;break e;case $K:o=9;break e;case gk:o=11;break e;case vk:o=14;break e;case qd:o=16,i=null;break e}throw Error(xt(130,n==null?n:typeof n,""))}return e=dl(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function hg(n,e,t,i){return n=dl(7,n,i,e),n.lanes=t,n}function K2(n,e,t,i){return n=dl(22,n,i,e),n.elementType=ZK,n.lanes=t,n.stateNode={isHidden:!1},n}function PI(n,e,t){return n=dl(6,n,null,e),n.lanes=t,n}function BI(n,e,t){return e=dl(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Rhe(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hI(0),this.expirationTimes=hI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hI(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $k(n,e,t,i,r,s,o,a,l){return n=new Rhe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dl(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fk(s),n}function Phe(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hy,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function WQ(n){if(!n)return Of;n=n._reactInternals;e:{if(a0(n)!==n||n.tag!==1)throw Error(xt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Io(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xt(171))}if(n.tag===1){var t=n.type;if(Io(t))return jY(n,t,e)}return e}function XQ(n,e,t,i,r,s,o,a,l){return n=$k(t,i,!0,n,r,s,o,a,l),n.context=WQ(null),t=n.current,i=ho(),r=_f(t),s=Ch(i,r),s.callback=e??null,yf(t,s,r),n.current.lanes=r,nM(n,r,i),Lo(n,i),n}function Y2(n,e,t,i){var r=e.current,s=ho(),o=_f(r);return t=WQ(t),e.context===null?e.context=t:e.pendingContext=t,e=Ch(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=yf(r,e,o),n!==null&&(tc(n,r,o,s),hT(n,r,o)),o}function AR(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function I5(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Zk(n,e){I5(n,e),(n=n.alternate)&&I5(n,e)}function Bhe(){return null}var JQ=typeof reportError=="function"?reportError:function(n){console.error(n)};function e4(n){this._internalRoot=n}Q2.prototype.render=e4.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(xt(409));Y2(n,e,null,null)};Q2.prototype.unmount=e4.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Dg(function(){Y2(null,n,null,null)}),e[Gh]=null}};function Q2(n){this._internalRoot=n}Q2.prototype.unstable_scheduleHydration=function(n){if(n){var e=wY();n={blockedOn:null,target:n,priority:e};for(var t=0;t<rf.length&&e!==0&&e<rf[t].priority;t++);rf.splice(t,0,n),t===0&&bY(n)}};function t4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function q2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function L5(){}function Ihe(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=AR(o);s.call(c)}}var o=XQ(e,i,n,0,null,!1,!1,"",L5);return n._reactRootContainer=o,n[Gh]=o.current,OS(n.nodeType===8?n.parentNode:n),Dg(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=AR(l);a.call(c)}}var l=$k(n,0,!1,null,null,!1,!1,"",L5);return n._reactRootContainer=l,n[Gh]=l.current,OS(n.nodeType===8?n.parentNode:n),Dg(function(){Y2(e,l,t,i)}),l}function $2(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=AR(o);a.call(l)}}Y2(e,o,n,r)}else o=Ihe(t,e,n,r,i);return AR(o)}AY=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=OA(e.pendingLanes);t!==0&&(_k(e,t|1),Lo(e,ir()),!(On&6)&&(Cx=ir()+500,tp()))}break;case 13:Dg(function(){var i=Vh(n,1);if(i!==null){var r=ho();tc(i,n,1,r)}}),Zk(n,1)}};Ak=function(n){if(n.tag===13){var e=Vh(n,134217728);if(e!==null){var t=ho();tc(e,n,134217728,t)}Zk(n,134217728)}};SY=function(n){if(n.tag===13){var e=_f(n),t=Vh(n,e);if(t!==null){var i=ho();tc(t,n,e,i)}Zk(n,e)}};wY=function(){return qn};MY=function(n,e){var t=qn;try{return qn=n,e()}finally{qn=t}};iF=function(n,e,t){switch(e){case"input":if(Q3(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=G2(i);if(!r)throw Error(xt(90));tY(i),Q3(i,r)}}}break;case"textarea":iY(n,t);break;case"select":e=t.value,e!=null&&Zy(n,!!t.multiple,e,!1)}};uY=Kk;hY=Dg;var Lhe={usingClientEntryPoint:!1,Events:[rM,gy,G2,lY,cY,Kk]},z_={findFiberByHostInstance:zm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dhe={bundleType:z_.bundleType,version:z_.version,rendererPackageName:z_.rendererPackageName,rendererConfig:z_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:td.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=pY(n),n===null?null:n.stateNode},findFiberByHostInstance:z_.findFiberByHostInstance||Bhe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{U2=Ob.inject(Dhe),$c=Ob}catch{}}Ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lhe;Ra.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t4(e))throw Error(xt(200));return Phe(n,e,null,t)};Ra.createRoot=function(n,e){if(!t4(n))throw Error(xt(299));var t=!1,i="",r=JQ;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=$k(n,1,!1,null,null,t,!1,i,r),n[Gh]=e.current,OS(n.nodeType===8?n.parentNode:n),new e4(e)};Ra.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(xt(188)):(n=Object.keys(n).join(","),Error(xt(268,n)));return n=pY(e),n=n===null?null:n.stateNode,n};Ra.flushSync=function(n){return Dg(n)};Ra.hydrate=function(n,e,t){if(!q2(e))throw Error(xt(200));return $2(null,n,e,!0,t)};Ra.hydrateRoot=function(n,e,t){if(!t4(n))throw Error(xt(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=JQ;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=XQ(e,null,n,1,t??null,r,!1,s,o),n[Gh]=e.current,OS(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Q2(e)};Ra.render=function(n,e,t){if(!q2(e))throw Error(xt(200));return $2(null,n,e,!1,t)};Ra.unmountComponentAtNode=function(n){if(!q2(n))throw Error(xt(40));return n._reactRootContainer?(Dg(function(){$2(null,null,n,!1,function(){n._reactRootContainer=null,n[Gh]=null})}),!0):!1};Ra.unstable_batchedUpdates=Kk;Ra.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!q2(t))throw Error(xt(200));if(n==null||n._reactInternals===void 0)throw Error(xt(38));return $2(n,e,t,!1,i)};Ra.version="18.3.1-next-f1338f8080-20240426";function KQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KQ)}catch(n){console.error(n)}}KQ(),JK.exports=Ra;var Fhe=JK.exports,YQ,D5=Fhe;YQ=V3.createRoot=D5.createRoot,V3.hydrateRoot=D5.hydrateRoot;/**
* @remix-run/router v1.16.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function XS(){return XS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XS.apply(this,arguments)}var Vm;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Vm||(Vm={}));const F5="popstate";function Nhe(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return FF("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:SR(r)}return Uhe(e,t,null,n)}function nc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ohe(){return Math.random().toString(36).substr(2,8)}function N5(n,e){return{usr:n.state,key:n.key,idx:e}}function FF(n,e,t,i){return t===void 0&&(t=null),XS({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Z2(e):e,{state:t,key:e&&e.key||i||Ohe()})}function SR(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Z2(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Uhe(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Vm.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(XS({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Vm.Pop;let y=h(),g=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:g})}function p(y,g){a=Vm.Push;let S=FF(x.location,y,g);c=h()+1;let w=N5(S,c),b=x.createHref(S);try{o.pushState(w,"",b)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(b)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,g){a=Vm.Replace;let S=FF(x.location,y,g);c=h();let w=N5(S,c),b=x.createHref(S);o.replaceState(w,"",b),s&&l&&l({action:a,location:x.location,delta:0})}function v(y){let g=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof y=="string"?y:SR(y);return S=S.replace(/ $/,"%20"),nc(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let x={get action(){return a},get location(){return n(r,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(F5,d),l=y,()=>{r.removeEventListener(F5,d),l=null}},createHref(y){return e(r,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return o.go(y)}};return x}var O5;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(O5||(O5={}));function QQ(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function khe(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Z2(n):n;return{pathname:t?t.startsWith("/")?t:zhe(t,e):e,search:Ghe(i),hash:Vhe(r)}}function zhe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function II(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hhe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qQ(n,e){let t=Hhe(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function $Q(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Z2(n):(r=XS({},n),nc(!r.pathname||!r.pathname.includes("?"),II("?","pathname","search",r)),nc(!r.pathname||!r.pathname.includes("#"),II("#","pathname","hash",r)),nc(!r.search||!r.search.includes("#"),II("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=khe(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ZQ=n=>n.join("/").replace(/\/\/+/g,"/"),Ghe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Vhe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,eq=["post","put","patch","delete"];new Set(eq);const jhe=["get",...eq];new Set(jhe);/**
* React Router v6.23.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function wR(){return wR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wR.apply(this,arguments)}const tq=ue.createContext(null),a1=ue.createContext(null),n4=ue.createContext(null),eP=ue.createContext({outlet:null,matches:[],isDataRoute:!1});function Whe(n,e){let{relative:t}=e===void 0?{}:e;tP()||nc(!1);let{basename:i,navigator:r}=ue.useContext(a1),{hash:s,pathname:o,search:a}=iq(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:ZQ([i,o])),r.createHref({pathname:l,search:a,hash:s})}function tP(){return ue.useContext(n4)!=null}function i4(){return tP()||nc(!1),ue.useContext(n4).location}function nq(n){ue.useContext(a1).static||ue.useLayoutEffect(n)}function Xhe(){let{isDataRoute:n}=ue.useContext(eP);return n?qhe():Jhe()}function Jhe(){tP()||nc(!1);let n=ue.useContext(tq),{basename:e,future:t,navigator:i}=ue.useContext(a1),{matches:r}=ue.useContext(eP),{pathname:s}=i4(),o=JSON.stringify(qQ(r,t.v7_relativeSplatPath)),a=ue.useRef(!1);return nq(()=>{a.current=!0}),ue.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){i.go(l);return}let h=$Q(l,JSON.parse(o),s,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ZQ([e,h.pathname])),(c.replace?i.replace:i.push)(h,c.state,c)},[e,i,o,s,n])}function iq(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=ue.useContext(a1),{matches:r}=ue.useContext(eP),{pathname:s}=i4(),o=JSON.stringify(qQ(r,i.v7_relativeSplatPath));return ue.useMemo(()=>$Q(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}var rq=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(rq||{}),sq=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(sq||{});function Khe(n){let e=ue.useContext(tq);return e||nc(!1),e}function Yhe(n){let e=ue.useContext(eP);return e||nc(!1),e}function Qhe(n){let e=Yhe(),t=e.matches[e.matches.length-1];return t.route.id||nc(!1),t.route.id}function qhe(){let{router:n}=Khe(rq.UseNavigateStable),e=Qhe(sq.UseNavigateStable),t=ue.useRef(!1);return nq(()=>{t.current=!0}),ue.useCallback(function(i,r){r===void 0&&(r={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,wR({fromRouteId:e},r)))},[n,e])}function $he(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Vm.Pop,navigator:s,static:o=!1,future:a}=n;tP()&&nc(!1);let l=e.replace(/^\/*/,"/"),c=ue.useMemo(()=>({basename:l,navigator:s,static:o,future:wR({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Z2(i));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:v="default"}=i,x=ue.useMemo(()=>{let y=QQ(h,l);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:v},navigationType:r}},[l,h,d,p,m,v,r]);return x==null?null:ue.createElement(a1.Provider,{value:c},ue.createElement(n4.Provider,{children:t,value:x}))}new Promise(()=>{});/**
* React Router DOM v6.23.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function NF(){return NF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},NF.apply(this,arguments)}function Zhe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function ede(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tde(n,e){return n.button===0&&(!e||e==="_self")&&!ede(n)}const nde=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ide="6";try{window.__reactRouterVersion=ide}catch{}const rde="startTransition",U5=Mce[rde];function sde(n){let{basename:e,children:t,future:i,window:r}=n,s=ue.useRef();s.current==null&&(s.current=Nhe({window:r,v5Compat:!0}));let o=s.current,[a,l]=ue.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=ue.useCallback(d=>{c&&U5?U5(()=>l(d)):l(d)},[l,c]);return ue.useLayoutEffect(()=>o.listen(h),[o,h]),ue.createElement($he,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const ode=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ade=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lde=ue.forwardRef(function(n,e){let{onClick:t,relative:i,reloadDocument:r,replace:s,state:o,target:a,to:l,preventScrollReset:c,unstable_viewTransition:h}=n,d=Zhe(n,nde),{basename:p}=ue.useContext(a1),m,v=!1;if(typeof l=="string"&&ade.test(l)&&(m=l,ode))try{let S=new URL(window.location.href),w=l.startsWith("//")?new URL(S.protocol+l):new URL(l),b=QQ(w.pathname,p);w.origin===S.origin&&b!=null?l=b+w.search+w.hash:v=!0}catch{}let x=Whe(l,{relative:i}),y=cde(l,{replace:s,state:o,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:h});function g(S){t&&t(S),S.defaultPrevented||y(S)}return ue.createElement("a",NF({},d,{href:m||x,onClick:v||r?t:g,ref:e,target:a}))});var k5;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(k5||(k5={}));var z5;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(z5||(z5={}));function cde(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Xhe(),c=i4(),h=iq(n,{relative:o});return ue.useCallback(d=>{if(tde(d,t)){d.preventDefault();let p=i!==void 0?i:SR(c)===SR(h);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,i,r,t,n,s,o,a])}/**
* @license
* Copyright 2010-2024 Three.js Authors
* SPDX-License-Identifier: MIT
*/const l1="165",Mm={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},bm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},oq=0,OF=1,aq=2,ude=3,lq=0,nP=1,rS=2,Wl=3,lu=0,fo=1,ul=2,Th=0,dg=1,UF=2,kF=3,zF=4,cq=5,of=100,uq=101,hq=102,dq=103,fq=104,pq=200,mq=201,gq=202,vq=203,MR=204,bR=205,yq=206,xq=207,_q=208,Aq=209,Sq=210,wq=211,Mq=212,bq=213,Eq=214,Cq=0,Tq=1,Rq=2,JS=3,Pq=4,Bq=5,Iq=6,Lq=7,oM=0,Dq=1,Fq=2,eu=0,Nq=1,Oq=2,Uq=3,r4=4,kq=5,zq=6,Hq=7,HF="attached",Gq="detached",iP=300,Wh=301,Uf=302,KS=303,YS=304,c1=306,kf=1e3,aa=1001,Tx=1002,Rr=1003,rP=1004,hde=1004,jm=1005,dde=1005,Ki=1006,sx=1007,fde=1007,fl=1008,pde=1008,cu=1009,Vq=1010,jq=1011,QS=1012,s4=1013,Fg=1014,la=1015,aM=1016,o4=1017,a4=1018,Ng=1020,Wq=35902,Xq=1021,Jq=1022,co=1023,Kq=1024,Yq=1025,fg=1026,Og=1027,l4=1028,c4=1029,Qq=1030,u4=1031,h4=1033,yT=33776,xT=33777,_T=33778,AT=33779,GF=35840,VF=35841,jF=35842,WF=35843,XF=36196,JF=37492,KF=37496,YF=37808,QF=37809,qF=37810,$F=37811,ZF=37812,eN=37813,tN=37814,nN=37815,iN=37816,rN=37817,sN=37818,oN=37819,aN=37820,lN=37821,ST=36492,cN=36494,uN=36495,qq=36283,hN=36284,dN=36285,fN=36286,$q=2200,Zq=2201,e$=2202,Rx=2300,Px=2301,wT=2302,Wm=2400,Xm=2401,qS=2402,sP=2500,d4=2501,t$=0,f4=1,ER=2,n$=3200,i$=3201,np=0,r$=1,fh="",rl="srgb",nd="srgb-linear",oP="display-p3",lM="display-p3-linear",$S="linear",ai="srgb",ZS="rec709",ew="p3",mde=0,Em=7680,gde=7681,vde=7682,yde=7683,xde=34055,_de=34056,Ade=5386,Sde=512,wde=513,Mde=514,bde=515,Ede=516,Cde=517,Tde=518,pN=519,s$=512,o$=513,a$=514,p4=515,l$=516,c$=517,u$=518,h$=519,tw=35044,pg=35048,Rde=35040,Pde=35045,Bde=35049,Ide=35041,Lde=35046,Dde=35050,Fde=35042,Nde="100",mN="300 es",Yc=2e3,nw=2001;class yu{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const t=this._listeners[e.type];if(t!==void 0){e.target=this;const i=t.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,e);e.target=null}}}const Es=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let H5=1234567;const mg=Math.PI/180,Bx=180/Math.PI;function ma(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Es[n&255]+Es[n>>8&255]+Es[n>>16&255]+Es[n>>24&255]+"-"+Es[e&255]+Es[e>>8&255]+"-"+Es[e>>16&15|64]+Es[e>>24&255]+"-"+Es[t&63|128]+Es[t>>8&255]+"-"+Es[t>>16&255]+Es[t>>24&255]+Es[i&255]+Es[i>>8&255]+Es[i>>16&255]+Es[i>>24&255]).toLowerCase()}function Xi(n,e,t){return Math.max(e,Math.min(t,n))}function m4(n,e){return(n%e+e)%e}function Ode(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Ude(n,e,t){return n!==e?(t-n)/(e-n):0}function sS(n,e,t){return(1-t)*n+t*e}function kde(n,e,t,i){return sS(n,e,1-Math.exp(-t*i))}function zde(n,e=1){return e-Math.abs(m4(n,e*2)-e)}function Hde(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Gde(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Vde(n,e){return n+Math.floor(Math.random()*(e-n+1))}function jde(n,e){return n+Math.random()*(e-n)}function Wde(n){return n*(.5-Math.random())}function Xde(n){n!==void 0&&(H5=n);let e=H5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Jde(n){return n*mg}function Kde(n){return n*Bx}function Yde(n){return(n&n-1)===0&&n!==0}function Qde(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function qde(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function $de(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*h,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*h,a*c);break;case"XZX":n.set(a*h,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*h,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ao(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function hn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const g4={DEG2RAD:mg,RAD2DEG:Bx,generateUUID:ma,clamp:Xi,euclideanModulo:m4,mapLinear:Ode,inverseLerp:Ude,lerp:sS,damp:kde,pingpong:zde,smoothstep:Hde,smootherstep:Gde,randInt:Vde,randFloat:jde,randFloatSpread:Wde,seededRandom:Xde,degToRad:Jde,radToDeg:Kde,isPowerOfTwo:Yde,ceilPowerOfTwo:Qde,floorPowerOfTwo:qde,setQuaternionFromProperEuler:$de,normalize:hn,denormalize:ao};let it=class d${constructor(e=0,t=0){d$.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Xi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};class cn{constructor(e,t,i,r,s,o,a,l,c){cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],h=i[4],d=i[7],p=i[2],m=i[5],v=i[8],x=r[0],y=r[3],g=r[6],S=r[1],w=r[4],b=r[7],P=r[2],T=r[5],B=r[8];return s[0]=o*x+a*S+l*P,s[3]=o*y+a*w+l*T,s[6]=o*g+a*b+l*B,s[1]=c*x+h*S+d*P,s[4]=c*y+h*w+d*T,s[7]=c*g+h*b+d*B,s[2]=p*x+m*S+v*P,s[5]=p*y+m*w+v*T,s[8]=p*g+m*b+v*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-i*s*h+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=h*o-a*c,p=a*l-h*s,m=c*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(r*c-h*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(h*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(LI.makeScale(e,t)),this}rotate(e){return this.premultiply(LI.makeRotation(-e)),this}translate(e,t){return this.premultiply(LI.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const LI=new cn;function f$(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Zde={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function wy(n,e){return new Zde[n](e)}function iw(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function p$(){const n=iw("canvas");return n.style.display="block",n}const G5={};function v4(n){n in G5||(G5[n]=!0,console.warn(n))}function efe(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}const V5=new cn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),j5=new cn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ub={[nd]:{transfer:$S,primaries:ZS,toReference:n=>n,fromReference:n=>n},[rl]:{transfer:ai,primaries:ZS,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[lM]:{transfer:$S,primaries:ew,toReference:n=>n.applyMatrix3(j5),fromReference:n=>n.applyMatrix3(V5)},[oP]:{transfer:ai,primaries:ew,toReference:n=>n.convertSRGBToLinear().applyMatrix3(j5),fromReference:n=>n.applyMatrix3(V5).convertLinearToSRGB()}},tfe=new Set([nd,lM]),Hn={enabled:!0,_workingColorSpace:nd,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!tfe.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Ub[e].toReference,r=Ub[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Ub[n].primaries},getTransfer:function(n){return n===fh?$S:Ub[n].transfer}};function ox(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function DI(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let dv;class m${static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{dv===void 0&&(dv=iw("canvas")),dv.width=e.width,dv.height=e.height;const i=dv.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=dv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=iw("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ox(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ox(t[i]/255)*255):t[i]=ox(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let nfe=0,Jm=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:nfe++}),this.uuid=ma(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(FI(r[o].image)):s.push(FI(r[o]))}else s=FI(r);i.url=s}return t||(e.images[this.uuid]=i),i}};function FI(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?m$.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ife=0;class ri extends yu{constructor(e=ri.DEFAULT_IMAGE,t=ri.DEFAULT_MAPPING,i=aa,r=aa,s=Ki,o=fl,a=co,l=cu,c=ri.DEFAULT_ANISOTROPY,h=fh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ife++}),this.uuid=ma(),this.name="",this.source=new Jm(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==iP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kf:e.x=e.x-Math.floor(e.x);break;case aa:e.x=e.x<0?0:1;break;case Tx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case kf:e.y=e.y-Math.floor(e.y);break;case aa:e.y=e.y<0?0:1;break;case Tx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ri.DEFAULT_IMAGE=null;ri.DEFAULT_MAPPING=iP;ri.DEFAULT_ANISOTROPY=1;class Yn{constructor(e=0,t=0,i=0,r=1){Yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const o=e.elements,a=o[0],l=o[4],c=o[8],h=o[1],d=o[5],p=o[9],m=o[2],v=o[6],x=o[10];if(Math.abs(l-h)<.01&&Math.abs(c-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(l+h)<.1&&Math.abs(c+m)<.1&&Math.abs(p+v)<.1&&Math.abs(a+d+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const g=(a+1)/2,S=(d+1)/2,w=(x+1)/2,b=(l+h)/4,P=(c+m)/4,T=(p+v)/4;return g>S&&g>w?g<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(g),r=b/i,s=P/i):S>w?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=b/r,s=T/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=P/s,r=T/s),this.set(i,r,s,t),this}let y=Math.sqrt((v-p)*(v-p)+(c-m)*(c-m)+(h-l)*(h-l));return Math.abs(y)<.001&&(y=1),this.x=(v-p)/y,this.y=(c-m)/y,this.z=(h-l)/y,this.w=Math.acos((a+d+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class g$ extends yu{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Yn(0,0,e,t),this.scissorTest=!1,this.viewport=new Yn(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new ri(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Jm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}let ac=class extends g${constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}};class aP extends ri{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Rr,this.minFilter=Rr,this.wrapR=aa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rfe extends ac{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new aP(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class y4 extends ri{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Rr,this.minFilter=Rr,this.wrapR=aa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sfe extends ac{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new y4(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Qr{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=x;return}if(d!==x||l!==p||c!==m||h!==v){let y=1-a;const g=l*p+c*m+h*v+d*x,S=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const P=Math.sqrt(w),T=Math.atan2(P,g*S);y=Math.sin(y*T)/P,a=Math.sin(a*T)/P}const b=a*S;if(l=l*y+p*b,c=c*y+m*b,h=h*y+v*b,d=d*y+x*b,y===1-a){const P=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=P,c*=P,h*=P,d*=P}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*d+l*m-c*p,e[t+1]=l*v+h*p+c*d-a*m,e[t+2]=c*v+h*m+a*p-l*d,e[t+3]=h*v-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"YXZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"ZXY":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"ZYX":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"YZX":this._x=p*h*d+c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d-p*m*v;break;case"XZY":this._x=p*h*d-c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xi(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,h=t._w;return this._x=i*h+o*a+r*c-s*l,this._y=r*h+o*l+s*a-i*c,this._z=s*h+o*c+i*l-r*a,this._w=o*h-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),d=Math.sin((1-t)*h)/c,p=Math.sin(t*h)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}let ce=class v${constructor(e=0,t=0,i=0){v$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(W5.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(W5.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),h=2*(a*t-s*r),d=2*(s*i-o*t);return this.x=t+l*c+o*d-a*h,this.y=i+l*h+a*c-s*d,this.z=r+l*d+s*h-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return NI.copy(this).projectOnVector(e),this.sub(NI)}reflect(e){return this.sub(NI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Xi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const NI=new ce,W5=new Qr;let Gs=class{constructor(e=new ce(1/0,1/0,1/0),t=new ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ol.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ol.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ol.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ol):Ol.fromBufferAttribute(s,o),Ol.applyMatrix4(e.matrixWorld),this.expandByPoint(Ol);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),kb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),kb.copy(i.boundingBox)),kb.applyMatrix4(e.matrixWorld),this.union(kb)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ol),Ol.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(H_),zb.subVectors(this.max,H_),fv.subVectors(e.a,H_),pv.subVectors(e.b,H_),mv.subVectors(e.c,H_),Ed.subVectors(pv,fv),Cd.subVectors(mv,pv),Xp.subVectors(fv,mv);let t=[0,-Ed.z,Ed.y,0,-Cd.z,Cd.y,0,-Xp.z,Xp.y,Ed.z,0,-Ed.x,Cd.z,0,-Cd.x,Xp.z,0,-Xp.x,-Ed.y,Ed.x,0,-Cd.y,Cd.x,0,-Xp.y,Xp.x,0];return!OI(t,fv,pv,mv,zb)||(t=[1,0,0,0,1,0,0,0,1],!OI(t,fv,pv,mv,zb))?!1:(Hb.crossVectors(Ed,Cd),t=[Hb.x,Hb.y,Hb.z],OI(t,fv,pv,mv,zb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ol).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ol).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ju[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ju[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ju[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ju[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ju[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ju[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ju[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ju[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ju),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const Ju=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],Ol=new ce,kb=new Gs,fv=new ce,pv=new ce,mv=new ce,Ed=new ce,Cd=new ce,Xp=new ce,H_=new ce,zb=new ce,Hb=new ce,Jp=new ce;function OI(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Jp.fromArray(n,s);const a=r.x*Math.abs(Jp.x)+r.y*Math.abs(Jp.y)+r.z*Math.abs(Jp.z),l=e.dot(Jp),c=t.dot(Jp),h=i.dot(Jp);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const ofe=new Gs,G_=new ce,UI=new ce;let gs=class{constructor(e=new ce,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):ofe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;G_.subVectors(e,this.center);const t=G_.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(G_,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(UI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(G_.copy(e.center).add(UI)),this.expandByPoint(G_.copy(e.center).sub(UI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Ku=new ce,kI=new ce,Gb=new ce,Td=new ce,zI=new ce,Vb=new ce,HI=new ce;class l0{constructor(e=new ce,t=new ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ku)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ku.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ku.copy(this.origin).addScaledVector(this.direction,t),Ku.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){kI.copy(e).add(t).multiplyScalar(.5),Gb.copy(t).sub(e).normalize(),Td.copy(this.origin).sub(kI);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Gb),a=Td.dot(this.direction),l=-Td.dot(Gb),c=Td.lengthSq(),h=Math.abs(1-o*o);let d,p,m,v;if(h>0)if(d=o*l-a,p=o*a-l,v=s*h,d>=0)if(p>=-v)if(p<=v){const x=1/h;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(kI).addScaledVector(Gb,p),m}intersectSphere(e,t){Ku.subVectors(e.center,this.origin);const i=Ku.dot(this.direction),r=Ku.dot(Ku)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ku)!==null}intersectTriangle(e,t,i,r,s){zI.subVectors(t,e),Vb.subVectors(i,e),HI.crossVectors(zI,Vb);let o=this.direction.dot(HI),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Td.subVectors(this.origin,e);const l=a*this.direction.dot(Vb.crossVectors(Td,Vb));if(l<0)return null;const c=a*this.direction.dot(zI.cross(Td));if(c<0||l+c>o)return null;const h=-a*Td.dot(HI);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jt{constructor(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,y){jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,y)}set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=h,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/gv.setFromMatrixColumn(e,0).length(),s=1/gv.setFromMatrixColumn(e,1).length(),o=1/gv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,v=a*h,x=a*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,v=c*h,x=c*d;t[0]=p+x*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,v=c*h,x=c*d;t[0]=p-x*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,v=a*h,x=a*d;t[0]=l*h,t[4]=v*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*h,t[4]=x-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=m*d+v,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=p*d+x,t[5]=o*h,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*h,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(afe,e,lfe)}lookAt(e,t,i){const r=this.elements;return Qo.subVectors(e,t),Qo.lengthSq()===0&&(Qo.z=1),Qo.normalize(),Rd.crossVectors(i,Qo),Rd.lengthSq()===0&&(Math.abs(i.z)===1?Qo.x+=1e-4:Qo.z+=1e-4,Qo.normalize(),Rd.crossVectors(i,Qo)),Rd.normalize(),jb.crossVectors(Qo,Rd),r[0]=Rd.x,r[4]=jb.x,r[8]=Qo.x,r[1]=Rd.y,r[5]=jb.y,r[9]=Qo.y,r[2]=Rd.z,r[6]=jb.z,r[10]=Qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],h=i[1],d=i[5],p=i[9],m=i[13],v=i[2],x=i[6],y=i[10],g=i[14],S=i[3],w=i[7],b=i[11],P=i[15],T=r[0],B=r[4],I=r[8],R=r[12],C=r[1],N=r[5],j=r[9],W=r[13],X=r[2],Q=r[6],Y=r[10],ie=r[14],D=r[3],z=r[7],H=r[11],ee=r[15];return s[0]=o*T+a*C+l*X+c*D,s[4]=o*B+a*N+l*Q+c*z,s[8]=o*I+a*j+l*Y+c*H,s[12]=o*R+a*W+l*ie+c*ee,s[1]=h*T+d*C+p*X+m*D,s[5]=h*B+d*N+p*Q+m*z,s[9]=h*I+d*j+p*Y+m*H,s[13]=h*R+d*W+p*ie+m*ee,s[2]=v*T+x*C+y*X+g*D,s[6]=v*B+x*N+y*Q+g*z,s[10]=v*I+x*j+y*Y+g*H,s[14]=v*R+x*W+y*ie+g*ee,s[3]=S*T+w*C+b*X+P*D,s[7]=S*B+w*N+b*Q+P*z,s[11]=S*I+w*j+b*Y+P*H,s[15]=S*R+w*W+b*ie+P*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],h=e[2],d=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*h-s*l*h)+y*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*h-i*c*h)+g*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],S=d*y*c-x*p*c+x*l*m-a*y*m-d*l*g+a*p*g,w=v*p*c-h*y*c-v*l*m+o*y*m+h*l*g-o*p*g,b=h*x*c-v*d*c+v*a*m-o*x*m-h*a*g+o*d*g,P=v*d*l-h*x*l-v*a*p+o*x*p+h*a*y-o*d*y,T=t*S+i*w+r*b+s*P;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/T;return e[0]=S*B,e[1]=(x*p*s-d*y*s-x*r*m+i*y*m+d*r*g-i*p*g)*B,e[2]=(a*y*s-x*l*s+x*r*c-i*y*c-a*r*g+i*l*g)*B,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*B,e[4]=w*B,e[5]=(h*y*s-v*p*s+v*r*m-t*y*m-h*r*g+t*p*g)*B,e[6]=(v*l*s-o*y*s-v*r*c+t*y*c+o*r*g-t*l*g)*B,e[7]=(o*p*s-h*l*s+h*r*c-t*p*c-o*r*m+t*l*m)*B,e[8]=b*B,e[9]=(v*d*s-h*x*s-v*i*m+t*x*m+h*i*g-t*d*g)*B,e[10]=(o*x*s-v*a*s+v*i*c-t*x*c-o*i*g+t*a*g)*B,e[11]=(h*a*s-o*d*s-h*i*c+t*d*c+o*i*m-t*a*m)*B,e[12]=P*B,e[13]=(h*x*r-v*d*r+v*i*p-t*x*p-h*i*y+t*d*y)*B,e[14]=(v*a*r-o*x*r-v*i*l+t*x*l+o*i*y-t*a*y)*B,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,h=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*o,0,c*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,h=o+o,d=a+a,p=s*c,m=s*h,v=s*d,x=o*h,y=o*d,g=a*d,S=l*c,w=l*h,b=l*d,P=i.x,T=i.y,B=i.z;return r[0]=(1-(x+g))*P,r[1]=(m+b)*P,r[2]=(v-w)*P,r[3]=0,r[4]=(m-b)*T,r[5]=(1-(p+g))*T,r[6]=(y+S)*T,r[7]=0,r[8]=(v+w)*B,r[9]=(y-S)*B,r[10]=(1-(p+x))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=gv.set(r[0],r[1],r[2]).length();const o=gv.set(r[4],r[5],r[6]).length(),a=gv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ul.copy(this);const l=1/s,c=1/o,h=1/a;return Ul.elements[0]*=l,Ul.elements[1]*=l,Ul.elements[2]*=l,Ul.elements[4]*=c,Ul.elements[5]*=c,Ul.elements[6]*=c,Ul.elements[8]*=h,Ul.elements[9]*=h,Ul.elements[10]*=h,t.setFromRotationMatrix(Ul),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Yc){const l=this.elements,c=2*s/(t-e),h=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===Yc)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===nw)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Yc){const l=this.elements,c=1/(t-e),h=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*h;let v,x;if(a===Yc)v=(o+s)*d,x=-2*d;else if(a===nw)v=s*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const gv=new ce,Ul=new jt,afe=new ce(0,0,0),lfe=new ce(1,1,1),Rd=new ce,jb=new ce,Qo=new ce,X5=new jt,J5=new Qr;let Aa=class y${constructor(e=0,t=0,i=0,r=y$.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Xi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Xi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Xi(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Xi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Xi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Xi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return X5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X5,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return J5.setFromEuler(this),this.setFromQuaternion(J5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};Aa.DEFAULT_ORDER="XYZ";class gg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let cfe=0;const K5=new ce,vv=new Qr,Yu=new jt,Wb=new ce,V_=new ce,ufe=new ce,hfe=new Qr,Y5=new ce(1,0,0),Q5=new ce(0,1,0),q5=new ce(0,0,1),$5={type:"added"},dfe={type:"removed"},yv={type:"childadded",child:null},GI={type:"childremoved",child:null};class Rn extends yu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:cfe++}),this.uuid=ma(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rn.DEFAULT_UP.clone();const e=new ce,t=new Aa,i=new Qr,r=new ce(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new jt},normalMatrix:{value:new cn}}),this.matrix=new jt,this.matrixWorld=new jt,this.matrixAutoUpdate=Rn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Rn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new gg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return vv.setFromAxisAngle(e,t),this.quaternion.multiply(vv),this}rotateOnWorldAxis(e,t){return vv.setFromAxisAngle(e,t),this.quaternion.premultiply(vv),this}rotateX(e){return this.rotateOnAxis(Y5,e)}rotateY(e){return this.rotateOnAxis(Q5,e)}rotateZ(e){return this.rotateOnAxis(q5,e)}translateOnAxis(e,t){return K5.copy(e).applyQuaternion(this.quaternion),this.position.add(K5.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Y5,e)}translateY(e){return this.translateOnAxis(Q5,e)}translateZ(e){return this.translateOnAxis(q5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Wb.copy(e):Wb.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),V_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yu.lookAt(V_,Wb,this.up):Yu.lookAt(Wb,V_,this.up),this.quaternion.setFromRotationMatrix(Yu),r&&(Yu.extractRotation(r.matrixWorld),vv.setFromRotationMatrix(Yu),this.quaternion.premultiply(vv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent($5),yv.child=e,this.dispatchEvent(yv),yv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(dfe),GI.child=e,this.dispatchEvent(GI),GI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Yu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent($5),yv.child=e,this.dispatchEvent(yv),yv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(V_,e,ufe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(V_,hfe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const h=a[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Rn.DEFAULT_UP=new ce(0,1,0);Rn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Rn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const kl=new ce,Qu=new ce,VI=new ce,qu=new ce,xv=new ce,_v=new ce,Z5=new ce,jI=new ce,WI=new ce,XI=new ce;class ra{constructor(e=new ce,t=new ce,i=new ce){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),kl.subVectors(e,t),r.cross(kl);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){kl.subVectors(r,t),Qu.subVectors(i,t),VI.subVectors(e,t);const o=kl.dot(kl),a=kl.dot(Qu),l=kl.dot(VI),c=Qu.dot(Qu),h=Qu.dot(VI),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(c*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,qu)===null?!1:qu.x>=0&&qu.y>=0&&qu.x+qu.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,qu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,qu.x),l.addScaledVector(o,qu.y),l.addScaledVector(a,qu.z),l)}static isFrontFacing(e,t,i,r){return kl.subVectors(i,t),Qu.subVectors(e,t),kl.cross(Qu).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return kl.subVectors(this.c,this.b),Qu.subVectors(this.a,this.b),kl.cross(Qu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ra.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ra.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return ra.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ra.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ra.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;xv.subVectors(r,i),_v.subVectors(s,i),jI.subVectors(e,i);const l=xv.dot(jI),c=_v.dot(jI);if(l<=0&&c<=0)return t.copy(i);WI.subVectors(e,r);const h=xv.dot(WI),d=_v.dot(WI);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*c;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector(xv,o);XI.subVectors(e,s);const m=xv.dot(XI),v=_v.dot(XI);if(v>=0&&m<=v)return t.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(_v,a);const y=h*v-m*d;if(y<=0&&d-h>=0&&m-v>=0)return Z5.subVectors(s,r),a=(d-h)/(d-h+(m-v)),t.copy(r).addScaledVector(Z5,a);const g=1/(y+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector(xv,o).addScaledVector(_v,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const x$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pd={h:0,s:0,l:0},Xb={h:0,s:0,l:0};function JI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Et=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=rl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Hn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Hn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Hn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Hn.workingColorSpace){if(e=m4(e,1),t=Xi(t,0,1),i=Xi(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=JI(o,s,e+1/3),this.g=JI(o,s,e),this.b=JI(o,s,e-1/3)}return Hn.toWorkingColorSpace(this,r),this}setStyle(e,t=rl){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=rl){const i=x$[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ox(e.r),this.g=ox(e.g),this.b=ox(e.b),this}copyLinearToSRGB(e){return this.r=DI(e.r),this.g=DI(e.g),this.b=DI(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=rl){return Hn.fromWorkingColorSpace(Cs.copy(this),e),Math.round(Xi(Cs.r*255,0,255))*65536+Math.round(Xi(Cs.g*255,0,255))*256+Math.round(Xi(Cs.b*255,0,255))}getHexString(e=rl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Hn.workingColorSpace){Hn.fromWorkingColorSpace(Cs.copy(this),t);const i=Cs.r,r=Cs.g,s=Cs.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const h=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=Hn.workingColorSpace){return Hn.fromWorkingColorSpace(Cs.copy(this),t),e.r=Cs.r,e.g=Cs.g,e.b=Cs.b,e}getStyle(e=rl){Hn.fromWorkingColorSpace(Cs.copy(this),e);const t=Cs.r,i=Cs.g,r=Cs.b;return e!==rl?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Pd),this.setHSL(Pd.h+e,Pd.s+t,Pd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Pd),e.getHSL(Xb);const i=sS(Pd.h,Xb.h,t),r=sS(Pd.s,Xb.s,t),s=sS(Pd.l,Xb.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Cs=new Et;Et.NAMES=x$;let ffe=0;class vr extends yu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ffe++}),this.uuid=ma(),this.name="",this.type="Material",this.blending=dg,this.side=lu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=MR,this.blendDst=bR,this.blendEquation=of,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=JS,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Em,this.stencilZFail=Em,this.stencilZPass=Em,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==dg&&(i.blending=this.blending),this.side!==lu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==MR&&(i.blendSrc=this.blendSrc),this.blendDst!==bR&&(i.blendDst=this.blendDst),this.blendEquation!==of&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==JS&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==pN&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Em&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Em&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Em&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ca extends vr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Aa,this.combine=oM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ph=pfe();function pfe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[l]=c|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function bo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Xi(n,-65504,65504),ph.floatView[0]=n;const e=ph.uint32View[0],t=e>>23&511;return ph.baseTable[t]+((e&8388607)>>ph.shiftTable[t])}function kA(n){const e=n>>10;return ph.uint32View[0]=ph.mantissaTable[ph.offsetTable[e]+(n&1023)]+ph.exponentTable[e],ph.floatView[0]}const mfe={toHalfFloat:bo,fromHalfFloat:kA},fr=new ce,Jb=new it;class Dn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=tw,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=la,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return v4("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Jb.fromBufferAttribute(this,t),Jb.applyMatrix3(e),this.setXY(t,Jb.x,Jb.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.applyMatrix3(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.applyMatrix4(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.applyNormalMatrix(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)fr.fromBufferAttribute(this,t),fr.transformDirection(e),this.setXYZ(t,fr.x,fr.y,fr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ao(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=hn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ao(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ao(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ao(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ao(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),r=hn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),r=hn(r,this.array),s=hn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==tw&&(e.usage=this.usage),e}}class gfe extends Dn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class vfe extends Dn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class yfe extends Dn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class xfe extends Dn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class x4 extends Dn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class _fe extends Dn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class _4 extends Dn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Afe extends Dn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=kA(this.array[e*this.itemSize]);return this.normalized&&(t=ao(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=bo(t),this}getY(e){let t=kA(this.array[e*this.itemSize+1]);return this.normalized&&(t=ao(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=bo(t),this}getZ(e){let t=kA(this.array[e*this.itemSize+2]);return this.normalized&&(t=ao(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=bo(t),this}getW(e){let t=kA(this.array[e*this.itemSize+3]);return this.normalized&&(t=ao(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=bo(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array)),this.array[e+0]=bo(t),this.array[e+1]=bo(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),r=hn(r,this.array)),this.array[e+0]=bo(t),this.array[e+1]=bo(i),this.array[e+2]=bo(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),r=hn(r,this.array),s=hn(s,this.array)),this.array[e+0]=bo(t),this.array[e+1]=bo(i),this.array[e+2]=bo(r),this.array[e+3]=bo(s),this}}class Ot extends Dn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Sfe=0;const Ka=new jt,KI=new Rn,Av=new ce,qo=new Gs,j_=new Gs,Wr=new ce;class an extends yu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Sfe++}),this.uuid=ma(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f$(e)?_4:x4)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new cn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ka.makeRotationFromQuaternion(e),this.applyMatrix4(Ka),this}rotateX(e){return Ka.makeRotationX(e),this.applyMatrix4(Ka),this}rotateY(e){return Ka.makeRotationY(e),this.applyMatrix4(Ka),this}rotateZ(e){return Ka.makeRotationZ(e),this.applyMatrix4(Ka),this}translate(e,t,i){return Ka.makeTranslation(e,t,i),this.applyMatrix4(Ka),this}scale(e,t,i){return Ka.makeScale(e,t,i),this.applyMatrix4(Ka),this}lookAt(e){return KI.lookAt(e),KI.updateMatrix(),this.applyMatrix4(KI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Av).negate(),this.translate(Av.x,Av.y,Av.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ot(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];qo.setFromBufferAttribute(s),this.morphTargetsRelative?(Wr.addVectors(this.boundingBox.min,qo.min),this.boundingBox.expandByPoint(Wr),Wr.addVectors(this.boundingBox.max,qo.max),this.boundingBox.expandByPoint(Wr)):(this.boundingBox.expandByPoint(qo.min),this.boundingBox.expandByPoint(qo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ce,1/0);return}if(e){const i=this.boundingSphere.center;if(qo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];j_.setFromBufferAttribute(a),this.morphTargetsRelative?(Wr.addVectors(qo.min,j_.min),qo.expandByPoint(Wr),Wr.addVectors(qo.max,j_.max),qo.expandByPoint(Wr)):(qo.expandByPoint(j_.min),qo.expandByPoint(j_.max))}qo.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Wr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Wr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Wr.fromBufferAttribute(a,c),l&&(Av.fromBufferAttribute(e,c),Wr.add(Av)),r=Math.max(r,i.distanceToSquared(Wr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let I=0;I<i.count;I++)a[I]=new ce,l[I]=new ce;const c=new ce,h=new ce,d=new ce,p=new it,m=new it,v=new it,x=new ce,y=new ce;function g(I,R,C){c.fromBufferAttribute(i,I),h.fromBufferAttribute(i,R),d.fromBufferAttribute(i,C),p.fromBufferAttribute(s,I),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,C),h.sub(c),d.sub(c),m.sub(p),v.sub(p);const N=1/(m.x*v.y-v.x*m.y);isFinite(N)&&(x.copy(h).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(N),y.copy(d).multiplyScalar(m.x).addScaledVector(h,-v.x).multiplyScalar(N),a[I].add(x),a[R].add(x),a[C].add(x),l[I].add(y),l[R].add(y),l[C].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let I=0,R=S.length;I<R;++I){const C=S[I],N=C.start,j=C.count;for(let W=N,X=N+j;W<X;W+=3)g(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const w=new ce,b=new ce,P=new ce,T=new ce;function B(I){P.fromBufferAttribute(r,I),T.copy(P);const R=a[I];w.copy(R),w.sub(P.multiplyScalar(P.dot(R))).normalize(),b.crossVectors(T,R);const C=b.dot(l[I])<0?-1:1;o.setXYZW(I,w.x,w.y,w.z,C)}for(let I=0,R=S.length;I<R;++I){const C=S[I],N=C.start,j=C.count;for(let W=N,X=N+j;W<X;W+=3)B(e.getX(W+0)),B(e.getX(W+1)),B(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Dn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new ce,s=new ce,o=new ce,a=new ce,l=new ce,c=new ce,h=new ce,d=new ce;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,y),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,y),a.add(h),l.add(h),c.add(h),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Wr.fromBufferAttribute(e,t),Wr.normalize(),e.setXYZ(t,Wr.x,Wr.y,Wr.z)}toNonIndexed(){function e(a,l){const c=a.array,h=a.itemSize,d=a.normalized,p=new c.constructor(l.length*h);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*h;for(let g=0;g<h;g++)p[v++]=c[m++]}return new Dn(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new an,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let h=0,d=c.length;h<d;h++){const p=c[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eV=new jt,Kp=new l0,Kb=new gs,tV=new ce,Sv=new ce,wv=new ce,Mv=new ce,YI=new ce,Yb=new ce,Qb=new it,qb=new it,$b=new it,nV=new ce,iV=new ce,rV=new ce,Zb=new ce,eE=new ce;class Qi extends Rn{constructor(e=new an,t=new ca){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Yb.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const h=a[l],d=s[l];h!==0&&(YI.fromBufferAttribute(d,e),o?Yb.addScaledVector(YI,h):Yb.addScaledVector(YI.sub(t),h))}t.add(Yb)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Kb.copy(i.boundingSphere),Kb.applyMatrix4(s),Kp.copy(e.ray).recast(e.near),!(Kb.containsPoint(Kp.origin)===!1&&(Kp.intersectSphere(Kb,tV)===null||Kp.origin.distanceToSquared(tV)>(e.far-e.near)**2))&&(eV.copy(s).invert(),Kp.copy(e.ray).applyMatrix4(eV),!(i.boundingBox!==null&&Kp.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Kp)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],S=Math.max(y.start,m.start),w=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let b=S,P=w;b<P;b+=3){const T=a.getX(b),B=a.getX(b+1),I=a.getX(b+2);r=tE(this,g,e,i,c,h,d,T,B,I),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const S=a.getX(y),w=a.getX(y+1),b=a.getX(y+2);r=tE(this,o,e,i,c,h,d,S,w,b),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],S=Math.max(y.start,m.start),w=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let b=S,P=w;b<P;b+=3){const T=b,B=b+1,I=b+2;r=tE(this,g,e,i,c,h,d,T,B,I),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const S=y,w=y+1,b=y+2;r=tE(this,o,e,i,c,h,d,S,w,b),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}}}function wfe(n,e,t,i,r,s,o,a){let l;if(e.side===fo?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===lu,a),l===null)return null;eE.copy(a),eE.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(eE);return c<t.near||c>t.far?null:{distance:c,point:eE.clone(),object:n}}function tE(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Sv),n.getVertexPosition(l,wv),n.getVertexPosition(c,Mv);const h=wfe(n,e,t,i,Sv,wv,Mv,Zb);if(h){r&&(Qb.fromBufferAttribute(r,a),qb.fromBufferAttribute(r,l),$b.fromBufferAttribute(r,c),h.uv=ra.getInterpolation(Zb,Sv,wv,Mv,Qb,qb,$b,new it)),s&&(Qb.fromBufferAttribute(s,a),qb.fromBufferAttribute(s,l),$b.fromBufferAttribute(s,c),h.uv1=ra.getInterpolation(Zb,Sv,wv,Mv,Qb,qb,$b,new it)),o&&(nV.fromBufferAttribute(o,a),iV.fromBufferAttribute(o,l),rV.fromBufferAttribute(o,c),h.normal=ra.getInterpolation(Zb,Sv,wv,Mv,nV,iV,rV,new ce),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new ce,materialIndex:0};ra.getNormal(Sv,wv,Mv,d.normal),h.face=d}return h}let cM=class _$ extends an{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(h,3)),this.setAttribute("uv",new Ot(d,2));function v(x,y,g,S,w,b,P,T,B,I,R){const C=b/B,N=P/I,j=b/2,W=P/2,X=T/2,Q=B+1,Y=I+1;let ie=0,D=0;const z=new ce;for(let H=0;H<Y;H++){const ee=H*N-W;for(let pe=0;pe<Q;pe++){const ke=pe*C-j;z[x]=ke*S,z[y]=ee*w,z[g]=X,c.push(z.x,z.y,z.z),z[x]=0,z[y]=0,z[g]=T>0?1:-1,h.push(z.x,z.y,z.z),d.push(pe/B),d.push(1-H/I),ie+=1}}for(let H=0;H<I;H++)for(let ee=0;ee<B;ee++){const pe=p+ee+Q*H,ke=p+ee+Q*(H+1),ne=p+(ee+1)+Q*(H+1),ve=p+(ee+1)+Q*H;l.push(pe,ke,ve),l.push(ke,ne,ve),D+=6}a.addGroup(m,D,R),m+=D,p+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _$(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Ix(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function io(n){const e={};for(let t=0;t<n.length;t++){const i=Ix(n[t]);for(const r in i)e[r]=i[r]}return e}function Mfe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function A$(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Hn.workingColorSpace}const S$={clone:Ix,merge:io};var bfe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Efe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class lc extends vr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=bfe,this.fragmentShader=Efe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ix(e.uniforms),this.uniformsGroups=Mfe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}let uM=class extends Rn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jt,this.projectionMatrix=new jt,this.projectionMatrixInverse=new jt,this.coordinateSystem=Yc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};const Bd=new ce,sV=new it,oV=new it;class xi extends uM{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bx*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(mg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bx*2*Math.atan(Math.tan(mg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Bd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bd.x,Bd.y).multiplyScalar(-e/Bd.z),Bd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Bd.x,Bd.y).multiplyScalar(-e/Bd.z)}getViewSize(e,t){return this.getViewBounds(e,sV,oV),t.subVectors(oV,sV)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(mg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const bv=-90,Ev=1;class A4 extends Rn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new xi(bv,Ev,e,t);r.layers=this.layers,this.add(r);const s=new xi(bv,Ev,e,t);s.layers=this.layers,this.add(s);const o=new xi(bv,Ev,e,t);o.layers=this.layers,this.add(o);const a=new xi(bv,Ev,e,t);a.layers=this.layers,this.add(a);const l=new xi(bv,Ev,e,t);l.layers=this.layers,this.add(l);const c=new xi(bv,Ev,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Yc)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===nw)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,h]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,h),e.setRenderTarget(d,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}let hM=class extends ri{constructor(e,t,i,r,s,o,a,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:Wh,super(e,t,i,r,s,o,a,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};class S4 extends ac{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new hM(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ki}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new cM(5,5,5),s=new lc({name:"CubemapFromEquirect",uniforms:Ix(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:fo,blending:Th});s.uniforms.tEquirect.value=t;const o=new Qi(r,s),a=t.minFilter;return t.minFilter===fl&&(t.minFilter=Ki),new A4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const QI=new ce,Cfe=new ce,Tfe=new cn;class uh{constructor(e=new ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=QI.subVectors(i,t).cross(Cfe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(QI),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Tfe.getNormalMatrix(e),r=this.coplanarPoint(QI).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Yp=new gs,nE=new ce;let dM=class{constructor(e=new uh,t=new uh,i=new uh,r=new uh,s=new uh,o=new uh){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Yc){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],h=r[5],d=r[6],p=r[7],m=r[8],v=r[9],x=r[10],y=r[11],g=r[12],S=r[13],w=r[14],b=r[15];if(i[0].setComponents(l-s,p-c,y-m,b-g).normalize(),i[1].setComponents(l+s,p+c,y+m,b+g).normalize(),i[2].setComponents(l+o,p+h,y+v,b+S).normalize(),i[3].setComponents(l-o,p-h,y-v,b-S).normalize(),i[4].setComponents(l-a,p-d,y-x,b-w).normalize(),t===Yc)i[5].setComponents(l+a,p+d,y+x,b+w).normalize();else if(t===nw)i[5].setComponents(a,d,x,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Yp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Yp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Yp)}intersectsSprite(e){return Yp.center.set(0,0,0),Yp.radius=.7071067811865476,Yp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yp)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(nE.x=r.normal.x>0?e.max.x:e.min.x,nE.y=r.normal.y>0?e.max.y:e.min.y,nE.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(nE)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function w$(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Rfe(n){const e=new WeakMap;function t(a,l){const c=a.array,h=a.usage,d=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,h),a.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const h=l.array,d=l._updateRange,p=l.updateRanges;if(n.bindBuffer(c,a),d.count===-1&&p.length===0&&n.bufferSubData(c,0,h),p.length!==0){for(let m=0,v=p.length;m<v;m++){const x=p[m];n.bufferSubData(c,x.start*h.BYTES_PER_ELEMENT,h,x.start,x.count)}l.clearUpdateRanges()}d.count!==-1&&(n.bufferSubData(c,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count),d.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const h=e.get(a);(!h||h.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class u1 extends an{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,h=l+1,d=e/a,p=t/l,m=[],v=[],x=[],y=[];for(let g=0;g<h;g++){const S=g*p-o;for(let w=0;w<c;w++){const b=w*d-s;v.push(b,-S,0),x.push(0,0,1),y.push(w/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const w=S+c*g,b=S+c*(g+1),P=S+1+c*(g+1),T=S+1+c*g;m.push(w,b,T),m.push(b,P,T)}this.setIndex(m),this.setAttribute("position",new Ot(v,3)),this.setAttribute("normal",new Ot(x,3)),this.setAttribute("uv",new Ot(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u1(e.width,e.height,e.widthSegments,e.heightSegments)}}var Pfe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Bfe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ife=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lfe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Dfe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Ffe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Nfe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ofe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ufe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,kfe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,zfe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Hfe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Gfe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Vfe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jfe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Wfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Xfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Jfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Kfe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Yfe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Qfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,$fe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,Zfe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,epe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,tpe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,npe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ipe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,rpe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,spe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ope="gl_FragColor = linearToOutputTexel( gl_FragColor );",ape=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,lpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cpe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,upe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hpe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fpe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ppe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,mpe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,gpe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vpe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ype=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xpe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,_pe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ape=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Spe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,wpe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Mpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bpe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Epe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Cpe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Tpe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Rpe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ppe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Bpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Ipe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Lpe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Dpe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fpe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Npe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Ope=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Upe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,kpe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zpe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Hpe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Gpe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Vpe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jpe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Wpe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Xpe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Jpe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Kpe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ype=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Qpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$pe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Zpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,eme=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,tme=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,nme=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ime=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rme=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,sme=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ome=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ame=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,lme=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cme=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ume=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hme=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,dme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,fme=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,pme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,mme=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,gme=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,yme=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xme=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,_me=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ame=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Sme=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Mme=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Eme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Cme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Tme=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Rme=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Pme=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ime=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Dme=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Nme=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Ome=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Ume=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,zme=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hme=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Gme=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Vme=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,jme=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wme=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xme=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jme=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Kme=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Qme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qme=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$me=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zme=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ege=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tge=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nge=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ige=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,rge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sge=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oge=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,age=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mn={alphahash_fragment:Pfe,alphahash_pars_fragment:Bfe,alphamap_fragment:Ife,alphamap_pars_fragment:Lfe,alphatest_fragment:Dfe,alphatest_pars_fragment:Ffe,aomap_fragment:Nfe,aomap_pars_fragment:Ofe,batching_pars_vertex:Ufe,batching_vertex:kfe,begin_vertex:zfe,beginnormal_vertex:Hfe,bsdfs:Gfe,iridescence_fragment:Vfe,bumpmap_pars_fragment:jfe,clipping_planes_fragment:Wfe,clipping_planes_pars_fragment:Xfe,clipping_planes_pars_vertex:Jfe,clipping_planes_vertex:Kfe,color_fragment:Yfe,color_pars_fragment:Qfe,color_pars_vertex:qfe,color_vertex:$fe,common:Zfe,cube_uv_reflection_fragment:epe,defaultnormal_vertex:tpe,displacementmap_pars_vertex:npe,displacementmap_vertex:ipe,emissivemap_fragment:rpe,emissivemap_pars_fragment:spe,colorspace_fragment:ope,colorspace_pars_fragment:ape,envmap_fragment:lpe,envmap_common_pars_fragment:cpe,envmap_pars_fragment:upe,envmap_pars_vertex:hpe,envmap_physical_pars_fragment:Spe,envmap_vertex:dpe,fog_vertex:fpe,fog_pars_vertex:ppe,fog_fragment:mpe,fog_pars_fragment:gpe,gradientmap_pars_fragment:vpe,lightmap_pars_fragment:ype,lights_lambert_fragment:xpe,lights_lambert_pars_fragment:_pe,lights_pars_begin:Ape,lights_toon_fragment:wpe,lights_toon_pars_fragment:Mpe,lights_phong_fragment:bpe,lights_phong_pars_fragment:Epe,lights_physical_fragment:Cpe,lights_physical_pars_fragment:Tpe,lights_fragment_begin:Rpe,lights_fragment_maps:Ppe,lights_fragment_end:Bpe,logdepthbuf_fragment:Ipe,logdepthbuf_pars_fragment:Lpe,logdepthbuf_pars_vertex:Dpe,logdepthbuf_vertex:Fpe,map_fragment:Npe,map_pars_fragment:Ope,map_particle_fragment:Upe,map_particle_pars_fragment:kpe,metalnessmap_fragment:zpe,metalnessmap_pars_fragment:Hpe,morphinstance_vertex:Gpe,morphcolor_vertex:Vpe,morphnormal_vertex:jpe,morphtarget_pars_vertex:Wpe,morphtarget_vertex:Xpe,normal_fragment_begin:Jpe,normal_fragment_maps:Kpe,normal_pars_fragment:Ype,normal_pars_vertex:Qpe,normal_vertex:qpe,normalmap_pars_fragment:$pe,clearcoat_normal_fragment_begin:Zpe,clearcoat_normal_fragment_maps:eme,clearcoat_pars_fragment:tme,iridescence_pars_fragment:nme,opaque_fragment:ime,packing:rme,premultiplied_alpha_fragment:sme,project_vertex:ome,dithering_fragment:ame,dithering_pars_fragment:lme,roughnessmap_fragment:cme,roughnessmap_pars_fragment:ume,shadowmap_pars_fragment:hme,shadowmap_pars_vertex:dme,shadowmap_vertex:fme,shadowmask_pars_fragment:pme,skinbase_vertex:mme,skinning_pars_vertex:gme,skinning_vertex:vme,skinnormal_vertex:yme,specularmap_fragment:xme,specularmap_pars_fragment:_me,tonemapping_fragment:Ame,tonemapping_pars_fragment:Sme,transmission_fragment:wme,transmission_pars_fragment:Mme,uv_pars_fragment:bme,uv_pars_vertex:Eme,uv_vertex:Cme,worldpos_vertex:Tme,background_vert:Rme,background_frag:Pme,backgroundCube_vert:Bme,backgroundCube_frag:Ime,cube_vert:Lme,cube_frag:Dme,depth_vert:Fme,depth_frag:Nme,distanceRGBA_vert:Ome,distanceRGBA_frag:Ume,equirect_vert:kme,equirect_frag:zme,linedashed_vert:Hme,linedashed_frag:Gme,meshbasic_vert:Vme,meshbasic_frag:jme,meshlambert_vert:Wme,meshlambert_frag:Xme,meshmatcap_vert:Jme,meshmatcap_frag:Kme,meshnormal_vert:Yme,meshnormal_frag:Qme,meshphong_vert:qme,meshphong_frag:$me,meshphysical_vert:Zme,meshphysical_frag:ege,meshtoon_vert:tge,meshtoon_frag:nge,points_vert:ige,points_frag:rge,shadow_vert:sge,shadow_frag:oge,sprite_vert:age,sprite_frag:lge},Pt={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cn},alphaMap:{value:null},alphaMapTransform:{value:new cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cn}},envmap:{envMap:{value:null},envMapRotation:{value:new cn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cn},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new cn},alphaTest:{value:0},uvTransform:{value:new cn}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cn},alphaMap:{value:null},alphaMapTransform:{value:new cn},alphaTest:{value:0}}},ql={basic:{uniforms:io([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:io([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Et(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:io([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:io([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},toon:{uniforms:io([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Et(0)}}]),vertexShader:mn.meshtoon_vert,fragmentShader:mn.meshtoon_frag},matcap:{uniforms:io([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:mn.meshmatcap_vert,fragmentShader:mn.meshmatcap_frag},points:{uniforms:io([Pt.points,Pt.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:io([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:io([Pt.common,Pt.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:io([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:mn.meshnormal_vert,fragmentShader:mn.meshnormal_frag},sprite:{uniforms:io([Pt.sprite,Pt.fog]),vertexShader:mn.sprite_vert,fragmentShader:mn.sprite_frag},background:{uniforms:{uvTransform:{value:new cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mn.background_vert,fragmentShader:mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new cn}},vertexShader:mn.backgroundCube_vert,fragmentShader:mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distanceRGBA:{uniforms:io([Pt.common,Pt.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mn.distanceRGBA_vert,fragmentShader:mn.distanceRGBA_frag},shadow:{uniforms:io([Pt.lights,Pt.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}};ql.physical={uniforms:io([ql.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cn},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cn},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cn},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cn},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cn},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new cn}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag};const iE={r:0,b:0,g:0},Qp=new Aa,cge=new jt;function uge(n,e,t,i,r,s,o){const a=new Et(0);let l=s===!0?0:1,c,h,d=null,p=0,m=null;function v(S){let w=S.isScene===!0?S.background:null;return w&&w.isTexture&&(w=(S.backgroundBlurriness>0?t:e).get(w)),w}function x(S){let w=!1;const b=v(S);b===null?g(a,l):b&&b.isColor&&(g(b,1),w=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||w)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(S,w){const b=v(w);b&&(b.isCubeTexture||b.mapping===c1)?(h===void 0&&(h=new Qi(new cM(1,1,1),new lc({name:"BackgroundCubeMaterial",uniforms:Ix(ql.backgroundCube.uniforms),vertexShader:ql.backgroundCube.vertexShader,fragmentShader:ql.backgroundCube.fragmentShader,side:fo,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,T,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),Qp.copy(w.backgroundRotation),Qp.x*=-1,Qp.y*=-1,Qp.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Qp.y*=-1,Qp.z*=-1),h.material.uniforms.envMap.value=b,h.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(cge.makeRotationFromEuler(Qp)),h.material.toneMapped=Hn.getTransfer(b.colorSpace)!==ai,(d!==b||p!==b.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=b,p=b.version,m=n.toneMapping),h.layers.enableAll(),S.unshift(h,h.geometry,h.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Qi(new u1(2,2),new lc({name:"BackgroundMaterial",uniforms:Ix(ql.background.uniforms),vertexShader:ql.background.vertexShader,fragmentShader:ql.background.fragmentShader,side:lu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Hn.getTransfer(b.colorSpace)!==ai,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||p!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=b,p=b.version,m=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function g(S,w){S.getRGB(iE,A$(n)),i.buffers.color.setClear(iE.r,iE.g,iE.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(S,w=1){a.set(S),l=w,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,g(a,l)},render:x,addToRenderList:y}}function hge(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(C,N,j,W,X){let Q=!1;const Y=d(W,j,N);s!==Y&&(s=Y,c(s.object)),Q=m(C,W,j,X),Q&&v(C,W,j,X),X!==null&&e.update(X,n.ELEMENT_ARRAY_BUFFER),(Q||o)&&(o=!1,b(C,N,j,W),X!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return n.createVertexArray()}function c(C){return n.bindVertexArray(C)}function h(C){return n.deleteVertexArray(C)}function d(C,N,j){const W=j.wireframe===!0;let X=i[C.id];X===void 0&&(X={},i[C.id]=X);let Q=X[N.id];Q===void 0&&(Q={},X[N.id]=Q);let Y=Q[W];return Y===void 0&&(Y=p(l()),Q[W]=Y),Y}function p(C){const N=[],j=[],W=[];for(let X=0;X<t;X++)N[X]=0,j[X]=0,W[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:j,attributeDivisors:W,object:C,attributes:{},index:null}}function m(C,N,j,W){const X=s.attributes,Q=N.attributes;let Y=0;const ie=j.getAttributes();for(const D in ie)if(ie[D].location>=0){const z=X[D];let H=Q[D];if(H===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(H=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(H=C.instanceColor)),z===void 0||z.attribute!==H||H&&z.data!==H.data)return!0;Y++}return s.attributesNum!==Y||s.index!==W}function v(C,N,j,W){const X={},Q=N.attributes;let Y=0;const ie=j.getAttributes();for(const D in ie)if(ie[D].location>=0){let z=Q[D];z===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(z=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(z=C.instanceColor));const H={};H.attribute=z,z&&z.data&&(H.data=z.data),X[D]=H,Y++}s.attributes=X,s.attributesNum=Y,s.index=W}function x(){const C=s.newAttributes;for(let N=0,j=C.length;N<j;N++)C[N]=0}function y(C){g(C,0)}function g(C,N){const j=s.newAttributes,W=s.enabledAttributes,X=s.attributeDivisors;j[C]=1,W[C]===0&&(n.enableVertexAttribArray(C),W[C]=1),X[C]!==N&&(n.vertexAttribDivisor(C,N),X[C]=N)}function S(){const C=s.newAttributes,N=s.enabledAttributes;for(let j=0,W=N.length;j<W;j++)N[j]!==C[j]&&(n.disableVertexAttribArray(j),N[j]=0)}function w(C,N,j,W,X,Q,Y){Y===!0?n.vertexAttribIPointer(C,N,j,X,Q):n.vertexAttribPointer(C,N,j,W,X,Q)}function b(C,N,j,W){x();const X=W.attributes,Q=j.getAttributes(),Y=N.defaultAttributeValues;for(const ie in Q){const D=Q[ie];if(D.location>=0){let z=X[ie];if(z===void 0&&(ie==="instanceMatrix"&&C.instanceMatrix&&(z=C.instanceMatrix),ie==="instanceColor"&&C.instanceColor&&(z=C.instanceColor)),z!==void 0){const H=z.normalized,ee=z.itemSize,pe=e.get(z);if(pe===void 0)continue;const ke=pe.buffer,ne=pe.type,ve=pe.bytesPerElement,be=ne===n.INT||ne===n.UNSIGNED_INT||z.gpuType===s4;if(z.isInterleavedBufferAttribute){const xe=z.data,st=xe.stride,Ke=z.offset;if(xe.isInstancedInterleavedBuffer){for(let Ge=0;Ge<D.locationSize;Ge++)g(D.location+Ge,xe.meshPerAttribute);C.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ge=0;Ge<D.locationSize;Ge++)y(D.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,ke);for(let Ge=0;Ge<D.locationSize;Ge++)w(D.location+Ge,ee/D.locationSize,ne,H,st*ve,(Ke+ee/D.locationSize*Ge)*ve,be)}else{if(z.isInstancedBufferAttribute){for(let xe=0;xe<D.locationSize;xe++)g(D.location+xe,z.meshPerAttribute);C.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let xe=0;xe<D.locationSize;xe++)y(D.location+xe);n.bindBuffer(n.ARRAY_BUFFER,ke);for(let xe=0;xe<D.locationSize;xe++)w(D.location+xe,ee/D.locationSize,ne,H,ee*ve,ee/D.locationSize*xe*ve,be)}}else if(Y!==void 0){const H=Y[ie];if(H!==void 0)switch(H.length){case 2:n.vertexAttrib2fv(D.location,H);break;case 3:n.vertexAttrib3fv(D.location,H);break;case 4:n.vertexAttrib4fv(D.location,H);break;default:n.vertexAttrib1fv(D.location,H)}}}}S()}function P(){I();for(const C in i){const N=i[C];for(const j in N){const W=N[j];for(const X in W)h(W[X].object),delete W[X];delete N[j]}delete i[C]}}function T(C){if(i[C.id]===void 0)return;const N=i[C.id];for(const j in N){const W=N[j];for(const X in W)h(W[X].object),delete W[X];delete N[j]}delete i[C.id]}function B(C){for(const N in i){const j=i[N];if(j[C.id]===void 0)continue;const W=j[C.id];for(const X in W)h(W[X].object),delete W[X];delete j[C.id]}}function I(){R(),o=!0,s!==r&&(s=r,c(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:I,resetDefaultState:R,dispose:P,releaseStatesOfGeometry:T,releaseStatesOfProgram:B,initAttributes:x,enableAttribute:y,disableUnusedAttributes:S}}function dge(n,e,t){let i;function r(c){i=c}function s(c,h){n.drawArrays(i,c,h),t.update(h,i,1)}function o(c,h,d){d!==0&&(n.drawArraysInstanced(i,c,h,d),t.update(h,i,d))}function a(c,h,d){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<d;m++)this.render(c[m],h[m]);else{p.multiDrawArraysWEBGL(i,c,0,h,0,d);let m=0;for(let v=0;v<d;v++)m+=h[v];t.update(m,i,1)}}function l(c,h,d,p){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],h[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,h,0,p,0,d);let v=0;for(let x=0;x<d;x++)v+=h[x];for(let x=0;x<p.length;x++)t.update(v,i,p[x])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function fge(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){return!(T!==co&&i.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(T){const B=T===aM&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==cu&&i.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==la&&!B)}function l(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const h=l(c);h!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const d=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=m>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:x,maxAttributes:y,maxVertexUniforms:g,maxVaryings:S,maxFragmentUniforms:w,vertexTextures:b,maxSamples:P}}function pge(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new uh,a=new cn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,x=d.clipIntersection,y=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!y)s?h(null):c();else{const S=s?0:i,w=S*4;let b=g.clippingState||null;l.value=b,b=h(v,p,w,m);for(let P=0;P!==w;++P)b[P]=t[P];g.clippingState=b,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,v){const x=d!==null?d.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<g)&&(y=new Float32Array(g));for(let w=0,b=m;w!==x;++w,b+=4)o.copy(d[w]).applyMatrix4(S,a),o.normal.toArray(y,b),y[b+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function mge(n){let e=new WeakMap;function t(o,a){return a===KS?o.mapping=Wh:a===YS&&(o.mapping=Uf),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===KS||a===YS)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new S4(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class pl extends uM{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const My=4,aV=[.125,.215,.35,.446,.526,.582],Um=20,qI=new pl,lV=new Et;let $I=null,ZI=0,eL=0,tL=!1;const Cm=(1+Math.sqrt(5))/2,Cv=1/Cm,cV=[new ce(-Cm,Cv,0),new ce(Cm,Cv,0),new ce(-Cv,0,Cm),new ce(Cv,0,Cm),new ce(0,Cm,-Cv),new ce(0,Cm,Cv),new ce(-1,1,-1),new ce(1,1,-1),new ce(-1,1,1),new ce(1,1,1)];class gN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){$I=this._renderer.getRenderTarget(),ZI=this._renderer.getActiveCubeFace(),eL=this._renderer.getActiveMipmapLevel(),tL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($I,ZI,eL),this._renderer.xr.enabled=tL,e.scissorTest=!1,rE(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wh||e.mapping===Uf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$I=this._renderer.getRenderTarget(),ZI=this._renderer.getActiveCubeFace(),eL=this._renderer.getActiveMipmapLevel(),tL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ki,minFilter:Ki,generateMipmaps:!1,type:aM,format:co,colorSpace:nd,depthBuffer:!1},r=uV(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=uV(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gge(s)),this._blurMaterial=vge(s,e,t)}return r}_compileMaterial(e){const t=new Qi(this._lodPlanes[0],e);this._renderer.compile(t,qI)}_sceneToCubeUV(e,t,i,r){const s=new xi(90,1,t,i),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,h=l.toneMapping;l.getClearColor(lV),l.toneMapping=eu,l.autoClear=!1;const d=new ca({name:"PMREM.Background",side:fo,depthWrite:!1,depthTest:!1}),p=new Qi(new cM,d);let m=!1;const v=e.background;v?v.isColor&&(d.color.copy(v),e.background=null,m=!0):(d.color.copy(lV),m=!0);for(let x=0;x<6;x++){const y=x%3;y===0?(s.up.set(0,o[x],0),s.lookAt(a[x],0,0)):y===1?(s.up.set(0,0,o[x]),s.lookAt(0,a[x],0)):(s.up.set(0,o[x],0),s.lookAt(0,0,a[x]));const g=this._cubeSize;rE(r,y*g,x>2?g:0,g,g),l.setRenderTarget(r),m&&l.render(p,s),l.render(e,s)}p.geometry.dispose(),p.material.dispose(),l.toneMapping=h,l.autoClear=c,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Wh||e.mapping===Uf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=dV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hV());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Qi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;rE(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,qI)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=cV[(r-s-1)%cV.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Qi(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Um-1),x=s/v,y=isFinite(s)?1+Math.floor(h*x):Um;y>Um&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Um}`);const g=[];let S=0;for(let B=0;B<Um;++B){const I=B/x,R=Math.exp(-I*I/2);g.push(R),B===0?S+=R:B<y&&(S+=2*R)}for(let B=0;B<g.length;B++)g[B]=g[B]/S;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=v,p.mipInt.value=w-i;const b=this._sizeLods[r],P=3*b*(r>w-My?r-w+My:0),T=4*(this._cubeSize-b);rE(t,P,T,3*b,2*b),l.setRenderTarget(t),l.render(d,qI)}}function gge(n){const e=[],t=[],i=[];let r=n;const s=n-My+1+aV.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-My?l=aV[o-n+My-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),h=-c,d=1+c,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,x=3,y=2,g=1,S=new Float32Array(x*v*m),w=new Float32Array(y*v*m),b=new Float32Array(g*v*m);for(let T=0;T<m;T++){const B=T%3*2/3-1,I=T>2?0:-1,R=[B,I,0,B+2/3,I,0,B+2/3,I+1,0,B,I,0,B+2/3,I+1,0,B,I+1,0];S.set(R,x*v*T),w.set(p,y*v*T);const C=[T,T,T,T,T,T];b.set(C,g*v*T)}const P=new an;P.setAttribute("position",new Dn(S,x)),P.setAttribute("uv",new Dn(w,y)),P.setAttribute("faceIndex",new Dn(b,g)),e.push(P),r>My&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function uV(n,e,t){const i=new ac(n,e,t);return i.texture.mapping=c1,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rE(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function vge(n,e,t){const i=new Float32Array(Um),r=new ce(0,1,0);return new lc({name:"SphericalGaussianBlur",defines:{n:Um,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:w4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Th,depthTest:!1,depthWrite:!1})}function hV(){return new lc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:w4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Th,depthTest:!1,depthWrite:!1})}function dV(){return new lc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:w4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Th,depthTest:!1,depthWrite:!1})}function w4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yge(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===KS||l===YS,h=l===Wh||l===Uf;if(c||h){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new gN(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||h&&m&&r(m)?(t===null&&(t=new gN(n)),d=c?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function xge(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&v4("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function _ge(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let y=0,g=x.length;y<g;y++)e.remove(x[y])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const x=m[v];for(let y=0,g=x.length;y<g;y++)e.update(x[y],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,v=d.attributes.position;let x=0;if(m!==null){const S=m.array;x=m.version;for(let w=0,b=S.length;w<b;w+=3){const P=S[w+0],T=S[w+1],B=S[w+2];p.push(P,T,T,B,B,P)}}else if(v!==void 0){const S=v.array;x=v.version;for(let w=0,b=S.length/3-1;w<b;w+=3){const P=w+0,T=w+1,B=w+2;p.push(P,T,T,B,B,P)}}else return;const y=new(f$(p)?_4:x4)(p,1);y.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,y)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function Age(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function c(p,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,p*o,v),t.update(m,i,v))}function h(p,m,v){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let y=0;y<v;y++)this.render(p[y]/o,m[y]);else{x.multiDrawElementsWEBGL(i,m,0,s,p,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];t.update(y,i,1)}}function d(p,m,v,x){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<p.length;g++)c(p[g]/o,m[g],x[g]);else{y.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,x,0,v);let g=0;for(let S=0;S<v;S++)g+=m[S];for(let S=0;S<x.length;S++)t.update(g,i,x[S])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=d}function Sge(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function wge(n,e,t){const i=new WeakMap,r=new Yn;function s(o,a,l){const c=o.morphTargetInfluences,h=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=h!==void 0?h.length:0;let p=i.get(a);if(p===void 0||p.count!==d){let m=function(){I.dispose(),i.delete(a),a.removeEventListener("dispose",m)};p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),x===!0&&(b=2),y===!0&&(b=3);let P=a.attributes.position.count*b,T=1;P>e.maxTextureSize&&(T=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const B=new Float32Array(P*T*4*d),I=new aP(B,P,T,d);I.type=la,I.needsUpdate=!0;const R=b*4;for(let C=0;C<d;C++){const N=g[C],j=S[C],W=w[C],X=P*T*4*C;for(let Q=0;Q<N.count;Q++){const Y=Q*R;v===!0&&(r.fromBufferAttribute(N,Q),B[X+Y+0]=r.x,B[X+Y+1]=r.y,B[X+Y+2]=r.z,B[X+Y+3]=0),x===!0&&(r.fromBufferAttribute(j,Q),B[X+Y+4]=r.x,B[X+Y+5]=r.y,B[X+Y+6]=r.z,B[X+Y+7]=0),y===!0&&(r.fromBufferAttribute(W,Q),B[X+Y+8]=r.x,B[X+Y+9]=r.y,B[X+Y+10]=r.z,B[X+Y+11]=W.itemSize===4?r.w:1)}}p={count:d,texture:I,size:new it(P,T)},i.set(a,p),a.addEventListener("dispose",m)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let m=0;for(let x=0;x<c.length;x++)m+=c[x];const v=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(n,"morphTargetBaseInfluence",v),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function Mge(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,h=l.geometry,d=e.get(l,h);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class M4 extends ri{constructor(e,t,i,r,s,o,a,l,c,h=fg){if(h!==fg&&h!==Og)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===fg&&(i=Fg),i===void 0&&h===Og&&(i=Ng),super(null,r,s,o,a,l,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Rr,this.minFilter=l!==void 0?l:Rr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const M$=new ri,b$=new M4(1,1);b$.compareFunction=p4;const E$=new aP,C$=new y4,T$=new hM,fV=[],pV=[],mV=new Float32Array(16),gV=new Float32Array(9),vV=new Float32Array(4);function h1(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=fV[r];if(s===void 0&&(s=new Float32Array(r),fV[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Ir(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Lr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function lP(n,e){let t=pV[e];t===void 0&&(t=new Int32Array(e),pV[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function bge(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ege(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ir(t,e))return;n.uniform2fv(this.addr,e),Lr(t,e)}}function Cge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ir(t,e))return;n.uniform3fv(this.addr,e),Lr(t,e)}}function Tge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ir(t,e))return;n.uniform4fv(this.addr,e),Lr(t,e)}}function Rge(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ir(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Lr(t,e)}else{if(Ir(t,i))return;vV.set(i),n.uniformMatrix2fv(this.addr,!1,vV),Lr(t,i)}}function Pge(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ir(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Lr(t,e)}else{if(Ir(t,i))return;gV.set(i),n.uniformMatrix3fv(this.addr,!1,gV),Lr(t,i)}}function Bge(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ir(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Lr(t,e)}else{if(Ir(t,i))return;mV.set(i),n.uniformMatrix4fv(this.addr,!1,mV),Lr(t,i)}}function Ige(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Lge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ir(t,e))return;n.uniform2iv(this.addr,e),Lr(t,e)}}function Dge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ir(t,e))return;n.uniform3iv(this.addr,e),Lr(t,e)}}function Fge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ir(t,e))return;n.uniform4iv(this.addr,e),Lr(t,e)}}function Nge(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Oge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ir(t,e))return;n.uniform2uiv(this.addr,e),Lr(t,e)}}function Uge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ir(t,e))return;n.uniform3uiv(this.addr,e),Lr(t,e)}}function kge(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ir(t,e))return;n.uniform4uiv(this.addr,e),Lr(t,e)}}function zge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?b$:M$;t.setTexture2D(e||s,r)}function Hge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||C$,r)}function Gge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||T$,r)}function Vge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||E$,r)}function jge(n){switch(n){case 5126:return bge;case 35664:return Ege;case 35665:return Cge;case 35666:return Tge;case 35674:return Rge;case 35675:return Pge;case 35676:return Bge;case 5124:case 35670:return Ige;case 35667:case 35671:return Lge;case 35668:case 35672:return Dge;case 35669:case 35673:return Fge;case 5125:return Nge;case 36294:return Oge;case 36295:return Uge;case 36296:return kge;case 35678:case 36198:case 36298:case 36306:case 35682:return zge;case 35679:case 36299:case 36307:return Hge;case 35680:case 36300:case 36308:case 36293:return Gge;case 36289:case 36303:case 36311:case 36292:return Vge}}function Wge(n,e){n.uniform1fv(this.addr,e)}function Xge(n,e){const t=h1(e,this.size,2);n.uniform2fv(this.addr,t)}function Jge(n,e){const t=h1(e,this.size,3);n.uniform3fv(this.addr,t)}function Kge(n,e){const t=h1(e,this.size,4);n.uniform4fv(this.addr,t)}function Yge(n,e){const t=h1(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Qge(n,e){const t=h1(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function qge(n,e){const t=h1(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $ge(n,e){n.uniform1iv(this.addr,e)}function Zge(n,e){n.uniform2iv(this.addr,e)}function e0e(n,e){n.uniform3iv(this.addr,e)}function t0e(n,e){n.uniform4iv(this.addr,e)}function n0e(n,e){n.uniform1uiv(this.addr,e)}function i0e(n,e){n.uniform2uiv(this.addr,e)}function r0e(n,e){n.uniform3uiv(this.addr,e)}function s0e(n,e){n.uniform4uiv(this.addr,e)}function o0e(n,e,t){const i=this.cache,r=e.length,s=lP(t,r);Ir(i,s)||(n.uniform1iv(this.addr,s),Lr(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||M$,s[o])}function a0e(n,e,t){const i=this.cache,r=e.length,s=lP(t,r);Ir(i,s)||(n.uniform1iv(this.addr,s),Lr(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||C$,s[o])}function l0e(n,e,t){const i=this.cache,r=e.length,s=lP(t,r);Ir(i,s)||(n.uniform1iv(this.addr,s),Lr(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||T$,s[o])}function c0e(n,e,t){const i=this.cache,r=e.length,s=lP(t,r);Ir(i,s)||(n.uniform1iv(this.addr,s),Lr(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||E$,s[o])}function u0e(n){switch(n){case 5126:return Wge;case 35664:return Xge;case 35665:return Jge;case 35666:return Kge;case 35674:return Yge;case 35675:return Qge;case 35676:return qge;case 5124:case 35670:return $ge;case 35667:case 35671:return Zge;case 35668:case 35672:return e0e;case 35669:case 35673:return t0e;case 5125:return n0e;case 36294:return i0e;case 36295:return r0e;case 36296:return s0e;case 35678:case 36198:case 36298:case 36306:case 35682:return o0e;case 35679:case 36299:case 36307:return a0e;case 35680:case 36300:case 36308:case 36293:return l0e;case 36289:case 36303:case 36311:case 36292:return c0e}}class h0e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=jge(t.type)}}class d0e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=u0e(t.type)}}class f0e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const nL=/(\w+)(\])?(\[|\.)?/g;function yV(n,e){n.seq.push(e),n.map[e.id]=e}function p0e(n,e,t){const i=n.name,r=i.length;for(nL.lastIndex=0;;){const s=nL.exec(i),o=nL.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){yV(t,c===void 0?new h0e(a,n,e):new d0e(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new f0e(a),yV(t,h)),t=h}}}let MT=class{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);p0e(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}};function xV(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const m0e=37297;let g0e=0;function v0e(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function y0e(n){const e=Hn.getPrimaries(Hn.workingColorSpace),t=Hn.getPrimaries(n);let i;switch(e===t?i="":e===ew&&t===ZS?i="LinearDisplayP3ToLinearSRGB":e===ZS&&t===ew&&(i="LinearSRGBToLinearDisplayP3"),n){case nd:case lM:return[i,"LinearTransferOETF"];case rl:case oP:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function _V(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+v0e(n.getShaderSource(e),o)}else return r}function x0e(n,e){const t=y0e(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function _0e(n,e){let t;switch(e){case Nq:t="Linear";break;case Oq:t="Reinhard";break;case Uq:t="OptimizedCineon";break;case r4:t="ACESFilmic";break;case zq:t="AgX";break;case Hq:t="Neutral";break;case kq:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function A0e(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(zA).join(`
`)}function S0e(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function w0e(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function zA(n){return n!==""}function AV(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function SV(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const M0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function vN(n){return n.replace(M0e,E0e)}const b0e=new Map;function E0e(n,e){let t=mn[e];if(t===void 0){const i=b0e.get(e);if(i!==void 0)t=mn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return vN(t)}const C0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wV(n){return n.replace(C0e,T0e)}function T0e(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function MV(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function R0e(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===nP?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===rS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Wl&&(e="SHADOWMAP_TYPE_VSM"),e}function P0e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wh:case Uf:e="ENVMAP_TYPE_CUBE";break;case c1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function B0e(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Uf:e="ENVMAP_MODE_REFRACTION";break}return e}function I0e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case oM:e="ENVMAP_BLENDING_MULTIPLY";break;case Dq:e="ENVMAP_BLENDING_MIX";break;case Fq:e="ENVMAP_BLENDING_ADD";break}return e}function L0e(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function D0e(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=R0e(t),c=P0e(t),h=B0e(t),d=I0e(t),p=L0e(t),m=A0e(t),v=S0e(s),x=r.createProgram();let y,g,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(zA).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(zA).join(`
`),g.length>0&&(g+=`
`)):(y=[MV(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zA).join(`
`),g=[MV(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==eu?"#define TONE_MAPPING":"",t.toneMapping!==eu?mn.tonemapping_pars_fragment:"",t.toneMapping!==eu?_0e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",mn.colorspace_pars_fragment,x0e("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(zA).join(`
`)),o=vN(o),o=AV(o,t),o=SV(o,t),a=vN(a),a=AV(a,t),a=SV(a,t),o=wV(o),a=wV(a),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",t.glslVersion===mN?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===mN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const w=S+y+o,b=S+g+a,P=xV(r,r.VERTEX_SHADER,w),T=xV(r,r.FRAGMENT_SHADER,b);r.attachShader(x,P),r.attachShader(x,T),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function B(N){if(n.debug.checkShaderErrors){const j=r.getProgramInfoLog(x).trim(),W=r.getShaderInfoLog(P).trim(),X=r.getShaderInfoLog(T).trim();let Q=!0,Y=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,P,T);else{const ie=_V(r,P,"vertex"),D=_V(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+j+`
`+ie+`
`+D)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(W===""||X==="")&&(Y=!1);Y&&(N.diagnostics={runnable:Q,programLog:j,vertexShader:{log:W,prefix:y},fragmentShader:{log:X,prefix:g}})}r.deleteShader(P),r.deleteShader(T),I=new MT(r,x),R=w0e(r,x)}let I;this.getUniforms=function(){return I===void 0&&B(this),I};let R;this.getAttributes=function(){return R===void 0&&B(this),R};let C=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=r.getProgramParameter(x,m0e)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=g0e++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=P,this.fragmentShader=T,this}let F0e=0;class N0e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new O0e(e),t.set(e,i)),i}}class O0e{constructor(e){this.id=F0e++,this.code=e,this.usedTimes=0}}function U0e(n,e,t,i,r,s,o){const a=new gg,l=new N0e,c=new Set,h=[],d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return c.add(R),R===0?"uv":`uv${R}`}function y(R,C,N,j,W){const X=j.fog,Q=W.geometry,Y=R.isMeshStandardMaterial?j.environment:null,ie=(R.isMeshStandardMaterial?t:e).get(R.envMap||Y),D=ie&&ie.mapping===c1?ie.image.height:null,z=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const H=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,ee=H!==void 0?H.length:0;let pe=0;Q.morphAttributes.position!==void 0&&(pe=1),Q.morphAttributes.normal!==void 0&&(pe=2),Q.morphAttributes.color!==void 0&&(pe=3);let ke,ne,ve,be;if(z){const pt=ql[z];ke=pt.vertexShader,ne=pt.fragmentShader}else ke=R.vertexShader,ne=R.fragmentShader,l.update(R),ve=l.getVertexShaderID(R),be=l.getFragmentShaderID(R);const xe=n.getRenderTarget(),st=W.isInstancedMesh===!0,Ke=W.isBatchedMesh===!0,Ge=!!R.map,U=!!R.matcap,fe=!!ie,me=!!R.aoMap,Ce=!!R.lightMap,_e=!!R.bumpMap,Ne=!!R.normalMap,Oe=!!R.displacementMap,Re=!!R.emissiveMap,at=!!R.metalnessMap,k=!!R.roughnessMap,F=R.anisotropy>0,se=R.clearcoat>0,ge=R.dispersion>0,Ae=R.iridescence>0,Se=R.sheen>0,qe=R.transmission>0,Ie=F&&!!R.anisotropyMap,ze=se&&!!R.clearcoatMap,ct=se&&!!R.clearcoatNormalMap,Te=se&&!!R.clearcoatRoughnessMap,$e=Ae&&!!R.iridescenceMap,ht=Ae&&!!R.iridescenceThicknessMap,Ye=Se&&!!R.sheenColorMap,te=Se&&!!R.sheenRoughnessMap,$=!!R.specularMap,Me=!!R.specularColorMap,Qe=!!R.specularIntensityMap,G=qe&&!!R.transmissionMap,De=qe&&!!R.thicknessMap,de=!!R.gradientMap,ye=!!R.alphaMap,Le=R.alphaTest>0,Xe=!!R.alphaHash,dt=!!R.extensions;let Ve=eu;R.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Ve=n.toneMapping);const rt={shaderID:z,shaderType:R.type,shaderName:R.name,vertexShader:ke,fragmentShader:ne,defines:R.defines,customVertexShaderID:ve,customFragmentShaderID:be,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:Ke,batchingColor:Ke&&W._colorsTexture!==null,instancing:st,instancingColor:st&&W.instanceColor!==null,instancingMorph:st&&W.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:xe===null?n.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:nd,alphaToCoverage:!!R.alphaToCoverage,map:Ge,matcap:U,envMap:fe,envMapMode:fe&&ie.mapping,envMapCubeUVHeight:D,aoMap:me,lightMap:Ce,bumpMap:_e,normalMap:Ne,displacementMap:p&&Oe,emissiveMap:Re,normalMapObjectSpace:Ne&&R.normalMapType===r$,normalMapTangentSpace:Ne&&R.normalMapType===np,metalnessMap:at,roughnessMap:k,anisotropy:F,anisotropyMap:Ie,clearcoat:se,clearcoatMap:ze,clearcoatNormalMap:ct,clearcoatRoughnessMap:Te,dispersion:ge,iridescence:Ae,iridescenceMap:$e,iridescenceThicknessMap:ht,sheen:Se,sheenColorMap:Ye,sheenRoughnessMap:te,specularMap:$,specularColorMap:Me,specularIntensityMap:Qe,transmission:qe,transmissionMap:G,thicknessMap:De,gradientMap:de,opaque:R.transparent===!1&&R.blending===dg&&R.alphaToCoverage===!1,alphaMap:ye,alphaTest:Le,alphaHash:Xe,combine:R.combine,mapUv:Ge&&x(R.map.channel),aoMapUv:me&&x(R.aoMap.channel),lightMapUv:Ce&&x(R.lightMap.channel),bumpMapUv:_e&&x(R.bumpMap.channel),normalMapUv:Ne&&x(R.normalMap.channel),displacementMapUv:Oe&&x(R.displacementMap.channel),emissiveMapUv:Re&&x(R.emissiveMap.channel),metalnessMapUv:at&&x(R.metalnessMap.channel),roughnessMapUv:k&&x(R.roughnessMap.channel),anisotropyMapUv:Ie&&x(R.anisotropyMap.channel),clearcoatMapUv:ze&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:ct&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:$e&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ye&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:te&&x(R.sheenRoughnessMap.channel),specularMapUv:$&&x(R.specularMap.channel),specularColorMapUv:Me&&x(R.specularColorMap.channel),specularIntensityMapUv:Qe&&x(R.specularIntensityMap.channel),transmissionMapUv:G&&x(R.transmissionMap.channel),thicknessMapUv:De&&x(R.thicknessMap.channel),alphaMapUv:ye&&x(R.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ne||F),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!Q.attributes.uv&&(Ge||ye),fog:!!X,useFog:R.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:W.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:pe,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ve,decodeVideoTexture:Ge&&R.map.isVideoTexture===!0&&Hn.getTransfer(R.map.colorSpace)===ai,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===ul,flipSided:R.side===fo,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:dt&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:dt&&R.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return rt.vertexUv1s=c.has(1),rt.vertexUv2s=c.has(2),rt.vertexUv3s=c.has(3),c.clear(),rt}function g(R){const C=[];if(R.shaderID?C.push(R.shaderID):(C.push(R.customVertexShaderID),C.push(R.customFragmentShaderID)),R.defines!==void 0)for(const N in R.defines)C.push(N),C.push(R.defines[N]);return R.isRawShaderMaterial===!1&&(S(C,R),w(C,R),C.push(n.outputColorSpace)),C.push(R.customProgramCacheKey),C.join()}function S(R,C){R.push(C.precision),R.push(C.outputColorSpace),R.push(C.envMapMode),R.push(C.envMapCubeUVHeight),R.push(C.mapUv),R.push(C.alphaMapUv),R.push(C.lightMapUv),R.push(C.aoMapUv),R.push(C.bumpMapUv),R.push(C.normalMapUv),R.push(C.displacementMapUv),R.push(C.emissiveMapUv),R.push(C.metalnessMapUv),R.push(C.roughnessMapUv),R.push(C.anisotropyMapUv),R.push(C.clearcoatMapUv),R.push(C.clearcoatNormalMapUv),R.push(C.clearcoatRoughnessMapUv),R.push(C.iridescenceMapUv),R.push(C.iridescenceThicknessMapUv),R.push(C.sheenColorMapUv),R.push(C.sheenRoughnessMapUv),R.push(C.specularMapUv),R.push(C.specularColorMapUv),R.push(C.specularIntensityMapUv),R.push(C.transmissionMapUv),R.push(C.thicknessMapUv),R.push(C.combine),R.push(C.fogExp2),R.push(C.sizeAttenuation),R.push(C.morphTargetsCount),R.push(C.morphAttributeCount),R.push(C.numDirLights),R.push(C.numPointLights),R.push(C.numSpotLights),R.push(C.numSpotLightMaps),R.push(C.numHemiLights),R.push(C.numRectAreaLights),R.push(C.numDirLightShadows),R.push(C.numPointLightShadows),R.push(C.numSpotLightShadows),R.push(C.numSpotLightShadowsWithMaps),R.push(C.numLightProbes),R.push(C.shadowMapType),R.push(C.toneMapping),R.push(C.numClippingPlanes),R.push(C.numClipIntersection),R.push(C.depthPacking)}function w(R,C){a.disableAll(),C.supportsVertexTextures&&a.enable(0),C.instancing&&a.enable(1),C.instancingColor&&a.enable(2),C.instancingMorph&&a.enable(3),C.matcap&&a.enable(4),C.envMap&&a.enable(5),C.normalMapObjectSpace&&a.enable(6),C.normalMapTangentSpace&&a.enable(7),C.clearcoat&&a.enable(8),C.iridescence&&a.enable(9),C.alphaTest&&a.enable(10),C.vertexColors&&a.enable(11),C.vertexAlphas&&a.enable(12),C.vertexUv1s&&a.enable(13),C.vertexUv2s&&a.enable(14),C.vertexUv3s&&a.enable(15),C.vertexTangents&&a.enable(16),C.anisotropy&&a.enable(17),C.alphaHash&&a.enable(18),C.batching&&a.enable(19),C.dispersion&&a.enable(20),C.batchingColor&&a.enable(21),R.push(a.mask),a.disableAll(),C.fog&&a.enable(0),C.useFog&&a.enable(1),C.flatShading&&a.enable(2),C.logarithmicDepthBuffer&&a.enable(3),C.skinning&&a.enable(4),C.morphTargets&&a.enable(5),C.morphNormals&&a.enable(6),C.morphColors&&a.enable(7),C.premultipliedAlpha&&a.enable(8),C.shadowMapEnabled&&a.enable(9),C.doubleSided&&a.enable(10),C.flipSided&&a.enable(11),C.useDepthPacking&&a.enable(12),C.dithering&&a.enable(13),C.transmission&&a.enable(14),C.sheen&&a.enable(15),C.opaque&&a.enable(16),C.pointsUvs&&a.enable(17),C.decodeVideoTexture&&a.enable(18),C.alphaToCoverage&&a.enable(19),R.push(a.mask)}function b(R){const C=v[R.type];let N;if(C){const j=ql[C];N=S$.clone(j.uniforms)}else N=R.uniforms;return N}function P(R,C){let N;for(let j=0,W=h.length;j<W;j++){const X=h[j];if(X.cacheKey===C){N=X,++N.usedTimes;break}}return N===void 0&&(N=new D0e(n,C,R,s),h.push(N)),N}function T(R){if(--R.usedTimes===0){const C=h.indexOf(R);h[C]=h[h.length-1],h.pop(),R.destroy()}}function B(R){l.remove(R)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:b,acquireProgram:P,releaseProgram:T,releaseShaderCache:B,programs:h,dispose:I}}function k0e(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function z0e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function bV(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function EV(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,x,y){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:x,group:y},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=x,g.group=y),e++,g}function a(d,p,m,v,x,y){const g=o(d,p,m,v,x,y);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,v,x,y){const g=o(d,p,m,v,x,y);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||z0e),i.length>1&&i.sort(p||bV),r.length>1&&r.sort(p||bV)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:c}}function H0e(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new EV,n.set(i,[o])):r>=s.length?(o=new EV,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function G0e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ce,color:new Et};break;case"SpotLight":t={position:new ce,direction:new ce,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ce,color:new Et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ce,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":t={color:new Et,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return n[e.id]=t,t}}}function V0e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let j0e=0;function W0e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function X0e(n){const e=new G0e,t=V0e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ce);const r=new ce,s=new jt,o=new jt;function a(c){let h=0,d=0,p=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let m=0,v=0,x=0,y=0,g=0,S=0,w=0,b=0,P=0,T=0,B=0;c.sort(W0e);for(let R=0,C=c.length;R<C;R++){const N=c[R],j=N.color,W=N.intensity,X=N.distance,Q=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)h+=j.r*W,d+=j.g*W,p+=j.b*W;else if(N.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(N.sh.coefficients[Y],W);B++}else if(N.isDirectionalLight){const Y=e.get(N);if(Y.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const ie=N.shadow,D=t.get(N);D.shadowBias=ie.bias,D.shadowNormalBias=ie.normalBias,D.shadowRadius=ie.radius,D.shadowMapSize=ie.mapSize,i.directionalShadow[m]=D,i.directionalShadowMap[m]=Q,i.directionalShadowMatrix[m]=N.shadow.matrix,S++}i.directional[m]=Y,m++}else if(N.isSpotLight){const Y=e.get(N);Y.position.setFromMatrixPosition(N.matrixWorld),Y.color.copy(j).multiplyScalar(W),Y.distance=X,Y.coneCos=Math.cos(N.angle),Y.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),Y.decay=N.decay,i.spot[x]=Y;const ie=N.shadow;if(N.map&&(i.spotLightMap[P]=N.map,P++,ie.updateMatrices(N),N.castShadow&&T++),i.spotLightMatrix[x]=ie.matrix,N.castShadow){const D=t.get(N);D.shadowBias=ie.bias,D.shadowNormalBias=ie.normalBias,D.shadowRadius=ie.radius,D.shadowMapSize=ie.mapSize,i.spotShadow[x]=D,i.spotShadowMap[x]=Q,b++}x++}else if(N.isRectAreaLight){const Y=e.get(N);Y.color.copy(j).multiplyScalar(W),Y.halfWidth.set(N.width*.5,0,0),Y.halfHeight.set(0,N.height*.5,0),i.rectArea[y]=Y,y++}else if(N.isPointLight){const Y=e.get(N);if(Y.color.copy(N.color).multiplyScalar(N.intensity),Y.distance=N.distance,Y.decay=N.decay,N.castShadow){const ie=N.shadow,D=t.get(N);D.shadowBias=ie.bias,D.shadowNormalBias=ie.normalBias,D.shadowRadius=ie.radius,D.shadowMapSize=ie.mapSize,D.shadowCameraNear=ie.camera.near,D.shadowCameraFar=ie.camera.far,i.pointShadow[v]=D,i.pointShadowMap[v]=Q,i.pointShadowMatrix[v]=N.shadow.matrix,w++}i.point[v]=Y,v++}else if(N.isHemisphereLight){const Y=e.get(N);Y.skyColor.copy(N.color).multiplyScalar(W),Y.groundColor.copy(N.groundColor).multiplyScalar(W),i.hemi[g]=Y,g++}}y>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=p;const I=i.hash;(I.directionalLength!==m||I.pointLength!==v||I.spotLength!==x||I.rectAreaLength!==y||I.hemiLength!==g||I.numDirectionalShadows!==S||I.numPointShadows!==w||I.numSpotShadows!==b||I.numSpotMaps!==P||I.numLightProbes!==B)&&(i.directional.length=m,i.spot.length=x,i.rectArea.length=y,i.point.length=v,i.hemi.length=g,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=b+P-T,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=T,i.numLightProbes=B,I.directionalLength=m,I.pointLength=v,I.spotLength=x,I.rectAreaLength=y,I.hemiLength=g,I.numDirectionalShadows=S,I.numPointShadows=w,I.numSpotShadows=b,I.numSpotMaps=P,I.numLightProbes=B,i.version=j0e++)}function l(c,h){let d=0,p=0,m=0,v=0,x=0;const y=h.matrixWorldInverse;for(let g=0,S=c.length;g<S;g++){const w=c[g];if(w.isDirectionalLight){const b=i.directional[d];b.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(y),d++}else if(w.isSpotLight){const b=i.spot[m];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),b.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(y),m++}else if(w.isRectAreaLight){const b=i.rectArea[v];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),o.identity(),s.copy(w.matrixWorld),s.premultiply(y),o.extractRotation(s),b.halfWidth.set(w.width*.5,0,0),b.halfHeight.set(0,w.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(w.isPointLight){const b=i.point[p];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),p++}else if(w.isHemisphereLight){const b=i.hemi[x];b.direction.setFromMatrixPosition(w.matrixWorld),b.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:i}}function CV(n){const e=new X0e(n),t=[],i=[];function r(h){c.camera=h,t.length=0,i.length=0}function s(h){t.push(h)}function o(h){i.push(h)}function a(){e.setup(t)}function l(h){e.setupView(t,h)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function J0e(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new CV(n),e.set(r,[a])):s>=o.length?(a=new CV(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}class b4 extends vr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=n$,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class E4 extends vr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const K0e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Y0e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Q0e(n,e,t){let i=new dM;const r=new it,s=new it,o=new Yn,a=new b4({depthPacking:i$}),l=new E4,c={},h=t.maxTextureSize,d={[lu]:fo,[fo]:lu,[ul]:ul},p=new lc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:K0e,fragmentShader:Y0e}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new an;v.setAttribute("position",new Dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Qi(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=nP;let g=this.type;this.render=function(T,B,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||T.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),j=n.state;j.setBlending(Th),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const W=g!==Wl&&this.type===Wl,X=g===Wl&&this.type!==Wl;for(let Q=0,Y=T.length;Q<Y;Q++){const ie=T[Q],D=ie.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const z=D.getFrameExtents();if(r.multiply(z),s.copy(D.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/z.x),r.x=s.x*z.x,D.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/z.y),r.y=s.y*z.y,D.mapSize.y=s.y)),D.map===null||W===!0||X===!0){const ee=this.type!==Wl?{minFilter:Rr,magFilter:Rr}:{};D.map!==null&&D.map.dispose(),D.map=new ac(r.x,r.y,ee),D.map.texture.name=ie.name+".shadowMap",D.camera.updateProjectionMatrix()}n.setRenderTarget(D.map),n.clear();const H=D.getViewportCount();for(let ee=0;ee<H;ee++){const pe=D.getViewport(ee);o.set(s.x*pe.x,s.y*pe.y,s.x*pe.z,s.y*pe.w),j.viewport(o),D.updateMatrices(ie,ee),i=D.getFrustum(),b(B,I,D.camera,ie,this.type)}D.isPointLightShadow!==!0&&this.type===Wl&&S(D,I),D.needsUpdate=!1}g=this.type,y.needsUpdate=!1,n.setRenderTarget(R,C,N)};function S(T,B){const I=e.update(x);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new ac(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(B,null,I,p,x,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(B,null,I,m,x,null)}function w(T,B,I,R){let C=null;const N=I.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(N!==void 0)C=N;else if(C=I.isPointLight===!0?l:a,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const j=C.uuid,W=B.uuid;let X=c[j];X===void 0&&(X={},c[j]=X);let Q=X[W];Q===void 0&&(Q=C.clone(),X[W]=Q,B.addEventListener("dispose",P)),C=Q}if(C.visible=B.visible,C.wireframe=B.wireframe,R===Wl?C.side=B.shadowSide!==null?B.shadowSide:B.side:C.side=B.shadowSide!==null?B.shadowSide:d[B.side],C.alphaMap=B.alphaMap,C.alphaTest=B.alphaTest,C.map=B.map,C.clipShadows=B.clipShadows,C.clippingPlanes=B.clippingPlanes,C.clipIntersection=B.clipIntersection,C.displacementMap=B.displacementMap,C.displacementScale=B.displacementScale,C.displacementBias=B.displacementBias,C.wireframeLinewidth=B.wireframeLinewidth,C.linewidth=B.linewidth,I.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const j=n.properties.get(C);j.light=I}return C}function b(T,B,I,R,C){if(T.visible===!1)return;if(T.layers.test(B.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===Wl)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,T.matrixWorld);const j=e.update(T),W=T.material;if(Array.isArray(W)){const X=j.groups;for(let Q=0,Y=X.length;Q<Y;Q++){const ie=X[Q],D=W[ie.materialIndex];if(D&&D.visible){const z=w(T,D,R,C);T.onBeforeShadow(n,T,B,I,j,z,ie),n.renderBufferDirect(I,null,j,z,T,ie),T.onAfterShadow(n,T,B,I,j,z,ie)}}}else if(W.visible){const X=w(T,W,R,C);T.onBeforeShadow(n,T,B,I,j,X,null),n.renderBufferDirect(I,null,j,X,T,null),T.onAfterShadow(n,T,B,I,j,X,null)}}const N=T.children;for(let j=0,W=N.length;j<W;j++)b(N[j],B,I,R,C)}function P(T){T.target.removeEventListener("dispose",P);for(const B in c){const I=c[B],R=T.target.uuid;R in I&&(I[R].dispose(),delete I[R])}}}function q0e(n){function e(){let G=!1;const De=new Yn;let de=null;const ye=new Yn(0,0,0,0);return{setMask:function(Le){de!==Le&&!G&&(n.colorMask(Le,Le,Le,Le),de=Le)},setLocked:function(Le){G=Le},setClear:function(Le,Xe,dt,Ve,rt){rt===!0&&(Le*=Ve,Xe*=Ve,dt*=Ve),De.set(Le,Xe,dt,Ve),ye.equals(De)===!1&&(n.clearColor(Le,Xe,dt,Ve),ye.copy(De))},reset:function(){G=!1,de=null,ye.set(-1,0,0,0)}}}function t(){let G=!1,De=null,de=null,ye=null;return{setTest:function(Le){Le?be(n.DEPTH_TEST):xe(n.DEPTH_TEST)},setMask:function(Le){De!==Le&&!G&&(n.depthMask(Le),De=Le)},setFunc:function(Le){if(de!==Le){switch(Le){case Cq:n.depthFunc(n.NEVER);break;case Tq:n.depthFunc(n.ALWAYS);break;case Rq:n.depthFunc(n.LESS);break;case JS:n.depthFunc(n.LEQUAL);break;case Pq:n.depthFunc(n.EQUAL);break;case Bq:n.depthFunc(n.GEQUAL);break;case Iq:n.depthFunc(n.GREATER);break;case Lq:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}de=Le}},setLocked:function(Le){G=Le},setClear:function(Le){ye!==Le&&(n.clearDepth(Le),ye=Le)},reset:function(){G=!1,De=null,de=null,ye=null}}}function i(){let G=!1,De=null,de=null,ye=null,Le=null,Xe=null,dt=null,Ve=null,rt=null;return{setTest:function(pt){G||(pt?be(n.STENCIL_TEST):xe(n.STENCIL_TEST))},setMask:function(pt){De!==pt&&!G&&(n.stencilMask(pt),De=pt)},setFunc:function(pt,$t,Ue){(de!==pt||ye!==$t||Le!==Ue)&&(n.stencilFunc(pt,$t,Ue),de=pt,ye=$t,Le=Ue)},setOp:function(pt,$t,Ue){(Xe!==pt||dt!==$t||Ve!==Ue)&&(n.stencilOp(pt,$t,Ue),Xe=pt,dt=$t,Ve=Ue)},setLocked:function(pt){G=pt},setClear:function(pt){rt!==pt&&(n.clearStencil(pt),rt=pt)},reset:function(){G=!1,De=null,de=null,ye=null,Le=null,Xe=null,dt=null,Ve=null,rt=null}}}const r=new e,s=new t,o=new i,a=new WeakMap,l=new WeakMap;let c={},h={},d=new WeakMap,p=[],m=null,v=!1,x=null,y=null,g=null,S=null,w=null,b=null,P=null,T=new Et(0,0,0),B=0,I=!1,R=null,C=null,N=null,j=null,W=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,Y=0;const ie=n.getParameter(n.VERSION);ie.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(ie)[1]),Q=Y>=1):ie.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),Q=Y>=2);let D=null,z={};const H=n.getParameter(n.SCISSOR_BOX),ee=n.getParameter(n.VIEWPORT),pe=new Yn().fromArray(H),ke=new Yn().fromArray(ee);function ne(G,De,de,ye){const Le=new Uint8Array(4),Xe=n.createTexture();n.bindTexture(G,Xe),n.texParameteri(G,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(G,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let dt=0;dt<de;dt++)G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY?n.texImage3D(De,0,n.RGBA,1,1,ye,0,n.RGBA,n.UNSIGNED_BYTE,Le):n.texImage2D(De+dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Le);return Xe}const ve={};ve[n.TEXTURE_2D]=ne(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=ne(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=ne(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=ne(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),be(n.DEPTH_TEST),s.setFunc(JS),_e(!1),Ne(OF),be(n.CULL_FACE),me(Th);function be(G){c[G]!==!0&&(n.enable(G),c[G]=!0)}function xe(G){c[G]!==!1&&(n.disable(G),c[G]=!1)}function st(G,De){return h[G]!==De?(n.bindFramebuffer(G,De),h[G]=De,G===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=De),G===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=De),!0):!1}function Ke(G,De){let de=p,ye=!1;if(G){de=d.get(De),de===void 0&&(de=[],d.set(De,de));const Le=G.textures;if(de.length!==Le.length||de[0]!==n.COLOR_ATTACHMENT0){for(let Xe=0,dt=Le.length;Xe<dt;Xe++)de[Xe]=n.COLOR_ATTACHMENT0+Xe;de.length=Le.length,ye=!0}}else de[0]!==n.BACK&&(de[0]=n.BACK,ye=!0);ye&&n.drawBuffers(de)}function Ge(G){return m!==G?(n.useProgram(G),m=G,!0):!1}const U={[of]:n.FUNC_ADD,[uq]:n.FUNC_SUBTRACT,[hq]:n.FUNC_REVERSE_SUBTRACT};U[dq]=n.MIN,U[fq]=n.MAX;const fe={[pq]:n.ZERO,[mq]:n.ONE,[gq]:n.SRC_COLOR,[MR]:n.SRC_ALPHA,[Sq]:n.SRC_ALPHA_SATURATE,[_q]:n.DST_COLOR,[yq]:n.DST_ALPHA,[vq]:n.ONE_MINUS_SRC_COLOR,[bR]:n.ONE_MINUS_SRC_ALPHA,[Aq]:n.ONE_MINUS_DST_COLOR,[xq]:n.ONE_MINUS_DST_ALPHA,[wq]:n.CONSTANT_COLOR,[Mq]:n.ONE_MINUS_CONSTANT_COLOR,[bq]:n.CONSTANT_ALPHA,[Eq]:n.ONE_MINUS_CONSTANT_ALPHA};function me(G,De,de,ye,Le,Xe,dt,Ve,rt,pt){if(G===Th){v===!0&&(xe(n.BLEND),v=!1);return}if(v===!1&&(be(n.BLEND),v=!0),G!==cq){if(G!==x||pt!==I){if((y!==of||w!==of)&&(n.blendEquation(n.FUNC_ADD),y=of,w=of),pt)switch(G){case dg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case UF:n.blendFunc(n.ONE,n.ONE);break;case kF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zF:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}else switch(G){case dg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case UF:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case kF:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case zF:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}g=null,S=null,b=null,P=null,T.set(0,0,0),B=0,x=G,I=pt}return}Le=Le||De,Xe=Xe||de,dt=dt||ye,(De!==y||Le!==w)&&(n.blendEquationSeparate(U[De],U[Le]),y=De,w=Le),(de!==g||ye!==S||Xe!==b||dt!==P)&&(n.blendFuncSeparate(fe[de],fe[ye],fe[Xe],fe[dt]),g=de,S=ye,b=Xe,P=dt),(Ve.equals(T)===!1||rt!==B)&&(n.blendColor(Ve.r,Ve.g,Ve.b,rt),T.copy(Ve),B=rt),x=G,I=!1}function Ce(G,De){G.side===ul?xe(n.CULL_FACE):be(n.CULL_FACE);let de=G.side===fo;De&&(de=!de),_e(de),G.blending===dg&&G.transparent===!1?me(Th):me(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.blendColor,G.blendAlpha,G.premultipliedAlpha),s.setFunc(G.depthFunc),s.setTest(G.depthTest),s.setMask(G.depthWrite),r.setMask(G.colorWrite);const ye=G.stencilWrite;o.setTest(ye),ye&&(o.setMask(G.stencilWriteMask),o.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),o.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),Re(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),G.alphaToCoverage===!0?be(n.SAMPLE_ALPHA_TO_COVERAGE):xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function _e(G){R!==G&&(G?n.frontFace(n.CW):n.frontFace(n.CCW),R=G)}function Ne(G){G!==oq?(be(n.CULL_FACE),G!==C&&(G===OF?n.cullFace(n.BACK):G===aq?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):xe(n.CULL_FACE),C=G}function Oe(G){G!==N&&(Q&&n.lineWidth(G),N=G)}function Re(G,De,de){G?(be(n.POLYGON_OFFSET_FILL),(j!==De||W!==de)&&(n.polygonOffset(De,de),j=De,W=de)):xe(n.POLYGON_OFFSET_FILL)}function at(G){G?be(n.SCISSOR_TEST):xe(n.SCISSOR_TEST)}function k(G){G===void 0&&(G=n.TEXTURE0+X-1),D!==G&&(n.activeTexture(G),D=G)}function F(G,De,de){de===void 0&&(D===null?de=n.TEXTURE0+X-1:de=D);let ye=z[de];ye===void 0&&(ye={type:void 0,texture:void 0},z[de]=ye),(ye.type!==G||ye.texture!==De)&&(D!==de&&(n.activeTexture(de),D=de),n.bindTexture(G,De||ve[G]),ye.type=G,ye.texture=De)}function se(){const G=z[D];G!==void 0&&G.type!==void 0&&(n.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)}function ge(){try{n.compressedTexImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ae(){try{n.compressedTexImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Se(){try{n.texSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function qe(){try{n.texSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ie(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ze(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ct(){try{n.texStorage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Te(){try{n.texStorage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function $e(){try{n.texImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ht(){try{n.texImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ye(G){pe.equals(G)===!1&&(n.scissor(G.x,G.y,G.z,G.w),pe.copy(G))}function te(G){ke.equals(G)===!1&&(n.viewport(G.x,G.y,G.z,G.w),ke.copy(G))}function $(G,De){let de=l.get(De);de===void 0&&(de=new WeakMap,l.set(De,de));let ye=de.get(G);ye===void 0&&(ye=n.getUniformBlockIndex(De,G.name),de.set(G,ye))}function Me(G,De){const de=l.get(De).get(G);a.get(De)!==de&&(n.uniformBlockBinding(De,de,G.__bindingPointIndex),a.set(De,de))}function Qe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},D=null,z={},h={},d=new WeakMap,p=[],m=null,v=!1,x=null,y=null,g=null,S=null,w=null,b=null,P=null,T=new Et(0,0,0),B=0,I=!1,R=null,C=null,N=null,j=null,W=null,pe.set(0,0,n.canvas.width,n.canvas.height),ke.set(0,0,n.canvas.width,n.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:be,disable:xe,bindFramebuffer:st,drawBuffers:Ke,useProgram:Ge,setBlending:me,setMaterial:Ce,setFlipSided:_e,setCullFace:Ne,setLineWidth:Oe,setPolygonOffset:Re,setScissorTest:at,activeTexture:k,bindTexture:F,unbindTexture:se,compressedTexImage2D:ge,compressedTexImage3D:Ae,texImage2D:$e,texImage3D:ht,updateUBOMapping:$,uniformBlockBinding:Me,texStorage2D:ct,texStorage3D:Te,texSubImage2D:Se,texSubImage3D:qe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:ze,scissor:Ye,viewport:te,reset:Qe}}function $0e(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new it,h=new WeakMap;let d;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(k,F){return m?new OffscreenCanvas(k,F):iw("canvas")}function x(k,F,se){let ge=1;const Ae=at(k);if((Ae.width>se||Ae.height>se)&&(ge=se/Math.max(Ae.width,Ae.height)),ge<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const Se=Math.floor(ge*Ae.width),qe=Math.floor(ge*Ae.height);d===void 0&&(d=v(Se,qe));const Ie=F?v(Se,qe):d;return Ie.width=Se,Ie.height=qe,Ie.getContext("2d").drawImage(k,0,0,Se,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ae.width+"x"+Ae.height+") to ("+Se+"x"+qe+")."),Ie}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ae.width+"x"+Ae.height+")."),k;return k}function y(k){return k.generateMipmaps&&k.minFilter!==Rr&&k.minFilter!==Ki}function g(k){n.generateMipmap(k)}function S(k,F,se,ge,Ae=!1){if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Se=F;if(F===n.RED&&(se===n.FLOAT&&(Se=n.R32F),se===n.HALF_FLOAT&&(Se=n.R16F),se===n.UNSIGNED_BYTE&&(Se=n.R8)),F===n.RED_INTEGER&&(se===n.UNSIGNED_BYTE&&(Se=n.R8UI),se===n.UNSIGNED_SHORT&&(Se=n.R16UI),se===n.UNSIGNED_INT&&(Se=n.R32UI),se===n.BYTE&&(Se=n.R8I),se===n.SHORT&&(Se=n.R16I),se===n.INT&&(Se=n.R32I)),F===n.RG&&(se===n.FLOAT&&(Se=n.RG32F),se===n.HALF_FLOAT&&(Se=n.RG16F),se===n.UNSIGNED_BYTE&&(Se=n.RG8)),F===n.RG_INTEGER&&(se===n.UNSIGNED_BYTE&&(Se=n.RG8UI),se===n.UNSIGNED_SHORT&&(Se=n.RG16UI),se===n.UNSIGNED_INT&&(Se=n.RG32UI),se===n.BYTE&&(Se=n.RG8I),se===n.SHORT&&(Se=n.RG16I),se===n.INT&&(Se=n.RG32I)),F===n.RGB&&se===n.UNSIGNED_INT_5_9_9_9_REV&&(Se=n.RGB9_E5),F===n.RGBA){const qe=Ae?$S:Hn.getTransfer(ge);se===n.FLOAT&&(Se=n.RGBA32F),se===n.HALF_FLOAT&&(Se=n.RGBA16F),se===n.UNSIGNED_BYTE&&(Se=qe===ai?n.SRGB8_ALPHA8:n.RGBA8),se===n.UNSIGNED_SHORT_4_4_4_4&&(Se=n.RGBA4),se===n.UNSIGNED_SHORT_5_5_5_1&&(Se=n.RGB5_A1)}return(Se===n.R16F||Se===n.R32F||Se===n.RG16F||Se===n.RG32F||Se===n.RGBA16F||Se===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Se}function w(k,F){let se;return k?F===null||F===Fg||F===Ng?se=n.DEPTH24_STENCIL8:F===la?se=n.DEPTH32F_STENCIL8:F===QS&&(se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===Fg||F===Ng?se=n.DEPTH_COMPONENT24:F===la?se=n.DEPTH_COMPONENT32F:F===QS&&(se=n.DEPTH_COMPONENT16),se}function b(k,F){return y(k)===!0||k.isFramebufferTexture&&k.minFilter!==Rr&&k.minFilter!==Ki?Math.log2(Math.max(F.width,F.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?F.mipmaps.length:1}function P(k){const F=k.target;F.removeEventListener("dispose",P),B(F),F.isVideoTexture&&h.delete(F)}function T(k){const F=k.target;F.removeEventListener("dispose",T),R(F)}function B(k){const F=i.get(k);if(F.__webglInit===void 0)return;const se=k.source,ge=p.get(se);if(ge){const Ae=ge[F.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&I(k),Object.keys(ge).length===0&&p.delete(se)}i.remove(k)}function I(k){const F=i.get(k);n.deleteTexture(F.__webglTexture);const se=k.source,ge=p.get(se);delete ge[F.__cacheKey],o.memory.textures--}function R(k){const F=i.get(k);if(k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++){if(Array.isArray(F.__webglFramebuffer[ge]))for(let Ae=0;Ae<F.__webglFramebuffer[ge].length;Ae++)n.deleteFramebuffer(F.__webglFramebuffer[ge][Ae]);else n.deleteFramebuffer(F.__webglFramebuffer[ge]);F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[ge])}else{if(Array.isArray(F.__webglFramebuffer))for(let ge=0;ge<F.__webglFramebuffer.length;ge++)n.deleteFramebuffer(F.__webglFramebuffer[ge]);else n.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let ge=0;ge<F.__webglColorRenderbuffer.length;ge++)F.__webglColorRenderbuffer[ge]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[ge]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const se=k.textures;for(let ge=0,Ae=se.length;ge<Ae;ge++){const Se=i.get(se[ge]);Se.__webglTexture&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),i.remove(se[ge])}i.remove(k)}let C=0;function N(){C=0}function j(){const k=C;return k>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+r.maxTextures),C+=1,k}function W(k){const F=[];return F.push(k.wrapS),F.push(k.wrapT),F.push(k.wrapR||0),F.push(k.magFilter),F.push(k.minFilter),F.push(k.anisotropy),F.push(k.internalFormat),F.push(k.format),F.push(k.type),F.push(k.generateMipmaps),F.push(k.premultiplyAlpha),F.push(k.flipY),F.push(k.unpackAlignment),F.push(k.colorSpace),F.join()}function X(k,F){const se=i.get(k);if(k.isVideoTexture&&Oe(k),k.isRenderTargetTexture===!1&&k.version>0&&se.__version!==k.version){const ge=k.image;if(ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(se,k,F);return}}t.bindTexture(n.TEXTURE_2D,se.__webglTexture,n.TEXTURE0+F)}function Q(k,F){const se=i.get(k);if(k.version>0&&se.__version!==k.version){ke(se,k,F);return}t.bindTexture(n.TEXTURE_2D_ARRAY,se.__webglTexture,n.TEXTURE0+F)}function Y(k,F){const se=i.get(k);if(k.version>0&&se.__version!==k.version){ke(se,k,F);return}t.bindTexture(n.TEXTURE_3D,se.__webglTexture,n.TEXTURE0+F)}function ie(k,F){const se=i.get(k);if(k.version>0&&se.__version!==k.version){ne(se,k,F);return}t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+F)}const D={[kf]:n.REPEAT,[aa]:n.CLAMP_TO_EDGE,[Tx]:n.MIRRORED_REPEAT},z={[Rr]:n.NEAREST,[rP]:n.NEAREST_MIPMAP_NEAREST,[jm]:n.NEAREST_MIPMAP_LINEAR,[Ki]:n.LINEAR,[sx]:n.LINEAR_MIPMAP_NEAREST,[fl]:n.LINEAR_MIPMAP_LINEAR},H={[s$]:n.NEVER,[h$]:n.ALWAYS,[o$]:n.LESS,[p4]:n.LEQUAL,[a$]:n.EQUAL,[u$]:n.GEQUAL,[l$]:n.GREATER,[c$]:n.NOTEQUAL};function ee(k,F){if(F.type===la&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===Ki||F.magFilter===sx||F.magFilter===jm||F.magFilter===fl||F.minFilter===Ki||F.minFilter===sx||F.minFilter===jm||F.minFilter===fl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(k,n.TEXTURE_WRAP_S,D[F.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,D[F.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,D[F.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,z[F.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,z[F.minFilter]),F.compareFunction&&(n.texParameteri(k,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(k,n.TEXTURE_COMPARE_FUNC,H[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Rr||F.minFilter!==jm&&F.minFilter!==fl||F.type===la&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(k,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function pe(k,F){let se=!1;k.__webglInit===void 0&&(k.__webglInit=!0,F.addEventListener("dispose",P));const ge=F.source;let Ae=p.get(ge);Ae===void 0&&(Ae={},p.set(ge,Ae));const Se=W(F);if(Se!==k.__cacheKey){Ae[Se]===void 0&&(Ae[Se]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,se=!0),Ae[Se].usedTimes++;const qe=Ae[k.__cacheKey];qe!==void 0&&(Ae[k.__cacheKey].usedTimes--,qe.usedTimes===0&&I(F)),k.__cacheKey=Se,k.__webglTexture=Ae[Se].texture}return se}function ke(k,F,se){let ge=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(ge=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(ge=n.TEXTURE_3D);const Ae=pe(k,F),Se=F.source;t.bindTexture(ge,k.__webglTexture,n.TEXTURE0+se);const qe=i.get(Se);if(Se.version!==qe.__version||Ae===!0){t.activeTexture(n.TEXTURE0+se);const Ie=Hn.getPrimaries(Hn.workingColorSpace),ze=F.colorSpace===fh?null:Hn.getPrimaries(F.colorSpace),ct=F.colorSpace===fh||Ie===ze?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);let Te=x(F.image,!1,r.maxTextureSize);Te=Re(F,Te);const $e=s.convert(F.format,F.colorSpace),ht=s.convert(F.type);let Ye=S(F.internalFormat,$e,ht,F.colorSpace,F.isVideoTexture);ee(ge,F);let te;const $=F.mipmaps,Me=F.isVideoTexture!==!0,Qe=qe.__version===void 0||Ae===!0,G=Se.dataReady,De=b(F,Te);if(F.isDepthTexture)Ye=w(F.format===Og,F.type),Qe&&(Me?t.texStorage2D(n.TEXTURE_2D,1,Ye,Te.width,Te.height):t.texImage2D(n.TEXTURE_2D,0,Ye,Te.width,Te.height,0,$e,ht,null));else if(F.isDataTexture)if($.length>0){Me&&Qe&&t.texStorage2D(n.TEXTURE_2D,De,Ye,$[0].width,$[0].height);for(let de=0,ye=$.length;de<ye;de++)te=$[de],Me?G&&t.texSubImage2D(n.TEXTURE_2D,de,0,0,te.width,te.height,$e,ht,te.data):t.texImage2D(n.TEXTURE_2D,de,Ye,te.width,te.height,0,$e,ht,te.data);F.generateMipmaps=!1}else Me?(Qe&&t.texStorage2D(n.TEXTURE_2D,De,Ye,Te.width,Te.height),G&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Te.width,Te.height,$e,ht,Te.data)):t.texImage2D(n.TEXTURE_2D,0,Ye,Te.width,Te.height,0,$e,ht,Te.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Me&&Qe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Ye,$[0].width,$[0].height,Te.depth);for(let de=0,ye=$.length;de<ye;de++)if(te=$[de],F.format!==co)if($e!==null)if(Me){if(G)if(F.layerUpdates.size>0){for(const Le of F.layerUpdates){const Xe=te.width*te.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,Le,te.width,te.height,1,$e,te.data.slice(Xe*Le,Xe*(Le+1)),0,0)}F.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,te.width,te.height,Te.depth,$e,te.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,de,Ye,te.width,te.height,Te.depth,0,te.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?G&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,te.width,te.height,Te.depth,$e,ht,te.data):t.texImage3D(n.TEXTURE_2D_ARRAY,de,Ye,te.width,te.height,Te.depth,0,$e,ht,te.data)}else{Me&&Qe&&t.texStorage2D(n.TEXTURE_2D,De,Ye,$[0].width,$[0].height);for(let de=0,ye=$.length;de<ye;de++)te=$[de],F.format!==co?$e!==null?Me?G&&t.compressedTexSubImage2D(n.TEXTURE_2D,de,0,0,te.width,te.height,$e,te.data):t.compressedTexImage2D(n.TEXTURE_2D,de,Ye,te.width,te.height,0,te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?G&&t.texSubImage2D(n.TEXTURE_2D,de,0,0,te.width,te.height,$e,ht,te.data):t.texImage2D(n.TEXTURE_2D,de,Ye,te.width,te.height,0,$e,ht,te.data)}else if(F.isDataArrayTexture)if(Me){if(Qe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Ye,Te.width,Te.height,Te.depth),G)if(F.layerUpdates.size>0){let de;switch(ht){case n.UNSIGNED_BYTE:switch($e){case n.ALPHA:de=1;break;case n.LUMINANCE:de=1;break;case n.LUMINANCE_ALPHA:de=2;break;case n.RGB:de=3;break;case n.RGBA:de=4;break;default:throw new Error(`Unknown texel size for format ${$e}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:de=1;break;default:throw new Error(`Unknown texel size for type ${ht}.`)}const ye=Te.width*Te.height*de;for(const Le of F.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Le,Te.width,Te.height,1,$e,ht,Te.data.slice(ye*Le,ye*(Le+1)));F.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Te.width,Te.height,Te.depth,$e,ht,Te.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ye,Te.width,Te.height,Te.depth,0,$e,ht,Te.data);else if(F.isData3DTexture)Me?(Qe&&t.texStorage3D(n.TEXTURE_3D,De,Ye,Te.width,Te.height,Te.depth),G&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Te.width,Te.height,Te.depth,$e,ht,Te.data)):t.texImage3D(n.TEXTURE_3D,0,Ye,Te.width,Te.height,Te.depth,0,$e,ht,Te.data);else if(F.isFramebufferTexture){if(Qe)if(Me)t.texStorage2D(n.TEXTURE_2D,De,Ye,Te.width,Te.height);else{let de=Te.width,ye=Te.height;for(let Le=0;Le<De;Le++)t.texImage2D(n.TEXTURE_2D,Le,Ye,de,ye,0,$e,ht,null),de>>=1,ye>>=1}}else if($.length>0){if(Me&&Qe){const de=at($[0]);t.texStorage2D(n.TEXTURE_2D,De,Ye,de.width,de.height)}for(let de=0,ye=$.length;de<ye;de++)te=$[de],Me?G&&t.texSubImage2D(n.TEXTURE_2D,de,0,0,$e,ht,te):t.texImage2D(n.TEXTURE_2D,de,Ye,$e,ht,te);F.generateMipmaps=!1}else if(Me){if(Qe){const de=at(Te);t.texStorage2D(n.TEXTURE_2D,De,Ye,de.width,de.height)}G&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,$e,ht,Te)}else t.texImage2D(n.TEXTURE_2D,0,Ye,$e,ht,Te);y(F)&&g(ge),qe.__version=Se.version,F.onUpdate&&F.onUpdate(F)}k.__version=F.version}function ne(k,F,se){if(F.image.length!==6)return;const ge=pe(k,F),Ae=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+se);const Se=i.get(Ae);if(Ae.version!==Se.__version||ge===!0){t.activeTexture(n.TEXTURE0+se);const qe=Hn.getPrimaries(Hn.workingColorSpace),Ie=F.colorSpace===fh?null:Hn.getPrimaries(F.colorSpace),ze=F.colorSpace===fh||qe===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const ct=F.isCompressedTexture||F.image[0].isCompressedTexture,Te=F.image[0]&&F.image[0].isDataTexture,$e=[];for(let ye=0;ye<6;ye++)!ct&&!Te?$e[ye]=x(F.image[ye],!0,r.maxCubemapSize):$e[ye]=Te?F.image[ye].image:F.image[ye],$e[ye]=Re(F,$e[ye]);const ht=$e[0],Ye=s.convert(F.format,F.colorSpace),te=s.convert(F.type),$=S(F.internalFormat,Ye,te,F.colorSpace),Me=F.isVideoTexture!==!0,Qe=Se.__version===void 0||ge===!0,G=Ae.dataReady;let De=b(F,ht);ee(n.TEXTURE_CUBE_MAP,F);let de;if(ct){Me&&Qe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,De,$,ht.width,ht.height);for(let ye=0;ye<6;ye++){de=$e[ye].mipmaps;for(let Le=0;Le<de.length;Le++){const Xe=de[Le];F.format!==co?Ye!==null?Me?G&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,0,0,Xe.width,Xe.height,Ye,Xe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,$,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,0,0,Xe.width,Xe.height,Ye,te,Xe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,$,Xe.width,Xe.height,0,Ye,te,Xe.data)}}}else{if(de=F.mipmaps,Me&&Qe){de.length>0&&De++;const ye=at($e[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,De,$,ye.width,ye.height)}for(let ye=0;ye<6;ye++)if(Te){Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,0,0,$e[ye].width,$e[ye].height,Ye,te,$e[ye].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,$,$e[ye].width,$e[ye].height,0,Ye,te,$e[ye].data);for(let Le=0;Le<de.length;Le++){const Xe=de[Le].image[ye].image;Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,0,0,Xe.width,Xe.height,Ye,te,Xe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,$,Xe.width,Xe.height,0,Ye,te,Xe.data)}}else{Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,0,0,Ye,te,$e[ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,$,Ye,te,$e[ye]);for(let Le=0;Le<de.length;Le++){const Xe=de[Le];Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,0,0,Ye,te,Xe.image[ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,$,Ye,te,Xe.image[ye])}}}y(F)&&g(n.TEXTURE_CUBE_MAP),Se.__version=Ae.version,F.onUpdate&&F.onUpdate(F)}k.__version=F.version}function ve(k,F,se,ge,Ae,Se){const qe=s.convert(se.format,se.colorSpace),Ie=s.convert(se.type),ze=S(se.internalFormat,qe,Ie,se.colorSpace);if(!i.get(F).__hasExternalTextures){const ct=Math.max(1,F.width>>Se),Te=Math.max(1,F.height>>Se);Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?t.texImage3D(Ae,Se,ze,ct,Te,F.depth,0,qe,Ie,null):t.texImage2D(Ae,Se,ze,ct,Te,0,qe,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,k),Ne(F)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ge,Ae,i.get(se).__webglTexture,0,_e(F)):(Ae===n.TEXTURE_2D||Ae>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ge,Ae,i.get(se).__webglTexture,Se),t.bindFramebuffer(n.FRAMEBUFFER,null)}function be(k,F,se){if(n.bindRenderbuffer(n.RENDERBUFFER,k),F.depthBuffer){const ge=F.depthTexture,Ae=ge&&ge.isDepthTexture?ge.type:null,Se=w(F.stencilBuffer,Ae),qe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=_e(F);Ne(F)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ie,Se,F.width,F.height):se?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ie,Se,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,Se,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,qe,n.RENDERBUFFER,k)}else{const ge=F.textures;for(let Ae=0;Ae<ge.length;Ae++){const Se=ge[Ae],qe=s.convert(Se.format,Se.colorSpace),Ie=s.convert(Se.type),ze=S(Se.internalFormat,qe,Ie,Se.colorSpace),ct=_e(F);se&&Ne(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,ze,F.width,F.height):Ne(F)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ct,ze,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,ze,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function xe(k,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),X(F.depthTexture,0);const se=i.get(F.depthTexture).__webglTexture,ge=_e(F);if(F.depthTexture.format===fg)Ne(F)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,se,0,ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,se,0);else if(F.depthTexture.format===Og)Ne(F)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,se,0,ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,se,0);else throw new Error("Unknown depthTexture format")}function st(k){const F=i.get(k),se=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!F.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");xe(F.__webglFramebuffer,k)}else if(se){F.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[ge]),F.__webglDepthbuffer[ge]=n.createRenderbuffer(),be(F.__webglDepthbuffer[ge],k,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),be(F.__webglDepthbuffer,k,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ke(k,F,se){const ge=i.get(k);F!==void 0&&ve(ge.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),se!==void 0&&st(k)}function Ge(k){const F=k.texture,se=i.get(k),ge=i.get(F);k.addEventListener("dispose",T);const Ae=k.textures,Se=k.isWebGLCubeRenderTarget===!0,qe=Ae.length>1;if(qe||(ge.__webglTexture===void 0&&(ge.__webglTexture=n.createTexture()),ge.__version=F.version,o.memory.textures++),Se){se.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(F.mipmaps&&F.mipmaps.length>0){se.__webglFramebuffer[Ie]=[];for(let ze=0;ze<F.mipmaps.length;ze++)se.__webglFramebuffer[Ie][ze]=n.createFramebuffer()}else se.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){se.__webglFramebuffer=[];for(let Ie=0;Ie<F.mipmaps.length;Ie++)se.__webglFramebuffer[Ie]=n.createFramebuffer()}else se.__webglFramebuffer=n.createFramebuffer();if(qe)for(let Ie=0,ze=Ae.length;Ie<ze;Ie++){const ct=i.get(Ae[Ie]);ct.__webglTexture===void 0&&(ct.__webglTexture=n.createTexture(),o.memory.textures++)}if(k.samples>0&&Ne(k)===!1){se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let Ie=0;Ie<Ae.length;Ie++){const ze=Ae[Ie];se.__webglColorRenderbuffer[Ie]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,se.__webglColorRenderbuffer[Ie]);const ct=s.convert(ze.format,ze.colorSpace),Te=s.convert(ze.type),$e=S(ze.internalFormat,ct,Te,ze.colorSpace,k.isXRRenderTarget===!0),ht=_e(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,ht,$e,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ie,n.RENDERBUFFER,se.__webglColorRenderbuffer[Ie])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),be(se.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture),ee(n.TEXTURE_CUBE_MAP,F);for(let Ie=0;Ie<6;Ie++)if(F.mipmaps&&F.mipmaps.length>0)for(let ze=0;ze<F.mipmaps.length;ze++)ve(se.__webglFramebuffer[Ie][ze],k,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ze);else ve(se.__webglFramebuffer[Ie],k,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);y(F)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(qe){for(let Ie=0,ze=Ae.length;Ie<ze;Ie++){const ct=Ae[Ie],Te=i.get(ct);t.bindTexture(n.TEXTURE_2D,Te.__webglTexture),ee(n.TEXTURE_2D,ct),ve(se.__webglFramebuffer,k,ct,n.COLOR_ATTACHMENT0+Ie,n.TEXTURE_2D,0),y(ct)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(Ie=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ie,ge.__webglTexture),ee(Ie,F),F.mipmaps&&F.mipmaps.length>0)for(let ze=0;ze<F.mipmaps.length;ze++)ve(se.__webglFramebuffer[ze],k,F,n.COLOR_ATTACHMENT0,Ie,ze);else ve(se.__webglFramebuffer,k,F,n.COLOR_ATTACHMENT0,Ie,0);y(F)&&g(Ie),t.unbindTexture()}k.depthBuffer&&st(k)}function U(k){const F=k.textures;for(let se=0,ge=F.length;se<ge;se++){const Ae=F[se];if(y(Ae)){const Se=k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,qe=i.get(Ae).__webglTexture;t.bindTexture(Se,qe),g(Se),t.unbindTexture()}}}const fe=[],me=[];function Ce(k){if(k.samples>0){if(Ne(k)===!1){const F=k.textures,se=k.width,ge=k.height;let Ae=n.COLOR_BUFFER_BIT;const Se=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qe=i.get(k),Ie=F.length>1;if(Ie)for(let ze=0;ze<F.length;ze++)t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let ze=0;ze<F.length;ze++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(Ae|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(Ae|=n.STENCIL_BUFFER_BIT)),Ie){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,qe.__webglColorRenderbuffer[ze]);const ct=i.get(F[ze]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ct,0)}n.blitFramebuffer(0,0,se,ge,0,0,se,ge,Ae,n.NEAREST),l===!0&&(fe.length=0,me.length=0,fe.push(n.COLOR_ATTACHMENT0+ze),k.depthBuffer&&k.resolveDepthBuffer===!1&&(fe.push(Se),me.push(Se),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,me)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,fe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ie)for(let ze=0;ze<F.length;ze++){t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.RENDERBUFFER,qe.__webglColorRenderbuffer[ze]);const ct=i.get(F[ze]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.TEXTURE_2D,ct,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&l){const F=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[F])}}}function _e(k){return Math.min(r.maxSamples,k.samples)}function Ne(k){const F=i.get(k);return k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Oe(k){const F=o.render.frame;h.get(k)!==F&&(h.set(k,F),k.update())}function Re(k,F){const se=k.colorSpace,ge=k.format,Ae=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||se!==nd&&se!==fh&&(Hn.getTransfer(se)===ai?(ge!==co||Ae!==cu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),F}function at(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(c.width=k.naturalWidth||k.width,c.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(c.width=k.displayWidth,c.height=k.displayHeight):(c.width=k.width,c.height=k.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=N,this.setTexture2D=X,this.setTexture2DArray=Q,this.setTexture3D=Y,this.setTextureCube=ie,this.rebindTextures=Ke,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=U,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=st,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ne}function R$(n,e){function t(i,r=fh){let s;const o=Hn.getTransfer(r);if(i===cu)return n.UNSIGNED_BYTE;if(i===o4)return n.UNSIGNED_SHORT_4_4_4_4;if(i===a4)return n.UNSIGNED_SHORT_5_5_5_1;if(i===Wq)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===Vq)return n.BYTE;if(i===jq)return n.SHORT;if(i===QS)return n.UNSIGNED_SHORT;if(i===s4)return n.INT;if(i===Fg)return n.UNSIGNED_INT;if(i===la)return n.FLOAT;if(i===aM)return n.HALF_FLOAT;if(i===Xq)return n.ALPHA;if(i===Jq)return n.RGB;if(i===co)return n.RGBA;if(i===Kq)return n.LUMINANCE;if(i===Yq)return n.LUMINANCE_ALPHA;if(i===fg)return n.DEPTH_COMPONENT;if(i===Og)return n.DEPTH_STENCIL;if(i===l4)return n.RED;if(i===c4)return n.RED_INTEGER;if(i===Qq)return n.RG;if(i===u4)return n.RG_INTEGER;if(i===h4)return n.RGBA_INTEGER;if(i===yT||i===xT||i===_T||i===AT)if(o===ai)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===yT)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===xT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===_T)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===AT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===yT)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===xT)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===_T)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===AT)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===GF||i===VF||i===jF||i===WF)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===GF)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===VF)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===jF)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===WF)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===XF||i===JF||i===KF)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===XF||i===JF)return o===ai?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===KF)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===YF||i===QF||i===qF||i===$F||i===ZF||i===eN||i===tN||i===nN||i===iN||i===rN||i===sN||i===oN||i===aN||i===lN)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===YF)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===QF)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===qF)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===$F)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===ZF)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===eN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===tN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===nN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===iN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===rN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===sN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===oN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===aN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===lN)return o===ai?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===ST||i===cN||i===uN)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===ST)return o===ai?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===cN)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===uN)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===qq||i===hN||i===dN||i===fN)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===ST)return s.COMPRESSED_RED_RGTC1_EXT;if(i===hN)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===dN)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===fN)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Ng?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class P$ extends xi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class xh extends Rn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Z0e={type:"move"};class iL{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=t.getJointPose(x,i),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Z0e)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new xh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const eve=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,tve=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class nve{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ri,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new lc({vertexShader:eve,fragmentShader:tve,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Qi(new u1(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class ive extends yu{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,h=null,d=null,p=null,m=null,v=null;const x=new nve,y=t.getContextAttributes();let g=null,S=null;const w=[],b=[],P=new it;let T=null;const B=new xi;B.layers.enable(1),B.viewport=new Yn;const I=new xi;I.layers.enable(2),I.viewport=new Yn;const R=[B,I],C=new P$;C.layers.enable(1),C.layers.enable(2);let N=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let ve=w[ne];return ve===void 0&&(ve=new iL,w[ne]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(ne){let ve=w[ne];return ve===void 0&&(ve=new iL,w[ne]=ve),ve.getGripSpace()},this.getHand=function(ne){let ve=w[ne];return ve===void 0&&(ve=new iL,w[ne]=ve),ve.getHandSpace()};function W(ne){const ve=b.indexOf(ne.inputSource);if(ve===-1)return;const be=w[ve];be!==void 0&&(be.update(ne.inputSource,ne.frame,c||o),be.dispatchEvent({type:ne.type,data:ne.inputSource}))}function X(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",Q);for(let ne=0;ne<w.length;ne++){const ve=b[ne];ve!==null&&(b[ne]=null,w[ne].disconnect(ve))}N=null,j=null,x.reset(),e.setRenderTarget(g),m=null,p=null,d=null,r=null,S=null,ke.stop(),i.isPresenting=!1,e.setPixelRatio(T),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ne){c=ne},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(ne){if(r=ne,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",X),r.addEventListener("inputsourceschange",Q),y.xrCompatible!==!0&&await t.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(P),r.renderState.layers===void 0){const ve={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ve),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new ac(m.framebufferWidth,m.framebufferHeight,{format:co,type:cu,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ve=null,be=null,xe=null;y.depth&&(xe=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=y.stencil?Og:fg,be=y.stencil?Ng:Fg);const st={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(st),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),S=new ac(p.textureWidth,p.textureHeight,{format:co,type:cu,depthTexture:new M4(p.textureWidth,p.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ke.setContext(r),ke.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Q(ne){for(let ve=0;ve<ne.removed.length;ve++){const be=ne.removed[ve],xe=b.indexOf(be);xe>=0&&(b[xe]=null,w[xe].disconnect(be))}for(let ve=0;ve<ne.added.length;ve++){const be=ne.added[ve];let xe=b.indexOf(be);if(xe===-1){for(let Ke=0;Ke<w.length;Ke++)if(Ke>=b.length){b.push(be),xe=Ke;break}else if(b[Ke]===null){b[Ke]=be,xe=Ke;break}if(xe===-1)break}const st=w[xe];st&&st.connect(be)}}const Y=new ce,ie=new ce;function D(ne,ve,be){Y.setFromMatrixPosition(ve.matrixWorld),ie.setFromMatrixPosition(be.matrixWorld);const xe=Y.distanceTo(ie),st=ve.projectionMatrix.elements,Ke=be.projectionMatrix.elements,Ge=st[14]/(st[10]-1),U=st[14]/(st[10]+1),fe=(st[9]+1)/st[5],me=(st[9]-1)/st[5],Ce=(st[8]-1)/st[0],_e=(Ke[8]+1)/Ke[0],Ne=Ge*Ce,Oe=Ge*_e,Re=xe/(-Ce+_e),at=Re*-Ce;ve.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(at),ne.translateZ(Re),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const k=Ge+Re,F=U+Re,se=Ne-at,ge=Oe+(xe-at),Ae=fe*U/F*k,Se=me*U/F*k;ne.projectionMatrix.makePerspective(se,ge,Ae,Se,k,F),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}function z(ne,ve){ve===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(ve.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(r===null)return;x.texture!==null&&(ne.near=x.depthNear,ne.far=x.depthFar),C.near=I.near=B.near=ne.near,C.far=I.far=B.far=ne.far,(N!==C.near||j!==C.far)&&(r.updateRenderState({depthNear:C.near,depthFar:C.far}),N=C.near,j=C.far,B.near=N,B.far=j,I.near=N,I.far=j,B.updateProjectionMatrix(),I.updateProjectionMatrix(),ne.updateProjectionMatrix());const ve=ne.parent,be=C.cameras;z(C,ve);for(let xe=0;xe<be.length;xe++)z(be[xe],ve);be.length===2?D(C,B,I):C.projectionMatrix.copy(B.projectionMatrix),H(ne,C,ve)};function H(ne,ve,be){be===null?ne.matrix.copy(ve.matrixWorld):(ne.matrix.copy(be.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(ve.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(ve.projectionMatrix),ne.projectionMatrixInverse.copy(ve.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=Bx*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ne){l=ne,p!==null&&(p.fixedFoveation=ne),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ne)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(C)};let ee=null;function pe(ne,ve){if(h=ve.getViewerPose(c||o),v=ve,h!==null){const be=h.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let xe=!1;be.length!==C.cameras.length&&(C.cameras.length=0,xe=!0);for(let Ke=0;Ke<be.length;Ke++){const Ge=be[Ke];let U=null;if(m!==null)U=m.getViewport(Ge);else{const me=d.getViewSubImage(p,Ge);U=me.viewport,Ke===0&&(e.setRenderTargetTextures(S,me.colorTexture,p.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(S))}let fe=R[Ke];fe===void 0&&(fe=new xi,fe.layers.enable(Ke),fe.viewport=new Yn,R[Ke]=fe),fe.matrix.fromArray(Ge.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(Ge.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(U.x,U.y,U.width,U.height),Ke===0&&(C.matrix.copy(fe.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),xe===!0&&C.cameras.push(fe)}const st=r.enabledFeatures;if(st&&st.includes("depth-sensing")){const Ke=d.getDepthInformation(be[0]);Ke&&Ke.isValid&&Ke.texture&&x.init(e,Ke,r.renderState)}}for(let be=0;be<w.length;be++){const xe=b[be],st=w[be];xe!==null&&st!==void 0&&st.update(xe,ve,c||o)}ee&&ee(ne,ve),ve.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ve}),v=null}const ke=new w$;ke.setAnimationLoop(pe),this.setAnimationLoop=function(ne){ee=ne},this.dispose=function(){}}}const qp=new Aa,rve=new jt;function sve(n,e){function t(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function i(y,g){g.color.getRGB(y.fogColor.value,A$(n)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function r(y,g,S,w,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),d(y,g)):g.isMeshPhongMaterial?(s(y,g),h(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,b)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),x(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,S,w):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,t(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===fo&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,t(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===fo&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,t(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,t(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const S=e.get(g),w=S.envMap,b=S.envMapRotation;w&&(y.envMap.value=w,qp.copy(b),qp.x*=-1,qp.y*=-1,qp.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(qp.y*=-1,qp.z*=-1),y.envMapRotation.value.setFromMatrix4(rve.makeRotationFromEuler(qp)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,S,w){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*S,y.scale.value=w*.5,g.map&&(y.map.value=g.map,t(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function h(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,S){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===fo&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const S=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function ove(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,w){const b=w.program;i.uniformBlockBinding(S,b)}function c(S,w){let b=r[S.id];b===void 0&&(v(S),b=h(S),r[S.id]=b,S.addEventListener("dispose",y));const P=w.program;i.updateUBOMapping(S,P);const T=e.render.frame;s[S.id]!==T&&(p(S),s[S.id]=T)}function h(S){const w=d();S.__bindingPointIndex=w;const b=n.createBuffer(),P=S.__size,T=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,P,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,b),b}function d(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const w=r[S.id],b=S.uniforms,P=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let T=0,B=b.length;T<B;T++){const I=Array.isArray(b[T])?b[T]:[b[T]];for(let R=0,C=I.length;R<C;R++){const N=I[R];if(m(N,T,R,P)===!0){const j=N.__offset,W=Array.isArray(N.value)?N.value:[N.value];let X=0;for(let Q=0;Q<W.length;Q++){const Y=W[Q],ie=x(Y);typeof Y=="number"||typeof Y=="boolean"?(N.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,j+X,N.__data)):Y.isMatrix3?(N.__data[0]=Y.elements[0],N.__data[1]=Y.elements[1],N.__data[2]=Y.elements[2],N.__data[3]=0,N.__data[4]=Y.elements[3],N.__data[5]=Y.elements[4],N.__data[6]=Y.elements[5],N.__data[7]=0,N.__data[8]=Y.elements[6],N.__data[9]=Y.elements[7],N.__data[10]=Y.elements[8],N.__data[11]=0):(Y.toArray(N.__data,X),X+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,j,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(S,w,b,P){const T=S.value,B=w+"_"+b;if(P[B]===void 0)return typeof T=="number"||typeof T=="boolean"?P[B]=T:P[B]=T.clone(),!0;{const I=P[B];if(typeof T=="number"||typeof T=="boolean"){if(I!==T)return P[B]=T,!0}else if(I.equals(T)===!1)return I.copy(T),!0}return!1}function v(S){const w=S.uniforms;let b=0;const P=16;for(let B=0,I=w.length;B<I;B++){const R=Array.isArray(w[B])?w[B]:[w[B]];for(let C=0,N=R.length;C<N;C++){const j=R[C],W=Array.isArray(j.value)?j.value:[j.value];for(let X=0,Q=W.length;X<Q;X++){const Y=W[X],ie=x(Y),D=b%P;D!==0&&P-D<ie.boundary&&(b+=P-D),j.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=b,b+=ie.storage}}}const T=b%P;return T>0&&(b+=P-T),S.__size=b,S.__cache={},this}function x(S){const w={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function y(S){const w=S.target;w.removeEventListener("dispose",y);const b=o.indexOf(w.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function g(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class B${constructor(e={}){const{canvas:t=p$(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,y=null;const g=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=rl,this.toneMapping=eu,this.toneMappingExposure=1;const w=this;let b=!1,P=0,T=0,B=null,I=-1,R=null;const C=new Yn,N=new Yn;let j=null;const W=new Et(0);let X=0,Q=t.width,Y=t.height,ie=1,D=null,z=null;const H=new Yn(0,0,Q,Y),ee=new Yn(0,0,Q,Y);let pe=!1;const ke=new dM;let ne=!1,ve=!1;const be=new jt,xe=new ce,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ke=!1;function Ge(){return B===null?ie:1}let U=i;function fe(O,J){return t.getContext(O,J)}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${l1}`),t.addEventListener("webglcontextlost",De,!1),t.addEventListener("webglcontextrestored",de,!1),t.addEventListener("webglcontextcreationerror",ye,!1),U===null){const J="webgl2";if(U=fe(J,O),U===null)throw fe(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let me,Ce,_e,Ne,Oe,Re,at,k,F,se,ge,Ae,Se,qe,Ie,ze,ct,Te,$e,ht,Ye,te,$,Me;function Qe(){me=new xge(U),me.init(),te=new R$(U,me),Ce=new fge(U,me,e,te),_e=new q0e(U),Ne=new Sge(U),Oe=new k0e,Re=new $0e(U,me,_e,Oe,Ce,te,Ne),at=new mge(w),k=new yge(w),F=new Rfe(U),$=new hge(U,F),se=new _ge(U,F,Ne,$),ge=new Mge(U,se,F,Ne),$e=new wge(U,Ce,Re),ze=new pge(Oe),Ae=new U0e(w,at,k,me,Ce,$,ze),Se=new sve(w,Oe),qe=new H0e,Ie=new J0e(me),Te=new uge(w,at,k,_e,ge,p,l),ct=new Q0e(w,ge,Ce),Me=new ove(U,Ne,Ce,_e),ht=new dge(U,me,Ne),Ye=new Age(U,me,Ne),Ne.programs=Ae.programs,w.capabilities=Ce,w.extensions=me,w.properties=Oe,w.renderLists=qe,w.shadowMap=ct,w.state=_e,w.info=Ne}Qe();const G=new ive(w,U);this.xr=G,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const O=me.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=me.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(O){O!==void 0&&(ie=O,this.setSize(Q,Y,!1))},this.getSize=function(O){return O.set(Q,Y)},this.setSize=function(O,J,ae=!0){if(G.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=O,Y=J,t.width=Math.floor(O*ie),t.height=Math.floor(J*ie),ae===!0&&(t.style.width=O+"px",t.style.height=J+"px"),this.setViewport(0,0,O,J)},this.getDrawingBufferSize=function(O){return O.set(Q*ie,Y*ie).floor()},this.setDrawingBufferSize=function(O,J,ae){Q=O,Y=J,ie=ae,t.width=Math.floor(O*ae),t.height=Math.floor(J*ae),this.setViewport(0,0,O,J)},this.getCurrentViewport=function(O){return O.copy(C)},this.getViewport=function(O){return O.copy(H)},this.setViewport=function(O,J,ae,q){O.isVector4?H.set(O.x,O.y,O.z,O.w):H.set(O,J,ae,q),_e.viewport(C.copy(H).multiplyScalar(ie).round())},this.getScissor=function(O){return O.copy(ee)},this.setScissor=function(O,J,ae,q){O.isVector4?ee.set(O.x,O.y,O.z,O.w):ee.set(O,J,ae,q),_e.scissor(N.copy(ee).multiplyScalar(ie).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(O){_e.setScissorTest(pe=O)},this.setOpaqueSort=function(O){D=O},this.setTransparentSort=function(O){z=O},this.getClearColor=function(O){return O.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function(O=!0,J=!0,ae=!0){let q=0;if(O){let K=!1;if(B!==null){const Fe=B.texture.format;K=Fe===h4||Fe===u4||Fe===c4}if(K){const Fe=B.texture.type,Je=Fe===cu||Fe===Fg||Fe===QS||Fe===Ng||Fe===o4||Fe===a4,Ze=Te.getClearColor(),et=Te.getClearAlpha(),ft=Ze.r,vt=Ze.g,ut=Ze.b;Je?(m[0]=ft,m[1]=vt,m[2]=ut,m[3]=et,U.clearBufferuiv(U.COLOR,0,m)):(v[0]=ft,v[1]=vt,v[2]=ut,v[3]=et,U.clearBufferiv(U.COLOR,0,v))}else q|=U.COLOR_BUFFER_BIT}J&&(q|=U.DEPTH_BUFFER_BIT),ae&&(q|=U.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),U.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",De,!1),t.removeEventListener("webglcontextrestored",de,!1),t.removeEventListener("webglcontextcreationerror",ye,!1),qe.dispose(),Ie.dispose(),Oe.dispose(),at.dispose(),k.dispose(),ge.dispose(),$.dispose(),Me.dispose(),Ae.dispose(),G.dispose(),G.removeEventListener("sessionstart",$t),G.removeEventListener("sessionend",Ue),ot.stop()};function De(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function de(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const O=Ne.autoReset,J=ct.enabled,ae=ct.autoUpdate,q=ct.needsUpdate,K=ct.type;Qe(),Ne.autoReset=O,ct.enabled=J,ct.autoUpdate=ae,ct.needsUpdate=q,ct.type=K}function ye(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Le(O){const J=O.target;J.removeEventListener("dispose",Le),Xe(J)}function Xe(O){dt(O),Oe.remove(O)}function dt(O){const J=Oe.get(O).programs;J!==void 0&&(J.forEach(function(ae){Ae.releaseProgram(ae)}),O.isShaderMaterial&&Ae.releaseShaderCache(O))}this.renderBufferDirect=function(O,J,ae,q,K,Fe){J===null&&(J=st);const Je=K.isMesh&&K.matrixWorld.determinant()<0,Ze=xr(O,J,ae,q,K);_e.setMaterial(q,Je);let et=ae.index,ft=1;if(q.wireframe===!0){if(et=se.getWireframeAttribute(ae),et===void 0)return;ft=2}const vt=ae.drawRange,ut=ae.attributes.position;let Lt=vt.start*ft,en=(vt.start+vt.count)*ft;Fe!==null&&(Lt=Math.max(Lt,Fe.start*ft),en=Math.min(en,(Fe.start+Fe.count)*ft)),et!==null?(Lt=Math.max(Lt,0),en=Math.min(en,et.count)):ut!=null&&(Lt=Math.max(Lt,0),en=Math.min(en,ut.count));const Xt=en-Lt;if(Xt<0||Xt===1/0)return;$.setup(K,q,Ze,ae,et);let tn,At=ht;if(et!==null&&(tn=F.get(et),At=Ye,At.setIndex(tn)),K.isMesh)q.wireframe===!0?(_e.setLineWidth(q.wireframeLinewidth*Ge()),At.setMode(U.LINES)):At.setMode(U.TRIANGLES);else if(K.isLine){let je=q.linewidth;je===void 0&&(je=1),_e.setLineWidth(je*Ge()),K.isLineSegments?At.setMode(U.LINES):K.isLineLoop?At.setMode(U.LINE_LOOP):At.setMode(U.LINE_STRIP)}else K.isPoints?At.setMode(U.POINTS):K.isSprite&&At.setMode(U.TRIANGLES);if(K.isBatchedMesh)K._multiDrawInstances!==null?At.renderMultiDrawInstances(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount,K._multiDrawInstances):At.renderMultiDraw(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount);else if(K.isInstancedMesh)At.renderInstances(Lt,Xt,K.count);else if(ae.isInstancedBufferGeometry){const je=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,Nt=Math.min(ae.instanceCount,je);At.renderInstances(Lt,Xt,Nt)}else At.render(Lt,Xt)};function Ve(O,J,ae){O.transparent===!0&&O.side===ul&&O.forceSinglePass===!1?(O.side=fo,O.needsUpdate=!0,Zt(O,J,ae),O.side=lu,O.needsUpdate=!0,Zt(O,J,ae),O.side=ul):Zt(O,J,ae)}this.compile=function(O,J,ae=null){ae===null&&(ae=O),y=Ie.get(ae),y.init(J),S.push(y),ae.traverseVisible(function(K){K.isLight&&K.layers.test(J.layers)&&(y.pushLight(K),K.castShadow&&y.pushShadow(K))}),O!==ae&&O.traverseVisible(function(K){K.isLight&&K.layers.test(J.layers)&&(y.pushLight(K),K.castShadow&&y.pushShadow(K))}),y.setupLights();const q=new Set;return O.traverse(function(K){const Fe=K.material;if(Fe)if(Array.isArray(Fe))for(let Je=0;Je<Fe.length;Je++){const Ze=Fe[Je];Ve(Ze,ae,K),q.add(Ze)}else Ve(Fe,ae,K),q.add(Fe)}),S.pop(),y=null,q},this.compileAsync=function(O,J,ae=null){const q=this.compile(O,J,ae);return new Promise(K=>{function Fe(){if(q.forEach(function(Je){Oe.get(Je).currentProgram.isReady()&&q.delete(Je)}),q.size===0){K(O);return}setTimeout(Fe,10)}me.get("KHR_parallel_shader_compile")!==null?Fe():setTimeout(Fe,10)})};let rt=null;function pt(O){rt&&rt(O)}function $t(){ot.stop()}function Ue(){ot.start()}const ot=new w$;ot.setAnimationLoop(pt),typeof self<"u"&&ot.setContext(self),this.setAnimationLoop=function(O){rt=O,G.setAnimationLoop(O),O===null?ot.stop():ot.start()},G.addEventListener("sessionstart",$t),G.addEventListener("sessionend",Ue),this.render=function(O,J){if(J!==void 0&&J.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),J.parent===null&&J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),G.enabled===!0&&G.isPresenting===!0&&(G.cameraAutoUpdate===!0&&G.updateCamera(J),J=G.getCamera()),O.isScene===!0&&O.onBeforeRender(w,O,J,B),y=Ie.get(O,S.length),y.init(J),S.push(y),be.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),ke.setFromProjectionMatrix(be),ve=this.localClippingEnabled,ne=ze.init(this.clippingPlanes,ve),x=qe.get(O,g.length),x.init(),g.push(x),G.enabled===!0&&G.isPresenting===!0){const Fe=w.xr.getDepthSensingMesh();Fe!==null&&gt(Fe,J,-1/0,w.sortObjects)}gt(O,J,0,w.sortObjects),x.finish(),w.sortObjects===!0&&x.sort(D,z),Ke=G.enabled===!1||G.isPresenting===!1||G.hasDepthSensing()===!1,Ke&&Te.addToRenderList(x,O),this.info.render.frame++,ne===!0&&ze.beginShadows();const ae=y.state.shadowsArray;ct.render(ae,O,J),ne===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const q=x.opaque,K=x.transmissive;if(y.setupLights(),J.isArrayCamera){const Fe=J.cameras;if(K.length>0)for(let Je=0,Ze=Fe.length;Je<Ze;Je++){const et=Fe[Je];on(q,K,O,et)}Ke&&Te.render(O);for(let Je=0,Ze=Fe.length;Je<Ze;Je++){const et=Fe[Je];nn(x,O,et,et.viewport)}}else K.length>0&&on(q,K,O,J),Ke&&Te.render(O),nn(x,O,J);B!==null&&(Re.updateMultisampleRenderTarget(B),Re.updateRenderTargetMipmap(B)),O.isScene===!0&&O.onAfterRender(w,O,J),$.resetDefaultState(),I=-1,R=null,S.pop(),S.length>0?(y=S[S.length-1],ne===!0&&ze.setGlobalState(w.clippingPlanes,y.state.camera)):y=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function gt(O,J,ae,q){if(O.visible===!1)return;if(O.layers.test(J.layers)){if(O.isGroup)ae=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(J);else if(O.isLight)y.pushLight(O),O.castShadow&&y.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ke.intersectsSprite(O)){q&&xe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(be);const Fe=ge.update(O),Je=O.material;Je.visible&&x.push(O,Fe,Je,ae,xe.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||ke.intersectsObject(O))){const Fe=ge.update(O),Je=O.material;if(q&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),xe.copy(O.boundingSphere.center)):(Fe.boundingSphere===null&&Fe.computeBoundingSphere(),xe.copy(Fe.boundingSphere.center)),xe.applyMatrix4(O.matrixWorld).applyMatrix4(be)),Array.isArray(Je)){const Ze=Fe.groups;for(let et=0,ft=Ze.length;et<ft;et++){const vt=Ze[et],ut=Je[vt.materialIndex];ut&&ut.visible&&x.push(O,Fe,ut,ae,xe.z,vt)}}else Je.visible&&x.push(O,Fe,Je,ae,xe.z,null)}}const K=O.children;for(let Fe=0,Je=K.length;Fe<Je;Fe++)gt(K[Fe],J,ae,q)}function nn(O,J,ae,q){const K=O.opaque,Fe=O.transmissive,Je=O.transparent;y.setupLightsView(ae),ne===!0&&ze.setGlobalState(w.clippingPlanes,ae),q&&_e.viewport(C.copy(q)),K.length>0&&_n(K,J,ae),Fe.length>0&&_n(Fe,J,ae),Je.length>0&&_n(Je,J,ae),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function on(O,J,ae,q){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[q.id]===void 0&&(y.state.transmissionRenderTarget[q.id]=new ac(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")||me.has("EXT_color_buffer_float")?aM:cu,minFilter:fl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Hn.workingColorSpace}));const K=y.state.transmissionRenderTarget[q.id],Fe=q.viewport||C;K.setSize(Fe.z,Fe.w);const Je=w.getRenderTarget();w.setRenderTarget(K),w.getClearColor(W),X=w.getClearAlpha(),X<1&&w.setClearColor(16777215,.5),Ke?Te.render(ae):w.clear();const Ze=w.toneMapping;w.toneMapping=eu;const et=q.viewport;if(q.viewport!==void 0&&(q.viewport=void 0),y.setupLightsView(q),ne===!0&&ze.setGlobalState(w.clippingPlanes,q),_n(O,ae,q),Re.updateMultisampleRenderTarget(K),Re.updateRenderTargetMipmap(K),me.has("WEBGL_multisampled_render_to_texture")===!1){let ft=!1;for(let vt=0,ut=J.length;vt<ut;vt++){const Lt=J[vt],en=Lt.object,Xt=Lt.geometry,tn=Lt.material,At=Lt.group;if(tn.side===ul&&en.layers.test(q.layers)){const je=tn.side;tn.side=fo,tn.needsUpdate=!0,En(en,ae,q,Xt,tn,At),tn.side=je,tn.needsUpdate=!0,ft=!0}}ft===!0&&(Re.updateMultisampleRenderTarget(K),Re.updateRenderTargetMipmap(K))}w.setRenderTarget(Je),w.setClearColor(W,X),et!==void 0&&(q.viewport=et),w.toneMapping=Ze}function _n(O,J,ae){const q=J.isScene===!0?J.overrideMaterial:null;for(let K=0,Fe=O.length;K<Fe;K++){const Je=O[K],Ze=Je.object,et=Je.geometry,ft=q===null?Je.material:q,vt=Je.group;Ze.layers.test(ae.layers)&&En(Ze,J,ae,et,ft,vt)}}function En(O,J,ae,q,K,Fe){O.onBeforeRender(w,J,ae,q,K,Fe),O.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),K.onBeforeRender(w,J,ae,q,O,Fe),K.transparent===!0&&K.side===ul&&K.forceSinglePass===!1?(K.side=fo,K.needsUpdate=!0,w.renderBufferDirect(ae,J,q,K,O,Fe),K.side=lu,K.needsUpdate=!0,w.renderBufferDirect(ae,J,q,K,O,Fe),K.side=ul):w.renderBufferDirect(ae,J,q,K,O,Fe),O.onAfterRender(w,J,ae,q,K,Fe)}function Zt(O,J,ae){J.isScene!==!0&&(J=st);const q=Oe.get(O),K=y.state.lights,Fe=y.state.shadowsArray,Je=K.state.version,Ze=Ae.getParameters(O,K.state,Fe,J,ae),et=Ae.getProgramCacheKey(Ze);let ft=q.programs;q.environment=O.isMeshStandardMaterial?J.environment:null,q.fog=J.fog,q.envMap=(O.isMeshStandardMaterial?k:at).get(O.envMap||q.environment),q.envMapRotation=q.environment!==null&&O.envMap===null?J.environmentRotation:O.envMapRotation,ft===void 0&&(O.addEventListener("dispose",Le),ft=new Map,q.programs=ft);let vt=ft.get(et);if(vt!==void 0){if(q.currentProgram===vt&&q.lightsStateVersion===Je)return Gt(O,Ze),vt}else Ze.uniforms=Ae.getUniforms(O),O.onBuild(ae,Ze,w),O.onBeforeCompile(Ze,w),vt=Ae.acquireProgram(Ze,et),ft.set(et,vt),q.uniforms=Ze.uniforms;const ut=q.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(ut.clippingPlanes=ze.uniform),Gt(O,Ze),q.needsLights=Oo(O),q.lightsStateVersion=Je,q.needsLights&&(ut.ambientLightColor.value=K.state.ambient,ut.lightProbe.value=K.state.probe,ut.directionalLights.value=K.state.directional,ut.directionalLightShadows.value=K.state.directionalShadow,ut.spotLights.value=K.state.spot,ut.spotLightShadows.value=K.state.spotShadow,ut.rectAreaLights.value=K.state.rectArea,ut.ltc_1.value=K.state.rectAreaLTC1,ut.ltc_2.value=K.state.rectAreaLTC2,ut.pointLights.value=K.state.point,ut.pointLightShadows.value=K.state.pointShadow,ut.hemisphereLights.value=K.state.hemi,ut.directionalShadowMap.value=K.state.directionalShadowMap,ut.directionalShadowMatrix.value=K.state.directionalShadowMatrix,ut.spotShadowMap.value=K.state.spotShadowMap,ut.spotLightMatrix.value=K.state.spotLightMatrix,ut.spotLightMap.value=K.state.spotLightMap,ut.pointShadowMap.value=K.state.pointShadowMap,ut.pointShadowMatrix.value=K.state.pointShadowMatrix),q.currentProgram=vt,q.uniformsList=null,vt}function Bn(O){if(O.uniformsList===null){const J=O.currentProgram.getUniforms();O.uniformsList=MT.seqWithValue(J.seq,O.uniforms)}return O.uniformsList}function Gt(O,J){const ae=Oe.get(O);ae.outputColorSpace=J.outputColorSpace,ae.batching=J.batching,ae.batchingColor=J.batchingColor,ae.instancing=J.instancing,ae.instancingColor=J.instancingColor,ae.instancingMorph=J.instancingMorph,ae.skinning=J.skinning,ae.morphTargets=J.morphTargets,ae.morphNormals=J.morphNormals,ae.morphColors=J.morphColors,ae.morphTargetsCount=J.morphTargetsCount,ae.numClippingPlanes=J.numClippingPlanes,ae.numIntersection=J.numClipIntersection,ae.vertexAlphas=J.vertexAlphas,ae.vertexTangents=J.vertexTangents,ae.toneMapping=J.toneMapping}function xr(O,J,ae,q,K){J.isScene!==!0&&(J=st),Re.resetTextureUnits();const Fe=J.fog,Je=q.isMeshStandardMaterial?J.environment:null,Ze=B===null?w.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:nd,et=(q.isMeshStandardMaterial?k:at).get(q.envMap||Je),ft=q.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,vt=!!ae.attributes.tangent&&(!!q.normalMap||q.anisotropy>0),ut=!!ae.morphAttributes.position,Lt=!!ae.morphAttributes.normal,en=!!ae.morphAttributes.color;let Xt=eu;q.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Xt=w.toneMapping);const tn=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,At=tn!==void 0?tn.length:0,je=Oe.get(q),Nt=y.state.lights;if(ne===!0&&(ve===!0||O!==R)){const Nn=O===R&&q.id===I;ze.setState(q,O,Nn)}let zt=!1;q.version===je.__version?(je.needsLights&&je.lightsStateVersion!==Nt.state.version||je.outputColorSpace!==Ze||K.isBatchedMesh&&je.batching===!1||!K.isBatchedMesh&&je.batching===!0||K.isBatchedMesh&&je.batchingColor===!0&&K.colorTexture===null||K.isBatchedMesh&&je.batchingColor===!1&&K.colorTexture!==null||K.isInstancedMesh&&je.instancing===!1||!K.isInstancedMesh&&je.instancing===!0||K.isSkinnedMesh&&je.skinning===!1||!K.isSkinnedMesh&&je.skinning===!0||K.isInstancedMesh&&je.instancingColor===!0&&K.instanceColor===null||K.isInstancedMesh&&je.instancingColor===!1&&K.instanceColor!==null||K.isInstancedMesh&&je.instancingMorph===!0&&K.morphTexture===null||K.isInstancedMesh&&je.instancingMorph===!1&&K.morphTexture!==null||je.envMap!==et||q.fog===!0&&je.fog!==Fe||je.numClippingPlanes!==void 0&&(je.numClippingPlanes!==ze.numPlanes||je.numIntersection!==ze.numIntersection)||je.vertexAlphas!==ft||je.vertexTangents!==vt||je.morphTargets!==ut||je.morphNormals!==Lt||je.morphColors!==en||je.toneMapping!==Xt||je.morphTargetsCount!==At)&&(zt=!0):(zt=!0,je.__version=q.version);let Jt=je.currentProgram;zt===!0&&(Jt=Zt(q,J,K));let kn=!1,Vn=!1,Wn=!1;const Vt=Jt.getUniforms(),hi=je.uniforms;if(_e.useProgram(Jt.program)&&(kn=!0,Vn=!0,Wn=!0),q.id!==I&&(I=q.id,Vn=!0),kn||R!==O){Vt.setValue(U,"projectionMatrix",O.projectionMatrix),Vt.setValue(U,"viewMatrix",O.matrixWorldInverse);const Nn=Vt.map.cameraPosition;Nn!==void 0&&Nn.setValue(U,xe.setFromMatrixPosition(O.matrixWorld)),Ce.logarithmicDepthBuffer&&Vt.setValue(U,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&Vt.setValue(U,"isOrthographic",O.isOrthographicCamera===!0),R!==O&&(R=O,Vn=!0,Wn=!0)}if(K.isSkinnedMesh){Vt.setOptional(U,K,"bindMatrix"),Vt.setOptional(U,K,"bindMatrixInverse");const Nn=K.skeleton;Nn&&(Nn.boneTexture===null&&Nn.computeBoneTexture(),Vt.setValue(U,"boneTexture",Nn.boneTexture,Re))}K.isBatchedMesh&&(Vt.setOptional(U,K,"batchingTexture"),Vt.setValue(U,"batchingTexture",K._matricesTexture,Re),Vt.setOptional(U,K,"batchingColorTexture"),K._colorsTexture!==null&&Vt.setValue(U,"batchingColorTexture",K._colorsTexture,Re));const Uo=ae.morphAttributes;if((Uo.position!==void 0||Uo.normal!==void 0||Uo.color!==void 0)&&$e.update(K,ae,Jt),(Vn||je.receiveShadow!==K.receiveShadow)&&(je.receiveShadow=K.receiveShadow,Vt.setValue(U,"receiveShadow",K.receiveShadow)),q.isMeshGouraudMaterial&&q.envMap!==null&&(hi.envMap.value=et,hi.flipEnvMap.value=et.isCubeTexture&&et.isRenderTargetTexture===!1?-1:1),q.isMeshStandardMaterial&&q.envMap===null&&J.environment!==null&&(hi.envMapIntensity.value=J.environmentIntensity),Vn&&(Vt.setValue(U,"toneMappingExposure",w.toneMappingExposure),je.needsLights&&El(hi,Wn),Fe&&q.fog===!0&&Se.refreshFogUniforms(hi,Fe),Se.refreshMaterialUniforms(hi,q,ie,Y,y.state.transmissionRenderTarget[O.id]),MT.upload(U,Bn(je),hi,Re)),q.isShaderMaterial&&q.uniformsNeedUpdate===!0&&(MT.upload(U,Bn(je),hi,Re),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&Vt.setValue(U,"center",K.center),Vt.setValue(U,"modelViewMatrix",K.modelViewMatrix),Vt.setValue(U,"normalMatrix",K.normalMatrix),Vt.setValue(U,"modelMatrix",K.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){const Nn=q.uniformsGroups;for(let $s=0,Nr=Nn.length;$s<Nr;$s++){const _r=Nn[$s];Me.update(_r,Jt),Me.bind(_r,Jt)}}return Jt}function El(O,J){O.ambientLightColor.needsUpdate=J,O.lightProbe.needsUpdate=J,O.directionalLights.needsUpdate=J,O.directionalLightShadows.needsUpdate=J,O.pointLights.needsUpdate=J,O.pointLightShadows.needsUpdate=J,O.spotLights.needsUpdate=J,O.spotLightShadows.needsUpdate=J,O.rectAreaLights.needsUpdate=J,O.hemisphereLights.needsUpdate=J}function Oo(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(O,J,ae){Oe.get(O.texture).__webglTexture=J,Oe.get(O.depthTexture).__webglTexture=ae;const q=Oe.get(O);q.__hasExternalTextures=!0,q.__autoAllocateDepthBuffer=ae===void 0,q.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),q.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(O,J){const ae=Oe.get(O);ae.__webglFramebuffer=J,ae.__useDefaultFramebuffer=J===void 0},this.setRenderTarget=function(O,J=0,ae=0){B=O,P=J,T=ae;let q=!0,K=null,Fe=!1,Je=!1;if(O){const Ze=Oe.get(O);Ze.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(U.FRAMEBUFFER,null),q=!1):Ze.__webglFramebuffer===void 0?Re.setupRenderTarget(O):Ze.__hasExternalTextures&&Re.rebindTextures(O,Oe.get(O.texture).__webglTexture,Oe.get(O.depthTexture).__webglTexture);const et=O.texture;(et.isData3DTexture||et.isDataArrayTexture||et.isCompressedArrayTexture)&&(Je=!0);const ft=Oe.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(ft[J])?K=ft[J][ae]:K=ft[J],Fe=!0):O.samples>0&&Re.useMultisampledRTT(O)===!1?K=Oe.get(O).__webglMultisampledFramebuffer:Array.isArray(ft)?K=ft[ae]:K=ft,C.copy(O.viewport),N.copy(O.scissor),j=O.scissorTest}else C.copy(H).multiplyScalar(ie).floor(),N.copy(ee).multiplyScalar(ie).floor(),j=pe;if(_e.bindFramebuffer(U.FRAMEBUFFER,K)&&q&&_e.drawBuffers(O,K),_e.viewport(C),_e.scissor(N),_e.setScissorTest(j),Fe){const Ze=Oe.get(O.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+J,Ze.__webglTexture,ae)}else if(Je){const Ze=Oe.get(O.texture),et=J||0;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,Ze.__webglTexture,ae||0,et)}I=-1},this.readRenderTargetPixels=function(O,J,ae,q,K,Fe,Je){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=Oe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Je!==void 0&&(Ze=Ze[Je]),Ze){_e.bindFramebuffer(U.FRAMEBUFFER,Ze);try{const et=O.texture,ft=et.format,vt=et.type;if(!Ce.textureFormatReadable(ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ce.textureTypeReadable(vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}J>=0&&J<=O.width-q&&ae>=0&&ae<=O.height-K&&U.readPixels(J,ae,q,K,te.convert(ft),te.convert(vt),Fe)}finally{const et=B!==null?Oe.get(B).__webglFramebuffer:null;_e.bindFramebuffer(U.FRAMEBUFFER,et)}}},this.readRenderTargetPixelsAsync=async function(O,J,ae,q,K,Fe,Je){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ze=Oe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Je!==void 0&&(Ze=Ze[Je]),Ze){_e.bindFramebuffer(U.FRAMEBUFFER,Ze);try{const et=O.texture,ft=et.format,vt=et.type;if(!Ce.textureFormatReadable(ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ce.textureTypeReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(J>=0&&J<=O.width-q&&ae>=0&&ae<=O.height-K){const ut=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,ut),U.bufferData(U.PIXEL_PACK_BUFFER,Fe.byteLength,U.STREAM_READ),U.readPixels(J,ae,q,K,te.convert(ft),te.convert(vt),0),U.flush();const Lt=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);await efe(U,Lt,4);try{U.bindBuffer(U.PIXEL_PACK_BUFFER,ut),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,Fe)}finally{U.deleteBuffer(ut),U.deleteSync(Lt)}return Fe}}finally{const et=B!==null?Oe.get(B).__webglFramebuffer:null;_e.bindFramebuffer(U.FRAMEBUFFER,et)}}},this.copyFramebufferToTexture=function(O,J=null,ae=0){O.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),J=arguments[0]||null,O=arguments[1]);const q=Math.pow(2,-ae),K=Math.floor(O.image.width*q),Fe=Math.floor(O.image.height*q),Je=J!==null?J.x:0,Ze=J!==null?J.y:0;Re.setTexture2D(O,0),U.copyTexSubImage2D(U.TEXTURE_2D,ae,0,0,Je,Ze,K,Fe),_e.unbindTexture()},this.copyTextureToTexture=function(O,J,ae=null,q=null,K=0){O.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),q=arguments[0]||null,O=arguments[1],J=arguments[2],K=arguments[3]||0,ae=null);let Fe,Je,Ze,et,ft,vt;ae!==null?(Fe=ae.max.x-ae.min.x,Je=ae.max.y-ae.min.y,Ze=ae.min.x,et=ae.min.y):(Fe=O.image.width,Je=O.image.height,Ze=0,et=0),q!==null?(ft=q.x,vt=q.y):(ft=0,vt=0);const ut=te.convert(J.format),Lt=te.convert(J.type);Re.setTexture2D(J,0),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,J.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,J.unpackAlignment);const en=U.getParameter(U.UNPACK_ROW_LENGTH),Xt=U.getParameter(U.UNPACK_IMAGE_HEIGHT),tn=U.getParameter(U.UNPACK_SKIP_PIXELS),At=U.getParameter(U.UNPACK_SKIP_ROWS),je=U.getParameter(U.UNPACK_SKIP_IMAGES),Nt=O.isCompressedTexture?O.mipmaps[K]:O.image;U.pixelStorei(U.UNPACK_ROW_LENGTH,Nt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Nt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Ze),U.pixelStorei(U.UNPACK_SKIP_ROWS,et),O.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,K,ft,vt,Fe,Je,ut,Lt,Nt.data):O.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,K,ft,vt,Nt.width,Nt.height,ut,Nt.data):U.texSubImage2D(U.TEXTURE_2D,K,ft,vt,ut,Lt,Nt),U.pixelStorei(U.UNPACK_ROW_LENGTH,en),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Xt),U.pixelStorei(U.UNPACK_SKIP_PIXELS,tn),U.pixelStorei(U.UNPACK_SKIP_ROWS,At),U.pixelStorei(U.UNPACK_SKIP_IMAGES,je),K===0&&J.generateMipmaps&&U.generateMipmap(U.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(O,J,ae=null,q=null,K=0){O.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ae=arguments[0]||null,q=arguments[1]||null,O=arguments[2],J=arguments[3],K=arguments[4]||0);let Fe,Je,Ze,et,ft,vt,ut,Lt,en;const Xt=O.isCompressedTexture?O.mipmaps[K]:O.image;ae!==null?(Fe=ae.max.x-ae.min.x,Je=ae.max.y-ae.min.y,Ze=ae.max.z-ae.min.z,et=ae.min.x,ft=ae.min.y,vt=ae.min.z):(Fe=Xt.width,Je=Xt.height,Ze=Xt.depth,et=0,ft=0,vt=0),q!==null?(ut=q.x,Lt=q.y,en=q.z):(ut=0,Lt=0,en=0);const tn=te.convert(J.format),At=te.convert(J.type);let je;if(J.isData3DTexture)Re.setTexture3D(J,0),je=U.TEXTURE_3D;else if(J.isDataArrayTexture||J.isCompressedArrayTexture)Re.setTexture2DArray(J,0),je=U.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,J.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,J.unpackAlignment);const Nt=U.getParameter(U.UNPACK_ROW_LENGTH),zt=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Jt=U.getParameter(U.UNPACK_SKIP_PIXELS),kn=U.getParameter(U.UNPACK_SKIP_ROWS),Vn=U.getParameter(U.UNPACK_SKIP_IMAGES);U.pixelStorei(U.UNPACK_ROW_LENGTH,Xt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Xt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,et),U.pixelStorei(U.UNPACK_SKIP_ROWS,ft),U.pixelStorei(U.UNPACK_SKIP_IMAGES,vt),O.isDataTexture||O.isData3DTexture?U.texSubImage3D(je,K,ut,Lt,en,Fe,Je,Ze,tn,At,Xt.data):J.isCompressedArrayTexture?U.compressedTexSubImage3D(je,K,ut,Lt,en,Fe,Je,Ze,tn,Xt.data):U.texSubImage3D(je,K,ut,Lt,en,Fe,Je,Ze,tn,At,Xt),U.pixelStorei(U.UNPACK_ROW_LENGTH,Nt),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,zt),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Jt),U.pixelStorei(U.UNPACK_SKIP_ROWS,kn),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Vn),K===0&&J.generateMipmaps&&U.generateMipmap(je),_e.unbindTexture()},this.initRenderTarget=function(O){Oe.get(O).__webglFramebuffer===void 0&&Re.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?Re.setTextureCube(O,0):O.isData3DTexture?Re.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Re.setTexture2DArray(O,0):Re.setTexture2D(O,0),_e.unbindTexture()},this.resetState=function(){P=0,T=0,B=null,_e.reset(),$.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Yc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===oP?"display-p3":"srgb",t.unpackColorSpace=Hn.workingColorSpace===lM?"display-p3":"srgb"}}class cP{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Et(e),this.density=t}clone(){return new cP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class uP{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Et(e),this.near=t,this.far=i}clone(){return new uP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let CR=class extends Rn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Aa,this.environmentIntensity=1,this.environmentRotation=new Aa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}},fM=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=tw,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ma()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return v4("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ma()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ma()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};const to=new ce;let Lx=class I${constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)to.fromBufferAttribute(this,t),to.applyMatrix4(e),this.setXYZ(t,to.x,to.y,to.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)to.fromBufferAttribute(this,t),to.applyNormalMatrix(e),this.setXYZ(t,to.x,to.y,to.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)to.fromBufferAttribute(this,t),to.transformDirection(e),this.setXYZ(t,to.x,to.y,to.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=ao(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=hn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ao(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ao(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ao(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ao(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),r=hn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),i=hn(i,this.array),r=hn(r,this.array),s=hn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Dn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new I$(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};class C4 extends vr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Tv;const W_=new ce,Rv=new ce,Pv=new ce,Bv=new it,X_=new it,L$=new jt,sE=new ce,J_=new ce,oE=new ce,TV=new it,rL=new it,RV=new it;class D$ extends Rn{constructor(e=new C4){if(super(),this.isSprite=!0,this.type="Sprite",Tv===void 0){Tv=new an;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new fM(t,5);Tv.setIndex([0,1,2,0,2,3]),Tv.setAttribute("position",new Lx(i,3,0,!1)),Tv.setAttribute("uv",new Lx(i,2,3,!1))}this.geometry=Tv,this.material=e,this.center=new it(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Rv.setFromMatrixScale(this.matrixWorld),L$.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Pv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Rv.multiplyScalar(-Pv.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;aE(sE.set(-.5,-.5,0),Pv,o,Rv,r,s),aE(J_.set(.5,-.5,0),Pv,o,Rv,r,s),aE(oE.set(.5,.5,0),Pv,o,Rv,r,s),TV.set(0,0),rL.set(1,0),RV.set(1,1);let a=e.ray.intersectTriangle(sE,J_,oE,!1,W_);if(a===null&&(aE(J_.set(-.5,.5,0),Pv,o,Rv,r,s),rL.set(0,1),a=e.ray.intersectTriangle(sE,oE,J_,!1,W_),a===null))return;const l=e.ray.origin.distanceTo(W_);l<e.near||l>e.far||t.push({distance:l,point:W_.clone(),uv:ra.getInterpolation(W_,sE,J_,oE,TV,rL,RV,new it),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function aE(n,e,t,i,r,s){Bv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(X_.x=s*Bv.x-r*Bv.y,X_.y=r*Bv.x+s*Bv.y):X_.copy(Bv),n.copy(e),n.x+=X_.x,n.y+=X_.y,n.applyMatrix4(L$)}const lE=new ce,PV=new ce;class F$ extends Rn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){lE.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(lE);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lE.setFromMatrixPosition(e.matrixWorld),PV.setFromMatrixPosition(this.matrixWorld);const i=lE.distanceTo(PV)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const BV=new ce,IV=new Yn,LV=new Yn,ave=new ce,DV=new jt,cE=new ce,sL=new gs,FV=new jt,oL=new l0;class T4 extends Qi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=HF,this.bindMatrix=new jt,this.bindMatrixInverse=new jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Gs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cE),this.boundingBox.expandByPoint(cE)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new gs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cE),this.boundingSphere.expandByPoint(cE)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sL.copy(this.boundingSphere),sL.applyMatrix4(r),e.ray.intersectsSphere(sL)!==!1&&(FV.copy(r).invert(),oL.copy(e.ray).applyMatrix4(FV),!(this.boundingBox!==null&&oL.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,oL)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Yn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===HF?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Gq?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;IV.fromBufferAttribute(r.attributes.skinIndex,e),LV.fromBufferAttribute(r.attributes.skinWeight,e),BV.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=LV.getComponent(s);if(o!==0){const a=IV.getComponent(s);DV.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(ave.copy(BV).applyMatrix4(DV),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class hP extends Rn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Rh extends ri{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Rr,h=Rr,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const NV=new jt,lve=new jt;let R4=class N${constructor(e=[],t=[]){this.uuid=ma(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new jt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:lve;NV.multiplyMatrices(a,t[s]),NV.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new N$(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Rh(t,e,e,co,la);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new hP),this.bones.push(o),this.boneInverses.push(new jt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}};class Ug extends Dn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Iv=new jt,OV=new jt,uE=[],UV=new Gs,cve=new jt,K_=new Qi,Y_=new gs;class P4 extends Qi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ug(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,cve)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Gs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Iv),UV.copy(e.boundingBox).applyMatrix4(Iv),this.boundingBox.union(UV)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new gs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Iv),Y_.copy(e.boundingSphere).applyMatrix4(Iv),this.boundingSphere.union(Y_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(K_.geometry=this.geometry,K_.material=this.material,K_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Y_.copy(this.boundingSphere),Y_.applyMatrix4(i),e.ray.intersectsSphere(Y_)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Iv),OV.multiplyMatrices(i,Iv),K_.matrixWorld=OV,K_.raycast(e,uE);for(let o=0,a=uE.length;o<a;o++){const l=uE[o];l.instanceId=s,l.object=this,t.push(l)}uE.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ug(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Rh(new Float32Array(r*this.count),r,this.count,l4,la));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function uve(n,e){return n.z-e.z}function hve(n,e){return e.z-n.z}class dve{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Lv="batchId",Id=new jt,aL=new jt,fve=new jt,pve=new Et(1,1,1),kV=new jt,lL=new dM,hE=new Gs,$p=new gs,Q_=new ce,zV=new ce,mve=new ce,cL=new dve,Ts=new Qi,dE=[];function gve(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class O$ extends Qi{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new an,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Rh(t,e,e,co,la);this._matricesTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Rh(t,e,e,co,la);i.colorSpace=Hn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:h,normalized:d}=l,p=new c.constructor(i*h),m=new Dn(p,h,d);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Dn(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(Lv,new Dn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Lv))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Lv}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===Lv)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gs);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,Id),this.getBoundingBoxAt(r,hE).applyMatrix4(Id),t.union(hE))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gs);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,Id),this.getBoundingSphereAt(r,$p).applyMatrix4(Id),t.union($p))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),h=c!==null;if(h&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data,x=this._colorsTexture;d.push(!0),p.push(!0);const y=this._geometryCount;this._geometryCount++,fve.toArray(v,y*16),m.needsUpdate=!0,x!==null&&(pve.toArray(x.image.data,y*4),x.needsUpdate=!0),o.push(r),a.push({start:h?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Gs,sphereInitialized:!1,sphere:new gs});const g=this.geometry.getAttribute(Lv);for(let S=0;S<r.vertexCount;S++)g.setX(r.vertexStart+S,y);return g.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===Lv)continue;const v=t.getAttribute(m),x=i.getAttribute(m);gve(v,x,l);const y=v.itemSize;for(let g=v.count,S=c;g<S;g++){const w=l+g;for(let b=0;b<y;b++)x.setComponent(w,b,0)}x.needsUpdate=!0,x.addUpdateRange(l*y,c*y)}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,x=a.indexCount;v<x;v++)s.setX(m+v,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const h=this._bounds[e];t.boundingBox!==null?(h.box.copy(t.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,t.boundingSphere!==null?(h.sphere.copy(t.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const d=this._drawRanges[e],p=t.getAttribute("position");return d.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],r=i.box,s=this.geometry;if(i.boxInitialized===!1){r.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let c=l.start,h=l.start+l.count;c<h;c++){let d=c;o&&(d=o.getX(d)),r.expandByPoint(Q_.fromBufferAttribute(a,d))}i.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const i=this._bounds[e],r=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,hE),hE.getCenter(r.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let c=0;for(let h=l.start,d=l.start+l.count;h<d;h++){let p=h;o&&(p=o.getX(p)),Q_.fromBufferAttribute(a,p),c=Math.max(c,r.center.distanceToSquared(Q_))}r.radius=Math.sqrt(c),i.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._active,r=this._colorsTexture,s=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*4),r.needsUpdate=!0,this)}getColorAt(e,t){const i=this._active,r=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*4)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ts.material=this.material,Ts.geometry.index=l.index,Ts.geometry.attributes=l.attributes,Ts.geometry.boundingBox===null&&(Ts.geometry.boundingBox=new Gs),Ts.geometry.boundingSphere===null&&(Ts.geometry.boundingSphere=new gs);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const h=s[c];Ts.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(c,Ts.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ts.geometry.boundingBox),this.getBoundingSphereAt(c,Ts.geometry.boundingSphere),Ts.raycast(e,dE);for(let d=0,p=dE.length;d<p;d++){const m=dE[d];m.object=this,m.batchId=c,t.push(m)}dE.length=0}Ts.material=null,Ts.geometry.index=null,Ts.geometry.attributes={},Ts.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,h=this._multiDrawStarts,d=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(kV.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),lL.setFromProjectionMatrix(kV,e.coordinateSystem));let v=0;if(this.sortObjects){aL.copy(this.matrixWorld).invert(),Q_.setFromMatrixPosition(i.matrixWorld).applyMatrix4(aL),zV.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(aL);for(let g=0,S=c.length;g<S;g++)if(c[g]&&l[g]){this.getMatrixAt(g,Id),this.getBoundingSphereAt(g,$p).applyMatrix4(Id);let w=!1;if(m&&(w=!lL.intersectsSphere($p)),!w){const b=mve.subVectors($p.center,Q_).dot(zV);cL.push(p[g],b)}}const x=cL.list,y=this.customSort;y===null?x.sort(s.transparent?hve:uve):y.call(this,x,i);for(let g=0,S=x.length;g<S;g++){const w=x[g];h[v]=w.start*a,d[v]=w.count,v++}cL.reset()}else for(let x=0,y=c.length;x<y;x++)if(c[x]&&l[x]){let g=!1;if(m&&(this.getMatrixAt(x,Id),this.getBoundingSphereAt(x,$p).applyMatrix4(Id),g=!lL.intersectsSphere($p)),!g){const S=p[x];h[v]=S.start*a,d[v]=S.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}let Ks=class extends vr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}};const TR=new ce,RR=new ce,HV=new jt,q_=new l0,fE=new gs,uL=new ce,GV=new ce;class Xh extends Rn{constructor(e=new an,t=new Ks){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)TR.fromBufferAttribute(t,r-1),RR.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=TR.distanceTo(RR);e.setAttribute("lineDistance",new Ot(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fE.copy(i.boundingSphere),fE.applyMatrix4(r),fE.radius+=s,e.ray.intersectsSphere(fE)===!1)return;HV.copy(r).invert(),q_.copy(e.ray).applyMatrix4(HV);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,h=i.index,d=i.attributes.position;if(h!==null){const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,x=m-1;v<x;v+=c){const y=h.getX(v),g=h.getX(v+1),S=pE(this,e,q_,l,y,g);S&&t.push(S)}if(this.isLineLoop){const v=h.getX(m-1),x=h.getX(p),y=pE(this,e,q_,l,v,x);y&&t.push(y)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,x=m-1;v<x;v+=c){const y=pE(this,e,q_,l,v,v+1);y&&t.push(y)}if(this.isLineLoop){const v=pE(this,e,q_,l,m-1,p);v&&t.push(v)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const i=e[t[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}function pE(n,e,t,i,r,s){const o=n.geometry.attributes.position;if(TR.fromBufferAttribute(o,r),RR.fromBufferAttribute(o,s),t.distanceSqToSegment(TR,RR,uL,GV)>i)return;uL.applyMatrix4(n.matrixWorld);const a=e.ray.origin.distanceTo(uL);if(!(a<e.near||a>e.far))return{distance:a,point:GV.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,object:n}}const VV=new ce,jV=new ce;class pc extends Xh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)VV.fromBufferAttribute(t,r),jV.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+VV.distanceTo(jV);e.setAttribute("lineDistance",new Ot(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class B4 extends Xh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}let pM=class extends vr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}};const WV=new jt,yN=new l0,mE=new gs,gE=new ce;let I4=class extends Rn{constructor(n=new an,e=new pM){super(),this.isPoints=!0,this.type="Points",this.geometry=n,this.material=e,this.updateMorphTargets()}copy(n,e){return super.copy(n,e),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}raycast(n,e){const t=this.geometry,i=this.matrixWorld,r=n.params.Points.threshold,s=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),mE.copy(t.boundingSphere),mE.applyMatrix4(i),mE.radius+=r,n.ray.intersectsSphere(mE)===!1)return;WV.copy(i).invert(),yN.copy(n.ray).applyMatrix4(WV);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,l=t.index,c=t.attributes.position;if(l!==null){const h=Math.max(0,s.start),d=Math.min(l.count,s.start+s.count);for(let p=h,m=d;p<m;p++){const v=l.getX(p);gE.fromBufferAttribute(c,v),XV(gE,v,a,i,n,e,this)}}else{const h=Math.max(0,s.start),d=Math.min(c.count,s.start+s.count);for(let p=h,m=d;p<m;p++)gE.fromBufferAttribute(c,p),XV(gE,p,a,i,n,e,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,e=Object.keys(n);if(e.length>0){const t=n[e[0]];if(t!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++){const s=t[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}};function XV(n,e,t,i,r,s,o){const a=yN.distanceSqToPoint(n);if(a<t){const l=new ce;yN.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class vve extends ri{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ki,this.magFilter=s!==void 0?s:Ki,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yve extends ri{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Rr,this.minFilter=Rr,this.generateMipmaps=!1,this.needsUpdate=!0}}class dP extends ri{constructor(e,t,i,r,s,o,a,l,c,h,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xve extends dP{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=aa,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _ve extends dP{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Wh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Ave extends ri{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],d=i[r+1]-h,p=(o-h)/d;return(r+p)/(s-1)}getTangent(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),o=this.getPoint(r),a=t||(s.isVector2?new it:new ce);return a.copy(o).sub(s).normalize(),a}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new ce,r=[],s=[],o=[],a=new ce,l=new jt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new ce)}s[0]=new ce,o[0]=new ce;let c=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=c&&(c=h,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Xi(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Xi(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class fP extends mc{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new it){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*h-m*d+this.aX,c=p*d+m*h+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class U$ extends fP{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function L4(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,d){let p=(o-s)/c-(a-s)/(c+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const vE=new ce,hL=new L4,dL=new L4,fL=new L4;class k$ extends mc{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new ce){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,h;this.closed||a>0?c=r[(a-1)%s]:(vE.subVectors(r[0],r[1]).add(r[0]),c=vE);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(vE.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=vE),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(h),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),hL.initNonuniformCatmullRom(c.x,d.x,p.x,h.x,v,x,y),dL.initNonuniformCatmullRom(c.y,d.y,p.y,h.y,v,x,y),fL.initNonuniformCatmullRom(c.z,d.z,p.z,h.z,v,x,y)}else this.curveType==="catmullrom"&&(hL.initCatmullRom(c.x,d.x,p.x,h.x,this.tension),dL.initCatmullRom(c.y,d.y,p.y,h.y,this.tension),fL.initCatmullRom(c.z,d.z,p.z,h.z,this.tension));return i.set(hL.calc(l),dL.calc(l),fL.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ce().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function JV(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function Sve(n,e){const t=1-n;return t*t*e}function wve(n,e){return 2*(1-n)*n*e}function Mve(n,e){return n*n*e}function oS(n,e,t,i){return Sve(n,e)+wve(n,t)+Mve(n,i)}function bve(n,e){const t=1-n;return t*t*t*e}function Eve(n,e){const t=1-n;return 3*t*t*n*e}function Cve(n,e){return 3*(1-n)*n*n*e}function Tve(n,e){return n*n*n*e}function aS(n,e,t,i,r){return bve(n,e)+Eve(n,t)+Cve(n,i)+Tve(n,r)}class D4 extends mc{constructor(e=new it,t=new it,i=new it,r=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(aS(e,r.x,s.x,o.x,a.x),aS(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class z$ extends mc{constructor(e=new ce,t=new ce,i=new ce,r=new ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ce){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(aS(e,r.x,s.x,o.x,a.x),aS(e,r.y,s.y,o.y,a.y),aS(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class F4 extends mc{constructor(e=new it,t=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new it){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new it){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class H$ extends mc{constructor(e=new ce,t=new ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ce){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N4 extends mc{constructor(e=new it,t=new it,i=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(oS(e,r.x,s.x,o.x),oS(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class O4 extends mc{constructor(e=new ce,t=new ce,i=new ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ce){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(oS(e,r.x,s.x,o.x),oS(e,r.y,s.y,o.y),oS(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U4 extends mc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new it){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(JV(a,l.x,c.x,h.x,d.x),JV(a,l.y,c.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new it().fromArray(r))}return this}}var PR=Object.freeze({__proto__:null,ArcCurve:U$,CatmullRomCurve3:k$,CubicBezierCurve:D4,CubicBezierCurve3:z$,EllipseCurve:fP,LineCurve:F4,LineCurve3:H$,QuadraticBezierCurve:N4,QuadraticBezierCurve3:O4,SplineCurve:U4});class G$ extends mc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new PR[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const h=l[c];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new PR[r.type]().fromJSON(r))}return this}}let rw=class extends G${constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new F4(this.currentPoint.clone(),new it(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new N4(this.currentPoint.clone(),new it(e,t),new it(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new D4(this.currentPoint.clone(),new it(e,t),new it(i,r),new it(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new U4(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new fP(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},k4=class V$ extends an{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Xi(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],h=1/t,d=new ce,p=new it,m=new ce,v=new ce,x=new ce;let y=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let S=0;S<=t;S++){const w=i+S*h*r,b=Math.sin(w),P=Math.cos(w);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*b,d.y=e[T].y,d.z=e[T].x*P,o.push(d.x,d.y,d.z),p.x=S/t,p.y=T/(e.length-1),a.push(p.x,p.y);const B=l[3*T+0]*b,I=l[3*T+1],R=l[3*T+0]*P;c.push(B,I,R)}}for(let S=0;S<t;S++)for(let w=0;w<e.length-1;w++){const b=w+S*e.length,P=b,T=b+e.length,B=b+e.length+1,I=b+1;s.push(P,T,I),s.push(B,I,T)}this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("uv",new Ot(a,2)),this.setAttribute("normal",new Ot(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V$(e.points,e.segments,e.phiStart,e.phiLength)}};class pP extends k4{constructor(e=1,t=1,i=4,r=8){const s=new rw;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new pP(e.radius,e.length,e.capSegments,e.radialSegments)}}class mP extends an{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new ce,h=new it;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("normal",new Ot(a,3)),this.setAttribute("uv",new Ot(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class d1 extends an{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let v=0;const x=[],y=i/2;let g=0;S(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(h),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(m,2));function S(){const b=new ce,P=new ce;let T=0;const B=(t-e)/i;for(let I=0;I<=s;I++){const R=[],C=I/s,N=C*(t-e)+e;for(let j=0;j<=r;j++){const W=j/r,X=W*l+a,Q=Math.sin(X),Y=Math.cos(X);P.x=N*Q,P.y=-C*i+y,P.z=N*Y,d.push(P.x,P.y,P.z),b.set(Q,B,Y).normalize(),p.push(b.x,b.y,b.z),m.push(W,1-C),R.push(v++)}x.push(R)}for(let I=0;I<r;I++)for(let R=0;R<s;R++){const C=x[R][I],N=x[R+1][I],j=x[R+1][I+1],W=x[R][I+1];h.push(C,N,W),h.push(N,j,W),T+=6}c.addGroup(g,T,0),g+=T}function w(b){const P=v,T=new it,B=new ce;let I=0;const R=b===!0?e:t,C=b===!0?1:-1;for(let j=1;j<=r;j++)d.push(0,y*C,0),p.push(0,C,0),m.push(.5,.5),v++;const N=v;for(let j=0;j<=r;j++){const W=j/r*l+a,X=Math.cos(W),Q=Math.sin(W);B.x=R*Q,B.y=y*C,B.z=R*X,d.push(B.x,B.y,B.z),p.push(0,C,0),T.x=X*.5+.5,T.y=Q*.5*C+.5,m.push(T.x,T.y),v++}for(let j=0;j<r;j++){const W=P+j,X=N+j;b===!0?h.push(X,X+1,W):h.push(X+1,X,W),I+=3}c.addGroup(g,I,b===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gP extends d1{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new gP(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}let f1=class j$ extends an{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),h(),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(s.slice(),3)),this.setAttribute("uv",new Ot(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const w=new ce,b=new ce,P=new ce;for(let T=0;T<t.length;T+=3)m(t[T+0],w),m(t[T+1],b),m(t[T+2],P),l(w,b,P,S)}function l(S,w,b,P){const T=P+1,B=[];for(let I=0;I<=T;I++){B[I]=[];const R=S.clone().lerp(b,I/T),C=w.clone().lerp(b,I/T),N=T-I;for(let j=0;j<=N;j++)j===0&&I===T?B[I][j]=R:B[I][j]=R.clone().lerp(C,j/N)}for(let I=0;I<T;I++)for(let R=0;R<2*(T-I)-1;R++){const C=Math.floor(R/2);R%2===0?(p(B[I][C+1]),p(B[I+1][C]),p(B[I][C])):(p(B[I][C+1]),p(B[I+1][C+1]),p(B[I+1][C]))}}function c(S){const w=new ce;for(let b=0;b<s.length;b+=3)w.x=s[b+0],w.y=s[b+1],w.z=s[b+2],w.normalize().multiplyScalar(S),s[b+0]=w.x,s[b+1]=w.y,s[b+2]=w.z}function h(){const S=new ce;for(let w=0;w<s.length;w+=3){S.x=s[w+0],S.y=s[w+1],S.z=s[w+2];const b=y(S)/2/Math.PI+.5,P=g(S)/Math.PI+.5;o.push(b,1-P)}v(),d()}function d(){for(let S=0;S<o.length;S+=6){const w=o[S+0],b=o[S+2],P=o[S+4],T=Math.max(w,b,P),B=Math.min(w,b,P);T>.9&&B<.1&&(w<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),P<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,w){const b=S*3;w.x=e[b+0],w.y=e[b+1],w.z=e[b+2]}function v(){const S=new ce,w=new ce,b=new ce,P=new ce,T=new it,B=new it,I=new it;for(let R=0,C=0;R<s.length;R+=9,C+=6){S.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),b.set(s[R+6],s[R+7],s[R+8]),T.set(o[C+0],o[C+1]),B.set(o[C+2],o[C+3]),I.set(o[C+4],o[C+5]),P.copy(S).add(w).add(b).divideScalar(3);const N=y(P);x(T,C+0,S,N),x(B,C+2,w,N),x(I,C+4,b,N)}}function x(S,w,b,P){P<0&&S.x===1&&(o[w]=S.x-1),b.x===0&&b.z===0&&(o[w]=P/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j$(e.vertices,e.indices,e.radius,e.details)}};class vP extends f1{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vP(e.radius,e.detail)}}const yE=new ce,xE=new ce,pL=new ce,_E=new ra;class W$ extends an{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),r=Math.cos(mg*t),s=e.getIndex(),o=e.getAttribute("position"),a=s?s.count:o.count,l=[0,0,0],c=["a","b","c"],h=new Array(3),d={},p=[];for(let m=0;m<a;m+=3){s?(l[0]=s.getX(m),l[1]=s.getX(m+1),l[2]=s.getX(m+2)):(l[0]=m,l[1]=m+1,l[2]=m+2);const{a:v,b:x,c:y}=_E;if(v.fromBufferAttribute(o,l[0]),x.fromBufferAttribute(o,l[1]),y.fromBufferAttribute(o,l[2]),_E.getNormal(pL),h[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let g=0;g<3;g++){const S=(g+1)%3,w=h[g],b=h[S],P=_E[c[g]],T=_E[c[S]],B=`${w}_${b}`,I=`${b}_${w}`;I in d&&d[I]?(pL.dot(d[I].normal)<=r&&(p.push(P.x,P.y,P.z),p.push(T.x,T.y,T.z)),d[I]=null):B in d||(d[B]={index0:l[g],index1:l[S],normal:pL.clone()})}}for(const m in d)if(d[m]){const{index0:v,index1:x}=d[m];yE.fromBufferAttribute(o,v),xE.fromBufferAttribute(o,x),p.push(yE.x,yE.y,yE.z),p.push(xE.x,xE.y,xE.z)}this.setAttribute("position",new Ot(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class vg extends rw{constructor(e){super(e),this.uuid=ma(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new rw().fromJSON(r))}return this}}const Rve={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=X$(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,d,p,m;if(i&&(s=Dve(n,e,s,t)),n.length>80*t){a=c=n[0],l=h=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return sw(s,o,t,a,l,m,0),o}};function X$(n,e,t,i,r){let s,o;if(r===Wve(n,e,t,i)>0)for(s=e;s<t;s+=i)o=KV(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=KV(s,n[s],n[s+1],o);return o&&yP(o,o.next)&&(aw(o),o=o.next),o}function kg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(yP(t,t.next)||Ii(t.prev,t,t.next)===0)){if(aw(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function sw(n,e,t,i,r,s,o){if(!n)return;!o&&s&&kve(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Bve(n,i,r,s):Pve(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),aw(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Ive(kg(n),e,t),sw(n,e,t,i,r,s,2)):o===2&&Lve(n,e,t,i,r,s):sw(kg(n),e,t,i,r,s,1);break}}}function Pve(n){const e=n.prev,t=n,i=n.next;if(Ii(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=d&&v.y<=m&&by(r,a,s,l,o,c,v.x,v.y)&&Ii(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Bve(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Ii(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<d?h<p?h:p:d<p?d:p,x=a>l?a>c?a:c:l>c?l:c,y=h>d?h>p?h:p:d>p?d:p,g=xN(m,v,e,t,i),S=xN(x,y,e,t,i);let w=n.prevZ,b=n.nextZ;for(;w&&w.z>=g&&b&&b.z<=S;){if(w.x>=m&&w.x<=x&&w.y>=v&&w.y<=y&&w!==r&&w!==o&&by(a,h,l,d,c,p,w.x,w.y)&&Ii(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==r&&b!==o&&by(a,h,l,d,c,p,b.x,b.y)&&Ii(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=g;){if(w.x>=m&&w.x<=x&&w.y>=v&&w.y<=y&&w!==r&&w!==o&&by(a,h,l,d,c,p,w.x,w.y)&&Ii(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=S;){if(b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==r&&b!==o&&by(a,h,l,d,c,p,b.x,b.y)&&Ii(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Ive(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!yP(r,s)&&J$(r,i,i.next,s)&&ow(r,s)&&ow(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),aw(i),aw(i.next),i=n=s),i=i.next}while(i!==n);return kg(i)}function Lve(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Gve(o,a)){let l=K$(o,a);o=kg(o,o.next),l=kg(l,l.next),sw(o,e,t,i,r,s,0),sw(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function Dve(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=X$(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Hve(c));for(r.sort(Fve),s=0;s<r.length;s++)t=Nve(r[s],t);return t}function Fve(n,e){return n.x-e.x}function Nve(n,e){const t=Ove(n,e);if(!t)return e;const i=K$(t,n);return kg(i,i.next),kg(t,t.next)}function Ove(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&by(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),ow(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&Uve(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function Uve(n,e){return Ii(n.prev,n,e.prev)<0&&Ii(e.next,n,n.next)<0}function kve(n,e,t,i){let r=n;do r.z===0&&(r.z=xN(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,zve(r)}function zve(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function xN(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Hve(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function by(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function Gve(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Vve(n,e)&&(ow(n,e)&&ow(e,n)&&jve(n,e)&&(Ii(n.prev,n,e.prev)||Ii(n,e.prev,e))||yP(n,e)&&Ii(n.prev,n,n.next)>0&&Ii(e.prev,e,e.next)>0)}function Ii(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function yP(n,e){return n.x===e.x&&n.y===e.y}function J$(n,e,t,i){const r=SE(Ii(n,e,t)),s=SE(Ii(n,e,i)),o=SE(Ii(t,i,n)),a=SE(Ii(t,i,e));return!!(r!==s&&o!==a||r===0&&AE(n,t,e)||s===0&&AE(n,i,e)||o===0&&AE(t,n,i)||a===0&&AE(t,e,i))}function AE(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function SE(n){return n>0?1:n<0?-1:0}function Vve(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&J$(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ow(n,e){return Ii(n.prev,n,n.next)<0?Ii(n,e,n.next)>=0&&Ii(n,n.prev,e)>=0:Ii(n,e,n.prev)<0||Ii(n,n.next,e)<0}function jve(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function K$(n,e){const t=new _N(n.i,n.x,n.y),i=new _N(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function KV(n,e,t,i){const r=new _N(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function aw(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function _N(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Wve(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class tu{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return tu.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];YV(e),QV(i,e);let o=e.length;t.forEach(YV);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,QV(i,t[l]);const a=Rve.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function YV(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function QV(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class xP extends an{constructor(e=new vg([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ot(r,3)),this.setAttribute("uv",new Ot(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:Xve;let w,b=!1,P,T,B,I;g&&(w=g.getSpacedPoints(h),b=!0,p=!1,P=g.computeFrenetFrames(h,!1),T=new ce,B=new ce,I=new ce),p||(y=0,m=0,v=0,x=0);const R=a.extractPoints(c);let C=R.shape;const N=R.holes;if(!tu.isClockWise(C)){C=C.reverse();for(let U=0,fe=N.length;U<fe;U++){const me=N[U];tu.isClockWise(me)&&(N[U]=me.reverse())}}const j=tu.triangulateShape(C,N),W=C;for(let U=0,fe=N.length;U<fe;U++){const me=N[U];C=C.concat(me)}function X(U,fe,me){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),U.clone().addScaledVector(fe,me)}const Q=C.length,Y=j.length;function ie(U,fe,me){let Ce,_e,Ne;const Oe=U.x-fe.x,Re=U.y-fe.y,at=me.x-U.x,k=me.y-U.y,F=Oe*Oe+Re*Re,se=Oe*k-Re*at;if(Math.abs(se)>Number.EPSILON){const ge=Math.sqrt(F),Ae=Math.sqrt(at*at+k*k),Se=fe.x-Re/ge,qe=fe.y+Oe/ge,Ie=me.x-k/Ae,ze=me.y+at/Ae,ct=((Ie-Se)*k-(ze-qe)*at)/(Oe*k-Re*at);Ce=Se+Oe*ct-U.x,_e=qe+Re*ct-U.y;const Te=Ce*Ce+_e*_e;if(Te<=2)return new it(Ce,_e);Ne=Math.sqrt(Te/2)}else{let ge=!1;Oe>Number.EPSILON?at>Number.EPSILON&&(ge=!0):Oe<-Number.EPSILON?at<-Number.EPSILON&&(ge=!0):Math.sign(Re)===Math.sign(k)&&(ge=!0),ge?(Ce=-Re,_e=Oe,Ne=Math.sqrt(F)):(Ce=Oe,_e=Re,Ne=Math.sqrt(F/2))}return new it(Ce/Ne,_e/Ne)}const D=[];for(let U=0,fe=W.length,me=fe-1,Ce=U+1;U<fe;U++,me++,Ce++)me===fe&&(me=0),Ce===fe&&(Ce=0),D[U]=ie(W[U],W[me],W[Ce]);const z=[];let H,ee=D.concat();for(let U=0,fe=N.length;U<fe;U++){const me=N[U];H=[];for(let Ce=0,_e=me.length,Ne=_e-1,Oe=Ce+1;Ce<_e;Ce++,Ne++,Oe++)Ne===_e&&(Ne=0),Oe===_e&&(Oe=0),H[Ce]=ie(me[Ce],me[Ne],me[Oe]);z.push(H),ee=ee.concat(H)}for(let U=0;U<y;U++){const fe=U/y,me=m*Math.cos(fe*Math.PI/2),Ce=v*Math.sin(fe*Math.PI/2)+x;for(let _e=0,Ne=W.length;_e<Ne;_e++){const Oe=X(W[_e],D[_e],Ce);be(Oe.x,Oe.y,-me)}for(let _e=0,Ne=N.length;_e<Ne;_e++){const Oe=N[_e];H=z[_e];for(let Re=0,at=Oe.length;Re<at;Re++){const k=X(Oe[Re],H[Re],Ce);be(k.x,k.y,-me)}}}const pe=v+x;for(let U=0;U<Q;U++){const fe=p?X(C[U],ee[U],pe):C[U];b?(B.copy(P.normals[0]).multiplyScalar(fe.x),T.copy(P.binormals[0]).multiplyScalar(fe.y),I.copy(w[0]).add(B).add(T),be(I.x,I.y,I.z)):be(fe.x,fe.y,0)}for(let U=1;U<=h;U++)for(let fe=0;fe<Q;fe++){const me=p?X(C[fe],ee[fe],pe):C[fe];b?(B.copy(P.normals[U]).multiplyScalar(me.x),T.copy(P.binormals[U]).multiplyScalar(me.y),I.copy(w[U]).add(B).add(T),be(I.x,I.y,I.z)):be(me.x,me.y,d/h*U)}for(let U=y-1;U>=0;U--){const fe=U/y,me=m*Math.cos(fe*Math.PI/2),Ce=v*Math.sin(fe*Math.PI/2)+x;for(let _e=0,Ne=W.length;_e<Ne;_e++){const Oe=X(W[_e],D[_e],Ce);be(Oe.x,Oe.y,d+me)}for(let _e=0,Ne=N.length;_e<Ne;_e++){const Oe=N[_e];H=z[_e];for(let Re=0,at=Oe.length;Re<at;Re++){const k=X(Oe[Re],H[Re],Ce);b?be(k.x,k.y+w[h-1].y,w[h-1].x+me):be(k.x,k.y,d+me)}}}ke(),ne();function ke(){const U=r.length/3;if(p){let fe=0,me=Q*fe;for(let Ce=0;Ce<Y;Ce++){const _e=j[Ce];xe(_e[2]+me,_e[1]+me,_e[0]+me)}fe=h+y*2,me=Q*fe;for(let Ce=0;Ce<Y;Ce++){const _e=j[Ce];xe(_e[0]+me,_e[1]+me,_e[2]+me)}}else{for(let fe=0;fe<Y;fe++){const me=j[fe];xe(me[2],me[1],me[0])}for(let fe=0;fe<Y;fe++){const me=j[fe];xe(me[0]+Q*h,me[1]+Q*h,me[2]+Q*h)}}i.addGroup(U,r.length/3-U,0)}function ne(){const U=r.length/3;let fe=0;ve(W,fe),fe+=W.length;for(let me=0,Ce=N.length;me<Ce;me++){const _e=N[me];ve(_e,fe),fe+=_e.length}i.addGroup(U,r.length/3-U,1)}function ve(U,fe){let me=U.length;for(;--me>=0;){const Ce=me;let _e=me-1;_e<0&&(_e=U.length-1);for(let Ne=0,Oe=h+y*2;Ne<Oe;Ne++){const Re=Q*Ne,at=Q*(Ne+1),k=fe+Ce+Re,F=fe+_e+Re,se=fe+_e+at,ge=fe+Ce+at;st(k,F,se,ge)}}}function be(U,fe,me){l.push(U),l.push(fe),l.push(me)}function xe(U,fe,me){Ke(U),Ke(fe),Ke(me);const Ce=r.length/3,_e=S.generateTopUV(i,r,Ce-3,Ce-2,Ce-1);Ge(_e[0]),Ge(_e[1]),Ge(_e[2])}function st(U,fe,me,Ce){Ke(U),Ke(fe),Ke(Ce),Ke(fe),Ke(me),Ke(Ce);const _e=r.length/3,Ne=S.generateSideWallUV(i,r,_e-6,_e-3,_e-2,_e-1);Ge(Ne[0]),Ge(Ne[1]),Ge(Ne[3]),Ge(Ne[1]),Ge(Ne[2]),Ge(Ne[3])}function Ke(U){r.push(l[U*3+0]),r.push(l[U*3+1]),r.push(l[U*3+2])}function Ge(U){s.push(U.x),s.push(U.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Jve(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new PR[r.type]().fromJSON(r)),new xP(i,e.options)}}const Xve={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],h=e[r*3+1];return[new it(s,o),new it(a,l),new it(c,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],x=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new it(o,1-l),new it(c,1-d),new it(p,1-v),new it(x,1-g)]:[new it(a,1-l),new it(h,1-d),new it(m,1-v),new it(y,1-g)]}};function Jve(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class _P extends f1{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _P(e.radius,e.detail)}}let z4=class Y$ extends f1{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Y$(e.radius,e.detail)}};class AP extends an{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],h=[];let d=e;const p=(t-e)/r,m=new ce,v=new it;for(let x=0;x<=r;x++){for(let y=0;y<=i;y++){const g=s+y/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}d+=p}for(let x=0;x<r;x++){const y=x*(i+1);for(let g=0;g<i;g++){const S=g+y,w=S,b=S+i+1,P=S+i+2,T=S+1;a.push(w,b,T),a.push(b,P,T)}}this.setIndex(a),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AP(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class SP extends an{constructor(e=new vg([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ot(r,3)),this.setAttribute("normal",new Ot(s,3)),this.setAttribute("uv",new Ot(o,2));function c(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;tu.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const S=v[y];tu.isClockWise(S)===!0&&(v[y]=S.reverse())}const x=tu.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const S=v[y];m=m.concat(S)}for(let y=0,g=m.length;y<g;y++){const S=m[y];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let y=0,g=x.length;y<g;y++){const S=x[y],w=S[0]+d,b=S[1]+d,P=S[2]+d;i.push(w,b,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Kve(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new SP(i,e.curveSegments)}}function Kve(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}let H4=class Q$ extends an{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const h=[],d=new ce,p=new ce,m=[],v=[],x=[],y=[];for(let g=0;g<=i;g++){const S=[],w=g/i;let b=0;g===0&&o===0?b=.5/t:g===i&&l===Math.PI&&(b=-.5/t);for(let P=0;P<=t;P++){const T=P/t;d.x=-e*Math.cos(r+T*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(r+T*s)*Math.sin(o+w*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),y.push(T+b,1-w),S.push(c++)}h.push(S)}for(let g=0;g<i;g++)for(let S=0;S<t;S++){const w=h[g][S+1],b=h[g][S],P=h[g+1][S],T=h[g+1][S+1];(g!==0||o>0)&&m.push(w,b,T),(g!==i-1||l<Math.PI)&&m.push(b,P,T)}this.setIndex(m),this.setAttribute("position",new Ot(v,3)),this.setAttribute("normal",new Ot(x,3)),this.setAttribute("uv",new Ot(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q$(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};class wP extends f1{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wP(e.radius,e.detail)}}class MP extends an{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],h=new ce,d=new ce,p=new ce;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const x=v/r*s,y=m/i*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(x),d.y=(e+t*Math.cos(y))*Math.sin(x),d.z=t*Math.sin(y),a.push(d.x,d.y,d.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const x=(r+1)*m+v-1,y=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,S=(r+1)*m+v;o.push(x,y,S),o.push(y,g,S)}this.setIndex(o),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(l,3)),this.setAttribute("uv",new Ot(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MP(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class bP extends an{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],h=[],d=new ce,p=new ce,m=new ce,v=new ce,x=new ce,y=new ce,g=new ce;for(let w=0;w<=i;++w){const b=w/i*s*Math.PI*2;S(b,s,o,e,m),S(b+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let P=0;P<=r;++P){const T=P/r*Math.PI*2,B=-t*Math.cos(T),I=t*Math.sin(T);d.x=m.x+(B*g.x+I*x.x),d.y=m.y+(B*g.y+I*x.y),d.z=m.z+(B*g.z+I*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),h.push(w/i),h.push(P/r)}}for(let w=1;w<=i;w++)for(let b=1;b<=r;b++){const P=(r+1)*(w-1)+(b-1),T=(r+1)*w+(b-1),B=(r+1)*w+b,I=(r+1)*(w-1)+b;a.push(P,T,I),a.push(T,B,I)}this.setIndex(a),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(h,2));function S(w,b,P,T,B){const I=Math.cos(w),R=Math.sin(w),C=P/b*w,N=Math.cos(C);B.x=T*(2+N)*.5*I,B.y=T*(2+N)*R*.5,B.z=T*Math.sin(C)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bP(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class EP extends an{constructor(e=new O4(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ce,l=new ce,c=new it;let h=new ce;const d=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(m,2));function x(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),S(),g()}function y(w){h=e.getPointAt(w/t,h);const b=o.normals[w],P=o.binormals[w];for(let T=0;T<=r;T++){const B=T/r*Math.PI*2,I=Math.sin(B),R=-Math.cos(B);l.x=R*b.x+I*P.x,l.y=R*b.y+I*P.y,l.z=R*b.z+I*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=t;w++)for(let b=1;b<=r;b++){const P=(r+1)*(w-1)+(b-1),T=(r+1)*w+(b-1),B=(r+1)*w+b,I=(r+1)*(w-1)+b;v.push(P,T,I),v.push(T,B,I)}}function S(){for(let w=0;w<=t;w++)for(let b=0;b<=r;b++)c.x=w/t,c.y=b/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new EP(new PR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class q$ extends an{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new ce,s=new ce;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const d=l[c],p=d.start,m=d.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),S=a.getX(v+(y+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,S),qV(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const h=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),qV(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ot(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function qV(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var $V=Object.freeze({__proto__:null,BoxGeometry:cM,CapsuleGeometry:pP,CircleGeometry:mP,ConeGeometry:gP,CylinderGeometry:d1,DodecahedronGeometry:vP,EdgesGeometry:W$,ExtrudeGeometry:xP,IcosahedronGeometry:_P,LatheGeometry:k4,OctahedronGeometry:z4,PlaneGeometry:u1,PolyhedronGeometry:f1,RingGeometry:AP,ShapeGeometry:SP,SphereGeometry:H4,TetrahedronGeometry:wP,TorusGeometry:MP,TorusKnotGeometry:bP,TubeGeometry:EP,WireframeGeometry:q$});class $$ extends vr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Z$ extends lc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}let mM=class extends vr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=np,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Aa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};class Ml extends mM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eZ extends vr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=np,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Aa,this.combine=oM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tZ extends vr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=np,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nZ extends vr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=np,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iZ extends vr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=np,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Aa,this.combine=oM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rZ extends vr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=np,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sZ extends Ks{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Km(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function oZ(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function aZ(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function AN(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function G4(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Yve(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){d.push(c.times[m]);for(let x=0;x<h;++x)p.push(c.values[m*h+x])}}d.length!==0&&(c.times=Km(d,c.times.constructor),c.values=Km(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Qve(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=h,S=d-h;x=a.values.slice(g,S)}else if(s>=a.times[v]){const g=v*d+h,S=g+d-h;x=a.values.slice(g,S)}else{const g=a.createInterpolant(),S=h,w=d-h;g.evaluate(s),x=g.resultBuffer.slice(S,w)}l==="quaternion"&&new Qr().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const S=g*m+p;if(l==="quaternion")Qr.multiplyQuaternionsFlat(c.values,S,x,0,c.values,S);else{const w=m-p*2;for(let b=0;b<w;++b)c.values[S+b]-=x[b]}}}return n.blendMode=d4,n}const qve={convertArray:Km,isTypedArray:oZ,getKeyframeOrder:aZ,sortedArray:AN,flattenJSON:G4,subclip:Yve,makeClipAdditive:Qve};class p1{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lZ extends p1{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wm,endingEnd:Wm}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Xm:s=e,a=2*t-i;break;case qS:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Xm:o=e,l=2*i-t;break;case qS:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,S=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,w=(-1-m)*y+(1.5+m)*x+.5*v,b=m*y-m*x;for(let P=0;P!==a;++P)s[P]=g*o[h+P]+S*o[c+P]+w*o[l+P]+b*o[d+P];return s}}class V4 extends p1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*h;return s}}class cZ extends p1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class gc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Km(t,this.TimeBufferType),this.values=Km(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Km(e.times,Array),values:Km(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new cZ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new V4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lZ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Rx:t=this.InterpolantFactoryMethodDiscrete;break;case Px:t=this.InterpolantFactoryMethodLinear;break;case wT:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rx;case this.InterpolantFactoryMethodLinear:return Px;case this.InterpolantFactoryMethodSmooth:return wT}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&oZ(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===wT,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const x=t[d+v];if(x!==t[p+v]||x!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}gc.prototype.TimeBufferType=Float32Array;gc.prototype.ValueBufferType=Float32Array;gc.prototype.DefaultInterpolation=Px;class c0 extends gc{constructor(e,t,i){super(e,t,i)}}c0.prototype.ValueTypeName="bool";c0.prototype.ValueBufferType=Array;c0.prototype.DefaultInterpolation=Rx;c0.prototype.InterpolantFactoryMethodLinear=void 0;c0.prototype.InterpolantFactoryMethodSmooth=void 0;class j4 extends gc{}j4.prototype.ValueTypeName="color";class zg extends gc{}zg.prototype.ValueTypeName="number";class uZ extends p1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let h=c+a;c!==h;c+=4)Qr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Hg extends gc{InterpolantFactoryMethodLinear(e){return new uZ(this.times,this.values,this.getValueSize(),e)}}Hg.prototype.ValueTypeName="quaternion";Hg.prototype.InterpolantFactoryMethodSmooth=void 0;class u0 extends gc{constructor(e,t,i){super(e,t,i)}}u0.prototype.ValueTypeName="string";u0.prototype.ValueBufferType=Array;u0.prototype.DefaultInterpolation=Rx;u0.prototype.InterpolantFactoryMethodLinear=void 0;u0.prototype.InterpolantFactoryMethodSmooth=void 0;let Gg=class extends gc{};Gg.prototype.ValueTypeName="vector";class Dx{constructor(e="",t=-1,i=[],r=sP){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ma(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Zve(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(gc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=aZ(l);l=AN(l,1,h),c=AN(c,1,h),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new zg(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,d,p,m,v){if(p.length!==0){const x=[],y=[];G4(p,x,y,m),x.length!==0&&v.push(new h(d,x,y))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let m;for(m=0;m<d.length;m++)if(d[m].morphTargets)for(let v=0;v<d[m].morphTargets.length;v++)p[d[m].morphTargets[v]]=-1;for(const v in p){const x=[],y=[];for(let g=0;g!==d[m].morphTargets.length;++g){const S=d[m];x.push(S.time),y.push(S.morphTarget===v?1:0)}r.push(new zg(".morphTargetInfluence["+v+"]",x,y))}l=p.length*o}else{const p=".bones["+t[h].name+"]";i(Gg,p+".position",d,"pos",r),i(Hg,p+".quaternion",d,"rot",r),i(Gg,p+".scale",d,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function $ve(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zg;case"vector":case"vector2":case"vector3":case"vector4":return Gg;case"color":return j4;case"quaternion":return Hg;case"bool":case"boolean":return c0;case"string":return u0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Zve(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=$ve(n.type);if(n.times===void 0){const t=[],i=[];G4(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const _h={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class W4{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Ey=new W4;let Ys=class{constructor(e){this.manager=e!==void 0?e:Ey,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Ys.DEFAULT_MATERIAL_NAME="__DEFAULT";const $u={};class eye extends Error{constructor(e,t){super(e),this.response=t}}class Sa extends Ys{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=_h.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if($u[e]!==void 0){$u[e].push({onLoad:t,onProgress:i,onError:r});return}$u[e]=[],$u[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=$u[e],d=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){S();function S(){d.read().then(({done:w,value:b})=>{if(w)g.close();else{x+=b.byteLength;const P=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let T=0,B=h.length;T<B;T++){const I=h[T];I.onProgress&&I.onProgress(P)}g.enqueue(b),S()}},w=>{g.error(w)})}}});return new Response(y)}else throw new eye(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),d=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(m=>p.decode(m))}}}).then(c=>{_h.add(e,c);const h=$u[e];delete $u[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=$u[e];if(h===void 0)throw this.manager.itemError(e),c;delete $u[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class tye extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Sa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Dx.parse(e[i]);t.push(r)}return t}}class nye extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new dP,l=new Sa(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Ki),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Ki),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}let lw=class extends Ys{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_h.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=iw("img");function l(){h(),_h.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}};class iye extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=new hM;s.colorSpace=rl;const o=new lw(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(h){s.images[c]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class rye extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Rh,a=new Sa(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:aa,o.wrapT=c.wrapT!==void 0?c.wrapT:aa,o.magFilter=c.magFilter!==void 0?c.magFilter:Ki,o.minFilter=c.minFilter!==void 0?c.minFilter:Ki,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=fl),c.mipmapCount===1&&(o.minFilter=Ki),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}let gM=class extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=new ri,o=new lw(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}},ip=class extends Rn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};class hZ extends ip{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const mL=new jt,ZV=new ce,e8=new ce;class X4{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.map=null,this.mapPass=null,this.matrix=new jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dM,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new Yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;ZV.setFromMatrixPosition(e.matrixWorld),t.position.copy(ZV),e8.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(e8),t.updateMatrixWorld(),mL.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mL),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(mL)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sye extends X4{constructor(){super(new xi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Bx*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class J4 extends ip{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.target=new Rn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new sye}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const t8=new jt,$_=new ce,gL=new ce;class oye extends X4{constructor(){super(new xi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new Yn(2,1,1,1),new Yn(0,1,1,1),new Yn(3,1,1,1),new Yn(1,1,1,1),new Yn(3,0,1,1),new Yn(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),$_.setFromMatrixPosition(e.matrixWorld),i.position.copy($_),gL.copy(i.position),gL.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(gL),i.updateMatrixWorld(),r.makeTranslation(-$_.x,-$_.y,-$_.z),t8.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(t8)}}class K4 extends ip{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new oye}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class aye extends X4{constructor(){super(new pl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Y4 extends ip{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.target=new Rn,this.shadow=new aye}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dZ extends ip{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class fZ extends ip{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class pZ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class mZ extends ip{constructor(e=new pZ,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class CP extends Ys{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Sa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=CP.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Et().setHex(o.value);break;case"v2":r.uniforms[s].value=new it().fromArray(o.value);break;case"v3":r.uniforms[s].value=new ce().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Yn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new cn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new jt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new it().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:$$,SpriteMaterial:C4,RawShaderMaterial:Z$,ShaderMaterial:lc,PointsMaterial:pM,MeshPhysicalMaterial:Ml,MeshStandardMaterial:mM,MeshPhongMaterial:eZ,MeshToonMaterial:tZ,MeshNormalMaterial:nZ,MeshLambertMaterial:iZ,MeshDepthMaterial:b4,MeshDistanceMaterial:E4,MeshBasicMaterial:ca,MeshMatcapMaterial:rZ,LineDashedMaterial:sZ,LineBasicMaterial:Ks,Material:vr};return new t[e]}}let Sf=class{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}};class gZ extends an{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class vZ extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Sa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(p,m){if(t[m]!==void 0)return t[m];const v=p.interleavedBuffers[m],x=s(p,v.buffer),y=wy(v.type,x),g=new fM(y,v.stride);return g.uuid=v.uuid,t[m]=g,g}function s(p,m){if(i[m]!==void 0)return i[m];const v=p.arrayBuffers[m],x=new Uint32Array(v).buffer;return i[m]=x,x}const o=e.isInstancedBufferGeometry?new gZ:new an,a=e.data.index;if(a!==void 0){const p=wy(a.type,a.array);o.setIndex(new Dn(p,1))}const l=e.data.attributes;for(const p in l){const m=l[p];let v;if(m.isInterleavedBufferAttribute){const x=r(e.data,m.data);v=new Lx(x,m.itemSize,m.offset,m.normalized)}else{const x=wy(m.type,m.array),y=m.isInstancedBufferAttribute?Ug:Dn;v=new y(x,m.itemSize,m.normalized)}m.name!==void 0&&(v.name=m.name),m.usage!==void 0&&v.setUsage(m.usage),o.setAttribute(p,v)}const c=e.data.morphAttributes;if(c)for(const p in c){const m=c[p],v=[];for(let x=0,y=m.length;x<y;x++){const g=m[x];let S;if(g.isInterleavedBufferAttribute){const w=r(e.data,g.data);S=new Lx(w,g.itemSize,g.offset,g.normalized)}else{const w=wy(g.type,g.array);S=new Dn(w,g.itemSize,g.normalized)}g.name!==void 0&&(S.name=g.name),v.push(S)}o.morphAttributes[p]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,m=h.length;p!==m;++p){const v=h[p];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new ce;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new gs(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class lye extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Sf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Sa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Sf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Sa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new vg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new R4().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new vZ;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in $V?a=$V[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new CP;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Dx.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(h)}else return l.data?{data:wy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new W4(t);s=new lw(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Rh(g.data,g.width,g.height)))}r[d.uuid]=new Jm(m)}else{const m=a(d.url);r[d.uuid]=new Jm(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:wy(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new lw(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Rh(v.data,v.width,v.height)))}i[l.uuid]=new Jm(h)}else{const h=await s(l.url);i[l.uuid]=new Jm(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let h;Array.isArray(c)?(h=new hM,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new Rh:h=new ri,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,cye)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],n8),h.wrapT=i(a.wrap[1],n8)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,i8)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,i8)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(i[y])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new CR,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Et(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new uP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new cP(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new xi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new pl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new dZ(e.color,e.intensity);break;case"DirectionalLight":o=new Y4(e.color,e.intensity);break;case"PointLight":o=new K4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new fZ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new J4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new hZ(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new mZ().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new T4(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new Qi(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new P4(h,d,p),o.instanceMatrix=new Ug(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Ug(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":h=a(e.geometry),d=l(e.material),o=new O$(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new Gs;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const g=new gs;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new F$;break;case"Line":o=new Xh(a(e.geometry),l(e.material));break;case"LineLoop":o=new B4(a(e.geometry),l(e.material));break;case"LineSegments":o=new pc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new I4(a(e.geometry),l(e.material));break;case"Sprite":o=new D$(l(e.material));break;case"Group":o=new xh;break;case"Bone":o=new hP;break;default:o=new Rn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const cye={UVMapping:iP,CubeReflectionMapping:Wh,CubeRefractionMapping:Uf,EquirectangularReflectionMapping:KS,EquirectangularRefractionMapping:YS,CubeUVReflectionMapping:c1},n8={RepeatWrapping:kf,ClampToEdgeWrapping:aa,MirroredRepeatWrapping:Tx},i8={NearestFilter:Rr,NearestMipmapNearestFilter:rP,NearestMipmapLinearFilter:jm,LinearFilter:Ki,LinearMipmapNearestFilter:sx,LinearMipmapLinearFilter:fl};class yZ extends Ys{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_h.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return _h.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),_h.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});_h.add(e,l),s.manager.itemStart(e)}}let wE;class Q4{static getContext(){return wE===void 0&&(wE=new(window.AudioContext||window.webkitAudioContext)),wE}static setContext(e){wE=e}}class uye extends Ys{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Sa(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);Q4.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const r8=new jt,s8=new jt,Zp=new jt;class hye{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Zp.copy(e.projectionMatrix);const i=t.eyeSep/2,r=i*t.near/t.focus,s=t.near*Math.tan(mg*t.fov*.5)/t.zoom;let o,a;s8.elements[12]=-i,r8.elements[12]=i,o=-s*t.aspect+r,a=s*t.aspect+r,Zp.elements[0]=2*t.near/(a-o),Zp.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(Zp),o=-s*t.aspect-r,a=s*t.aspect-r,Zp.elements[0]=2*t.near/(a-o),Zp.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(Zp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(s8),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(r8)}}class q4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=o8(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=o8();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function o8(){return(typeof performance>"u"?Date:performance).now()}const em=new ce,a8=new Qr,dye=new ce,tm=new ce;class fye extends Rn{constructor(){super(),this.type="AudioListener",this.context=Q4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new q4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(em,a8,dye),tm.set(0,0,-1).applyQuaternion(a8),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(em.x,r),t.positionY.linearRampToValueAtTime(em.y,r),t.positionZ.linearRampToValueAtTime(em.z,r),t.forwardX.linearRampToValueAtTime(tm.x,r),t.forwardY.linearRampToValueAtTime(tm.y,r),t.forwardZ.linearRampToValueAtTime(tm.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(em.x,em.y,em.z),t.setOrientation(tm.x,tm.y,tm.z,i.x,i.y,i.z)}}class xZ extends Rn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const nm=new ce,l8=new Qr,pye=new ce,im=new ce;class mye extends xZ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(nm,l8,pye),im.set(0,0,1).applyQuaternion(l8);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(nm.x,i),t.positionY.linearRampToValueAtTime(nm.y,i),t.positionZ.linearRampToValueAtTime(nm.z,i),t.orientationX.linearRampToValueAtTime(im.x,i),t.orientationY.linearRampToValueAtTime(im.y,i),t.orientationZ.linearRampToValueAtTime(im.z,i)}else t.setPosition(nm.x,nm.y,nm.z),t.setOrientation(im.x,im.y,im.z)}}class gye{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class _Z{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Qr.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Qr.multiplyQuaternionsFlat(e,o,e,t,e,i),Qr.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const $4="\\[\\]\\.:\\/",vye=new RegExp("["+$4+"]","g"),Z4="[^"+$4+"]",yye="[^"+$4.replace("\\.","")+"]",xye=/((?:WC+[\/:])*)/.source.replace("WC",Z4),_ye=/(WCOD+)?/.source.replace("WCOD",yye),Aye=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Z4),Sye=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Z4),wye=new RegExp("^"+xye+_ye+Aye+Sye+"$"),Mye=["material","materials","bones","map"];class bye{constructor(e,t,i){const r=i||In.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class In{constructor(e,t,i){this.path=t,this.parsedPath=i||In.parseTrackName(t),this.node=In.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new In.Composite(e,t,i):new In(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(vye,"")}static parseTrackName(e){const t=wye.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Mye.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=In.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}In.Composite=bye;In.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};In.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};In.prototype.GetterByBindingType=[In.prototype._getValue_direct,In.prototype._getValue_array,In.prototype._getValue_arrayElement,In.prototype._getValue_toArray];In.prototype.SetterByBindingTypeAndVersioning=[[In.prototype._setValue_direct,In.prototype._setValue_direct_setNeedsUpdate,In.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[In.prototype._setValue_array,In.prototype._setValue_array_setNeedsUpdate,In.prototype._setValue_array_setMatrixWorldNeedsUpdate],[In.prototype._setValue_arrayElement,In.prototype._setValue_arrayElement_setNeedsUpdate,In.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[In.prototype._setValue_fromArray,In.prototype._setValue_fromArray_setNeedsUpdate,In.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Eye{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ma(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let x=0,y=o;x!==y;++x)s[x].push(new In(p,i[x],r[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];t[y.uuid]=v,e[v]=y,t[m]=x,e[x]=p;for(let g=0,S=o;g!==S;++g){const w=s[g],b=w[x];let P=w[v];w[v]=b,P===void 0&&(P=new In(p,i[g],r[g])),w[x]=P}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[c]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const x=i[m],y=x[d],g=x[h];x[h]=y,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],v=--o,x=e[v];t[m.uuid]=d,e[d]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=r;y!==g;++y){const S=i[y],w=S[p],b=S[v];S[d]=w,S[p]=b,S.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,x=r;v!==x;++v){const y=i[v];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const v=l[p];d[p]=new In(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class AZ{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Wm,endingEnd:Wm};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Zq,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case d4:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case sP:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===e$;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===$q){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Xm,r.endingEnd=Xm):(e?r.endingStart=this.zeroSlopeAtStart?Xm:Wm:r.endingStart=qS,t?r.endingEnd=this.zeroSlopeAtEnd?Xm:Wm:r.endingEnd=qS)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const Cye=new Float32Array(1);class Tye extends yu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;v=new _Z(In.create(i,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new V4(new Float32Array(2),new Float32Array(2),1,Cye),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Dx.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=sP),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new AZ(this,o,t,i);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Dx.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class ez{constructor(e){this.value=e}clone(){return new ez(this.value.clone===void 0?this.value:this.value.clone())}}let Rye=0;class Pye extends yu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Rye++}),this.name="",this.usage=tw,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Bye extends fM{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Iye{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const c8=new jt;class SZ{constructor(e,t,i=0,r=1/0){this.ray=new l0(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new gg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return c8.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(c8),this}intersectObject(e,t=!0,i=[]){return SN(e,this,i,t),i.sort(u8),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)SN(e[r],this,i,t);return i.sort(u8),i}}function u8(n,e){return n.distance-e.distance}function SN(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)SN(s[o],e,t,!0)}}class wN{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Xi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Lye{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const h8=new it;class Dye{constructor(e=new it(1/0,1/0),t=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=h8.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,h8).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const d8=new ce,ME=new ce;class Fye{constructor(e=new ce,t=new ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){d8.subVectors(e,this.start),ME.subVectors(this.end,this.start);const i=ME.dot(ME);let r=ME.dot(d8)/i;return t&&(r=Xi(r,0,1)),r}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const f8=new ce;class Nye extends Rn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new an,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Ot(r,3));const s=new Ks({fog:!1,toneMapped:!1});this.cone=new pc(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),f8.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(f8),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ld=new ce,bE=new jt,vL=new jt;class Oye extends pc{constructor(e){const t=wZ(e),i=new an,r=[],s=[],o=new Et(0,0,1),a=new Et(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ot(r,3)),i.setAttribute("color",new Ot(s,3));const l=new Ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");vL.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(bE.multiplyMatrices(vL,a.matrixWorld),Ld.setFromMatrixPosition(bE),r.setXYZ(o,Ld.x,Ld.y,Ld.z),bE.multiplyMatrices(vL,a.parent.matrixWorld),Ld.setFromMatrixPosition(bE),r.setXYZ(o+1,Ld.x,Ld.y,Ld.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function wZ(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,wZ(n.children[t]));return e}class Uye extends Qi{constructor(e,t,i){const r=new H4(t,4,2),s=new ca({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const kye=new ce,p8=new Et,m8=new Et;class zye extends Rn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new z4(t);r.rotateY(Math.PI*.5),this.material=new ca({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Dn(o,3)),this.add(new Qi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");p8.copy(this.light.color),m8.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?p8:m8;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(kye.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Hye extends pc{constructor(e=10,t=10,i=4473924,r=8947848){i=new Et(i),r=new Et(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const h=new an;h.setAttribute("position",new Ot(l,3)),h.setAttribute("color",new Ot(c,3));const d=new Ks({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Gye extends pc{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Et(s),o=new Et(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let x=v/r*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/r*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const c=new an;c.setAttribute("position",new Ot(a,3)),c.setAttribute("color",new Ot(l,3));const h=new Ks({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const g8=new ce,EE=new ce,v8=new ce;class Vye extends Rn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new an;r.setAttribute("position",new Ot([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ks({fog:!1,toneMapped:!1});this.lightPlane=new Xh(r,s),this.add(this.lightPlane),r=new an,r.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new Xh(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),g8.setFromMatrixPosition(this.light.matrixWorld),EE.setFromMatrixPosition(this.light.target.matrixWorld),v8.subVectors(EE,g8),this.lightPlane.lookAt(EE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(EE),this.targetLine.scale.z=v8.length()}}const CE=new ce,Gi=new uM;class jye extends pc{constructor(e){const t=new an,i=new Ks({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ot(r,3)),t.setAttribute("color",new Ot(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Et(16755200),h=new Et(16711680),d=new Et(43775),p=new Et(16777215),m=new Et(3355443);this.setColors(c,h,d,p,m)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Gi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Zi("c",t,e,Gi,0,0,-1),Zi("t",t,e,Gi,0,0,1),Zi("n1",t,e,Gi,-i,-r,-1),Zi("n2",t,e,Gi,i,-r,-1),Zi("n3",t,e,Gi,-i,r,-1),Zi("n4",t,e,Gi,i,r,-1),Zi("f1",t,e,Gi,-i,-r,1),Zi("f2",t,e,Gi,i,-r,1),Zi("f3",t,e,Gi,-i,r,1),Zi("f4",t,e,Gi,i,r,1),Zi("u1",t,e,Gi,i*.7,r*1.1,-1),Zi("u2",t,e,Gi,-i*.7,r*1.1,-1),Zi("u3",t,e,Gi,0,r*2,-1),Zi("cf1",t,e,Gi,-i,0,1),Zi("cf2",t,e,Gi,i,0,1),Zi("cf3",t,e,Gi,0,-r,1),Zi("cf4",t,e,Gi,0,r,1),Zi("cn1",t,e,Gi,-i,0,-1),Zi("cn2",t,e,Gi,i,0,-1),Zi("cn3",t,e,Gi,0,-r,-1),Zi("cn4",t,e,Gi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Zi(n,e,t,i,r,s,o){CE.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],CE.x,CE.y,CE.z)}}const TE=new Gs;class Wye extends pc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new an;s.setIndex(new Dn(i,1)),s.setAttribute("position",new Dn(r,3)),super(s,new Ks({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&TE.setFromObject(this.object),TE.isEmpty())return;const t=TE.min,i=TE.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xye extends pc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new an;s.setIndex(new Dn(i,1)),s.setAttribute("position",new Ot(r,3)),super(s,new Ks({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jye extends Xh{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new an;o.setAttribute("position",new Ot(s,3)),o.computeBoundingSphere(),super(o,new Ks({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new an;l.setAttribute("position",new Ot(a,3)),l.computeBoundingSphere(),this.add(new Qi(l,new ca({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const y8=new ce;let RE,yL;class Kye extends Rn{constructor(e=new ce(0,0,1),t=new ce(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",RE===void 0&&(RE=new an,RE.setAttribute("position",new Ot([0,0,0,0,1,0],3)),yL=new d1(0,.5,1,5,1),yL.translate(0,-.5,0)),this.position.copy(t),this.line=new Xh(RE,new Ks({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qi(yL,new ca({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{y8.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(y8,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Yye extends pc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new an;r.setAttribute("position",new Ot(t,3)),r.setAttribute("color",new Ot(i,3));const s=new Ks({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Et,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qye{constructor(){this.type="ShapePath",this.color=new Et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new rw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const S=[];for(let w=0,b=g.length;w<b;w++){const P=g[w],T=new vg;T.curves=P.curves,S.push(T)}return S}function i(g,S){const w=S.length;let b=!1;for(let P=w-1,T=0;T<w;P=T++){let B=S[P],I=S[T],R=I.x-B.x,C=I.y-B.y;if(Math.abs(C)>Number.EPSILON){if(C<0&&(B=S[T],R=-R,I=S[P],C=-C),g.y<B.y||g.y>I.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const N=C*(g.x-B.x)-R*(g.y-B.y);if(N===0)return!0;if(N<0)continue;b=!b}}else{if(g.y!==B.y)continue;if(I.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=I.x)return!0}}return b}const r=tu.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new vg,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,S=s.length;g<S;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new vg,p:x},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,S=0;for(let w=0,b=p.length;w<b;w++)d[w]=[];for(let w=0,b=p.length;w<b;w++){const P=m[w];for(let T=0;T<P.length;T++){const B=P[T];let I=!0;for(let R=0;R<p.length;R++)i(B.p,p[R].p)&&(w!==R&&S++,I?(I=!1,d[R].push(B)):g=!0);I&&d[w].push(B)}}S>0&&g===!1&&(m=d)}let y;for(let g=0,S=p.length;g<S;g++){l=p[g].s,c.push(l),y=m[g];for(let w=0,b=y.length;w<b;w++)l.holes.push(y[w].h)}return c}}class qye extends ac{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:l1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=l1);const $ye=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:r4,AddEquation:of,AddOperation:Fq,AdditiveAnimationBlendMode:d4,AdditiveBlending:UF,AgXToneMapping:zq,AlphaFormat:Xq,AlwaysCompare:h$,AlwaysDepth:Tq,AlwaysStencilFunc:pN,AmbientLight:dZ,AnimationAction:AZ,AnimationClip:Dx,AnimationLoader:tye,AnimationMixer:Tye,AnimationObjectGroup:Eye,AnimationUtils:qve,ArcCurve:U$,ArrayCamera:P$,ArrowHelper:Kye,AttachedBindMode:HF,Audio:xZ,AudioAnalyser:gye,AudioContext:Q4,AudioListener:fye,AudioLoader:uye,AxesHelper:Yye,BackSide:fo,BasicDepthPacking:n$,BasicShadowMap:lq,BatchedMesh:O$,Bone:hP,BooleanKeyframeTrack:c0,Box2:Dye,Box3:Gs,Box3Helper:Xye,BoxGeometry:cM,BoxHelper:Wye,BufferAttribute:Dn,BufferGeometry:an,BufferGeometryLoader:vZ,ByteType:Vq,Cache:_h,Camera:uM,CameraHelper:jye,CanvasTexture:Ave,CapsuleGeometry:pP,CatmullRomCurve3:k$,CineonToneMapping:Uq,CircleGeometry:mP,ClampToEdgeWrapping:aa,Clock:q4,Color:Et,ColorKeyframeTrack:j4,ColorManagement:Hn,CompressedArrayTexture:xve,CompressedCubeTexture:_ve,CompressedTexture:dP,CompressedTextureLoader:nye,ConeGeometry:gP,ConstantAlphaFactor:bq,ConstantColorFactor:wq,CubeCamera:A4,CubeReflectionMapping:Wh,CubeRefractionMapping:Uf,CubeTexture:hM,CubeTextureLoader:iye,CubeUVReflectionMapping:c1,CubicBezierCurve:D4,CubicBezierCurve3:z$,CubicInterpolant:lZ,CullFaceBack:OF,CullFaceFront:aq,CullFaceFrontBack:ude,CullFaceNone:oq,Curve:mc,CurvePath:G$,CustomBlending:cq,CustomToneMapping:kq,CylinderGeometry:d1,Cylindrical:Lye,Data3DTexture:y4,DataArrayTexture:aP,DataTexture:Rh,DataTextureLoader:rye,DataUtils:mfe,DecrementStencilOp:yde,DecrementWrapStencilOp:_de,DefaultLoadingManager:Ey,DepthFormat:fg,DepthStencilFormat:Og,DepthTexture:M4,DetachedBindMode:Gq,DirectionalLight:Y4,DirectionalLightHelper:Vye,DiscreteInterpolant:cZ,DisplayP3ColorSpace:oP,DodecahedronGeometry:vP,DoubleSide:ul,DstAlphaFactor:yq,DstColorFactor:_q,DynamicCopyUsage:Dde,DynamicDrawUsage:pg,DynamicReadUsage:Bde,EdgesGeometry:W$,EllipseCurve:fP,EqualCompare:a$,EqualDepth:Pq,EqualStencilFunc:Mde,EquirectangularReflectionMapping:KS,EquirectangularRefractionMapping:YS,Euler:Aa,EventDispatcher:yu,ExtrudeGeometry:xP,FileLoader:Sa,Float16BufferAttribute:Afe,Float32BufferAttribute:Ot,FloatType:la,Fog:uP,FogExp2:cP,FramebufferTexture:yve,FrontSide:lu,Frustum:dM,GLBufferAttribute:Iye,GLSL1:Nde,GLSL3:mN,GreaterCompare:l$,GreaterDepth:Iq,GreaterEqualCompare:u$,GreaterEqualDepth:Bq,GreaterEqualStencilFunc:Tde,GreaterStencilFunc:Ede,GridHelper:Hye,Group:xh,HalfFloatType:aM,HemisphereLight:hZ,HemisphereLightHelper:zye,IcosahedronGeometry:_P,ImageBitmapLoader:yZ,ImageLoader:lw,ImageUtils:m$,IncrementStencilOp:vde,IncrementWrapStencilOp:xde,InstancedBufferAttribute:Ug,InstancedBufferGeometry:gZ,InstancedInterleavedBuffer:Bye,InstancedMesh:P4,Int16BufferAttribute:xfe,Int32BufferAttribute:_fe,Int8BufferAttribute:gfe,IntType:s4,InterleavedBuffer:fM,InterleavedBufferAttribute:Lx,Interpolant:p1,InterpolateDiscrete:Rx,InterpolateLinear:Px,InterpolateSmooth:wT,InvertStencilOp:Ade,KeepStencilOp:Em,KeyframeTrack:gc,LOD:F$,LatheGeometry:k4,Layers:gg,LessCompare:o$,LessDepth:Rq,LessEqualCompare:p4,LessEqualDepth:JS,LessEqualStencilFunc:bde,LessStencilFunc:wde,Light:ip,LightProbe:mZ,Line:Xh,Line3:Fye,LineBasicMaterial:Ks,LineCurve:F4,LineCurve3:H$,LineDashedMaterial:sZ,LineLoop:B4,LineSegments:pc,LinearDisplayP3ColorSpace:lM,LinearFilter:Ki,LinearInterpolant:V4,LinearMipMapLinearFilter:pde,LinearMipMapNearestFilter:fde,LinearMipmapLinearFilter:fl,LinearMipmapNearestFilter:sx,LinearSRGBColorSpace:nd,LinearToneMapping:Nq,LinearTransfer:$S,Loader:Ys,LoaderUtils:Sf,LoadingManager:W4,LoopOnce:$q,LoopPingPong:e$,LoopRepeat:Zq,LuminanceAlphaFormat:Yq,LuminanceFormat:Kq,MOUSE:Mm,Material:vr,MaterialLoader:CP,MathUtils:g4,Matrix3:cn,Matrix4:jt,MaxEquation:fq,Mesh:Qi,MeshBasicMaterial:ca,MeshDepthMaterial:b4,MeshDistanceMaterial:E4,MeshLambertMaterial:iZ,MeshMatcapMaterial:rZ,MeshNormalMaterial:nZ,MeshPhongMaterial:eZ,MeshPhysicalMaterial:Ml,MeshStandardMaterial:mM,MeshToonMaterial:tZ,MinEquation:dq,MirroredRepeatWrapping:Tx,MixOperation:Dq,MultiplyBlending:zF,MultiplyOperation:oM,NearestFilter:Rr,NearestMipMapLinearFilter:dde,NearestMipMapNearestFilter:hde,NearestMipmapLinearFilter:jm,NearestMipmapNearestFilter:rP,NeutralToneMapping:Hq,NeverCompare:s$,NeverDepth:Cq,NeverStencilFunc:Sde,NoBlending:Th,NoColorSpace:fh,NoToneMapping:eu,NormalAnimationBlendMode:sP,NormalBlending:dg,NotEqualCompare:c$,NotEqualDepth:Lq,NotEqualStencilFunc:Cde,NumberKeyframeTrack:zg,Object3D:Rn,ObjectLoader:lye,ObjectSpaceNormalMap:r$,OctahedronGeometry:z4,OneFactor:mq,OneMinusConstantAlphaFactor:Eq,OneMinusConstantColorFactor:Mq,OneMinusDstAlphaFactor:xq,OneMinusDstColorFactor:Aq,OneMinusSrcAlphaFactor:bR,OneMinusSrcColorFactor:vq,OrthographicCamera:pl,P3Primaries:ew,PCFShadowMap:nP,PCFSoftShadowMap:rS,PMREMGenerator:gN,Path:rw,PerspectiveCamera:xi,Plane:uh,PlaneGeometry:u1,PlaneHelper:Jye,PointLight:K4,PointLightHelper:Uye,Points:I4,PointsMaterial:pM,PolarGridHelper:Gye,PolyhedronGeometry:f1,PositionalAudio:mye,PropertyBinding:In,PropertyMixer:_Z,QuadraticBezierCurve:N4,QuadraticBezierCurve3:O4,Quaternion:Qr,QuaternionKeyframeTrack:Hg,QuaternionLinearInterpolant:uZ,RED_GREEN_RGTC2_Format:dN,RED_RGTC1_Format:qq,REVISION:l1,RGBADepthPacking:i$,RGBAFormat:co,RGBAIntegerFormat:h4,RGBA_ASTC_10x10_Format:oN,RGBA_ASTC_10x5_Format:iN,RGBA_ASTC_10x6_Format:rN,RGBA_ASTC_10x8_Format:sN,RGBA_ASTC_12x10_Format:aN,RGBA_ASTC_12x12_Format:lN,RGBA_ASTC_4x4_Format:YF,RGBA_ASTC_5x4_Format:QF,RGBA_ASTC_5x5_Format:qF,RGBA_ASTC_6x5_Format:$F,RGBA_ASTC_6x6_Format:ZF,RGBA_ASTC_8x5_Format:eN,RGBA_ASTC_8x6_Format:tN,RGBA_ASTC_8x8_Format:nN,RGBA_BPTC_Format:ST,RGBA_ETC2_EAC_Format:KF,RGBA_PVRTC_2BPPV1_Format:WF,RGBA_PVRTC_4BPPV1_Format:jF,RGBA_S3TC_DXT1_Format:xT,RGBA_S3TC_DXT3_Format:_T,RGBA_S3TC_DXT5_Format:AT,RGBFormat:Jq,RGB_BPTC_SIGNED_Format:cN,RGB_BPTC_UNSIGNED_Format:uN,RGB_ETC1_Format:XF,RGB_ETC2_Format:JF,RGB_PVRTC_2BPPV1_Format:VF,RGB_PVRTC_4BPPV1_Format:GF,RGB_S3TC_DXT1_Format:yT,RGFormat:Qq,RGIntegerFormat:u4,RawShaderMaterial:Z$,Ray:l0,Raycaster:SZ,Rec709Primaries:ZS,RectAreaLight:fZ,RedFormat:l4,RedIntegerFormat:c4,ReinhardToneMapping:Oq,RenderTarget:g$,RepeatWrapping:kf,ReplaceStencilOp:gde,ReverseSubtractEquation:hq,RingGeometry:AP,SIGNED_RED_GREEN_RGTC2_Format:fN,SIGNED_RED_RGTC1_Format:hN,SRGBColorSpace:rl,SRGBTransfer:ai,Scene:CR,ShaderChunk:mn,ShaderLib:ql,ShaderMaterial:lc,ShadowMaterial:$$,Shape:vg,ShapeGeometry:SP,ShapePath:Qye,ShapeUtils:tu,ShortType:jq,Skeleton:R4,SkeletonHelper:Oye,SkinnedMesh:T4,Source:Jm,Sphere:gs,SphereGeometry:H4,Spherical:wN,SphericalHarmonics3:pZ,SplineCurve:U4,SpotLight:J4,SpotLightHelper:Nye,Sprite:D$,SpriteMaterial:C4,SrcAlphaFactor:MR,SrcAlphaSaturateFactor:Sq,SrcColorFactor:gq,StaticCopyUsage:Lde,StaticDrawUsage:tw,StaticReadUsage:Pde,StereoCamera:hye,StreamCopyUsage:Fde,StreamDrawUsage:Rde,StreamReadUsage:Ide,StringKeyframeTrack:u0,SubtractEquation:uq,SubtractiveBlending:kF,TOUCH:bm,TangentSpaceNormalMap:np,TetrahedronGeometry:wP,Texture:ri,TextureLoader:gM,TorusGeometry:MP,TorusKnotGeometry:bP,Triangle:ra,TriangleFanDrawMode:ER,TriangleStripDrawMode:f4,TrianglesDrawMode:t$,TubeGeometry:EP,UVMapping:iP,Uint16BufferAttribute:x4,Uint32BufferAttribute:_4,Uint8BufferAttribute:vfe,Uint8ClampedBufferAttribute:yfe,Uniform:ez,UniformsGroup:Pye,UniformsLib:Pt,UniformsUtils:S$,UnsignedByteType:cu,UnsignedInt248Type:Ng,UnsignedInt5999Type:Wq,UnsignedIntType:Fg,UnsignedShort4444Type:o4,UnsignedShort5551Type:a4,UnsignedShortType:QS,VSMShadowMap:Wl,Vector2:it,Vector3:ce,Vector4:Yn,VectorKeyframeTrack:Gg,VideoTexture:vve,WebGL3DRenderTarget:sfe,WebGLArrayRenderTarget:rfe,WebGLCoordinateSystem:Yc,WebGLCubeRenderTarget:S4,WebGLMultipleRenderTargets:qye,WebGLRenderTarget:ac,WebGLRenderer:B$,WebGLUtils:R$,WebGPUCoordinateSystem:nw,WireframeGeometry:q$,WrapAroundEnding:qS,ZeroCurvatureEnding:Wm,ZeroFactor:pq,ZeroSlopeEnding:Xm,ZeroStencilOp:mde,createCanvasElement:p$},Symbol.toStringTag,{value:"Module"}));var MZ={exports:{}},h0={};/**
* @license React
* react-reconciler-constants.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/h0.ConcurrentRoot=1;h0.ContinuousEventPriority=4;h0.DefaultEventPriority=16;h0.DiscreteEventPriority=1;h0.IdleEventPriority=536870912;h0.LegacyRoot=0;MZ.exports=h0;var Cy=MZ.exports;function Zye(n){let e;const t=new Set,i=(a,l)=>{const c=typeof a=="function"?a(e):a;if(c!==e){const h=e;e=l?c:Object.assign({},e,c),t.forEach(d=>d(e,h))}},r=()=>e,s=(a,l=r,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=l(e);function d(){const p=l(e);if(!c(h,p)){const m=h;a(h=p,m)}}return t.add(d),()=>t.delete(d)},o={setState:i,getState:r,subscribe:(a,l,c)=>l||c?s(a,l,c):(t.add(a),()=>t.delete(a)),destroy:()=>t.clear()};return e=n(i,r,o),o}const exe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),x8=exe?ue.useEffect:ue.useLayoutEffect;function bZ(n){const e=typeof n=="function"?Zye(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=ue.useReducer(y=>y+1,0),o=e.getState(),a=ue.useRef(o),l=ue.useRef(i),c=ue.useRef(r),h=ue.useRef(!1),d=ue.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),x8(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,h.current=!1});const v=ue.useRef(o);x8(()=>{const y=()=>{try{const S=e.getState(),w=l.current(S);c.current(d.current,w)||(a.current=S,d.current=w,s())}catch{h.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:d.current;return ue.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var EZ={exports:{}},_8={exports:{}},A8={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var S8;function txe(){return S8||(S8=1,function(n){function e(D,z){var H=D.length;D.push(z);e:for(;0<H;){var ee=H-1>>>1,pe=D[ee];if(0<r(pe,z))D[ee]=z,D[H]=pe,H=ee;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var ee=0,pe=D.length,ke=pe>>>1;ee<ke;){var ne=2*(ee+1)-1,ve=D[ne],be=ne+1,xe=D[be];if(0>r(ve,H))be<pe&&0>r(xe,ve)?(D[ee]=xe,D[be]=H,ee=be):(D[ee]=ve,D[ne]=H,ee=ne);else if(be<pe&&0>r(xe,H))D[ee]=xe,D[be]=H,ee=be;else break e}}return z}function r(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=D)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function b(D){if(x=!1,w(D),!v)if(t(l)!==null)v=!0,Y(P);else{var z=t(c);z!==null&&ie(b,z.startTime-D)}}function P(D,z){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var H=p;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var pe=ee(d.expirationTime<=z);z=n.unstable_now(),typeof pe=="function"?d.callback=pe:d===t(l)&&i(l),w(z)}else i(l);d=t(l)}if(d!==null)var ke=!0;else{var ne=t(c);ne!==null&&ie(b,ne.startTime-z),ke=!1}return ke}finally{d=null,p=H,m=!1}}var T=!1,B=null,I=-1,R=5,C=-1;function N(){return!(n.unstable_now()-C<R)}function j(){if(B!==null){var D=n.unstable_now();C=D;var z=!0;try{z=B(!0,D)}finally{z?W():(T=!1,B=null)}}else T=!1}var W;if(typeof S=="function")W=function(){S(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){y(j,0)};function Y(D){B=D,T||(T=!0,W())}function ie(D,z){I=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Y(P))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var H=p;p=z;try{return D()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return z()}finally{p=H}},n.unstable_scheduleCallback=function(D,z,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:h++,callback:z,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ee?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(x?(g(I),I=-1):x=!0,ie(b,H-ee))):(D.sortIndex=pe,e(l,D),v||m||(v=!0,Y(P))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var z=p;return function(){var H=p;p=z;try{return D.apply(this,arguments)}finally{p=H}}}}(A8)),A8}var w8;function nxe(){return w8||(w8=1,_8.exports=txe()),_8.exports}/**
* @license React
* react-reconciler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ixe=function(n){var e={},t=ue,i=nxe(),r=Object.assign;function s(_){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+_,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+_+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b=Symbol.iterator;function P(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}function T(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case c:return"Fragment";case l:return"Portal";case d:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case y:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case m:return(_.displayName||"Context")+".Consumer";case p:return(_._context.displayName||"Context")+".Provider";case v:var u=_.render;return _=_.displayName,_||(_=u.displayName||u.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case g:return u=_.displayName||null,u!==null?u:T(_.type)||"Memo";case S:u=_._payload,_=_._init;try{return T(_(u))}catch{}}return null}function B(_){var u=_.type;switch(_.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=u.render,_=_.displayName||_.name||"",u.displayName||(_!==""?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(u);case 8:return u===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function I(_){var u=_,f=_;if(_.alternate)for(;u.return;)u=u.return;else{_=u;do u=_,u.flags&4098&&(f=u.return),_=u.return;while(_)}return u.tag===3?f:null}function R(_){if(I(_)!==_)throw Error(s(188))}function C(_){var u=_.alternate;if(!u){if(u=I(_),u===null)throw Error(s(188));return u!==_?null:_}for(var f=_,A=u;;){var M=f.return;if(M===null)break;var E=M.alternate;if(E===null){if(A=M.return,A!==null){f=A;continue}break}if(M.child===E.child){for(E=M.child;E;){if(E===f)return R(M),_;if(E===A)return R(M),u;E=E.sibling}throw Error(s(188))}if(f.return!==A.return)f=M,A=E;else{for(var L=!1,V=M.child;V;){if(V===f){L=!0,f=M,A=E;break}if(V===A){L=!0,A=M,f=E;break}V=V.sibling}if(!L){for(V=E.child;V;){if(V===f){L=!0,f=E,A=M;break}if(V===A){L=!0,A=E,f=M;break}V=V.sibling}if(!L)throw Error(s(189))}}if(f.alternate!==A)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?_:u}function N(_){return _=C(_),_!==null?j(_):null}function j(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){var u=j(_);if(u!==null)return u;_=_.sibling}return null}function W(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){if(_.tag!==4){var u=W(_);if(u!==null)return u}_=_.sibling}return null}var X=Array.isArray,Q=n.getPublicInstance,Y=n.getRootHostContext,ie=n.getChildHostContext,D=n.prepareForCommit,z=n.resetAfterCommit,H=n.createInstance,ee=n.appendInitialChild,pe=n.finalizeInitialChildren,ke=n.prepareUpdate,ne=n.shouldSetTextContent,ve=n.createTextInstance,be=n.scheduleTimeout,xe=n.cancelTimeout,st=n.noTimeout,Ke=n.isPrimaryRenderer,Ge=n.supportsMutation,U=n.supportsPersistence,fe=n.supportsHydration,me=n.getInstanceFromNode,Ce=n.preparePortalMount,_e=n.getCurrentEventPriority,Ne=n.detachDeletedInstance,Oe=n.supportsMicrotasks,Re=n.scheduleMicrotask,at=n.supportsTestSelectors,k=n.findFiberRoot,F=n.getBoundingRect,se=n.getTextContent,ge=n.isHiddenSubtree,Ae=n.matchAccessibilityRole,Se=n.setFocusIfFocusable,qe=n.setupIntersectionObserver,Ie=n.appendChild,ze=n.appendChildToContainer,ct=n.commitTextUpdate,Te=n.commitMount,$e=n.commitUpdate,ht=n.insertBefore,Ye=n.insertInContainerBefore,te=n.removeChild,$=n.removeChildFromContainer,Me=n.resetTextContent,Qe=n.hideInstance,G=n.hideTextInstance,De=n.unhideInstance,de=n.unhideTextInstance,ye=n.clearContainer,Le=n.cloneInstance,Xe=n.createContainerChildSet,dt=n.appendChildToContainerChildSet,Ve=n.finalizeContainerChildren,rt=n.replaceContainerChildren,pt=n.cloneHiddenInstance,$t=n.cloneHiddenTextInstance,Ue=n.canHydrateInstance,ot=n.canHydrateTextInstance,gt=n.canHydrateSuspenseInstance,nn=n.isSuspenseInstancePending,on=n.isSuspenseInstanceFallback,_n=n.registerSuspenseInstanceRetry,En=n.getNextHydratableSibling,Zt=n.getFirstHydratableChild,Bn=n.getFirstHydratableChildWithinContainer,Gt=n.getFirstHydratableChildWithinSuspenseInstance,xr=n.hydrateInstance,El=n.hydrateTextInstance,Oo=n.hydrateSuspenseInstance,O=n.getNextHydratableInstanceAfterSuspenseInstance,J=n.commitHydratedContainer,ae=n.commitHydratedSuspenseInstance,q=n.clearSuspenseBoundary,K=n.clearSuspenseBoundaryFromContainer,Fe=n.shouldDeleteUnhydratedTailInstances,Je=n.didNotMatchHydratedContainerTextInstance,Ze=n.didNotMatchHydratedTextInstance,et;function ft(_){if(et===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);et=u&&u[1]||""}return`
`+et+_}var vt=!1;function ut(_,u){if(!_||vt)return"";vt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(we){var A=we}Reflect.construct(_,[],u)}else{try{u.call()}catch(we){A=we}_.call(u.prototype)}else{try{throw Error()}catch(we){A=we}_()}}catch(we){if(we&&A&&typeof we.stack=="string"){for(var M=we.stack.split(`
`),E=A.stack.split(`
`),L=M.length-1,V=E.length-1;1<=L&&0<=V&&M[L]!==E[V];)V--;for(;1<=L&&0<=V;L--,V--)if(M[L]!==E[V]){if(L!==1||V!==1)do if(L--,V--,0>V||M[L]!==E[V]){var re=`
`+M[L].replace(" at new "," at ");return _.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",_.displayName)),re}while(1<=L&&0<=V);break}}}finally{vt=!1,Error.prepareStackTrace=f}return(_=_?_.displayName||_.name:"")?ft(_):""}var Lt=Object.prototype.hasOwnProperty,en=[],Xt=-1;function tn(_){return{current:_}}function At(_){0>Xt||(_.current=en[Xt],en[Xt]=null,Xt--)}function je(_,u){Xt++,en[Xt]=_.current,_.current=u}var Nt={},zt=tn(Nt),Jt=tn(!1),kn=Nt;function Vn(_,u){var f=_.type.contextTypes;if(!f)return Nt;var A=_.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===u)return A.__reactInternalMemoizedMaskedChildContext;var M={},E;for(E in f)M[E]=u[E];return A&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=u,_.__reactInternalMemoizedMaskedChildContext=M),M}function Wn(_){return _=_.childContextTypes,_!=null}function Vt(){At(Jt),At(zt)}function hi(_,u,f){if(zt.current!==Nt)throw Error(s(168));je(zt,u),je(Jt,f)}function Uo(_,u,f){var A=_.stateNode;if(u=u.childContextTypes,typeof A.getChildContext!="function")return f;A=A.getChildContext();for(var M in A)if(!(M in u))throw Error(s(108,B(_)||"Unknown",M));return r({},f,A)}function Nn(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||Nt,kn=zt.current,je(zt,_),je(Jt,Jt.current),!0}function $s(_,u,f){var A=_.stateNode;if(!A)throw Error(s(169));f?(_=Uo(_,u,kn),A.__reactInternalMemoizedMergedChildContext=_,At(Jt),At(zt),je(zt,_)):At(Jt),je(Jt,f)}var Nr=Math.clz32?Math.clz32:JB,_r=Math.log,XB=Math.LN2;function JB(_){return _>>>=0,_===0?32:31-(_r(_)/XB|0)|0}var A0=64,_u=4194304;function _c(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function Ac(_,u){var f=_.pendingLanes;if(f===0)return 0;var A=0,M=_.suspendedLanes,E=_.pingedLanes,L=f&268435455;if(L!==0){var V=L&~M;V!==0?A=_c(V):(E&=L,E!==0&&(A=_c(E)))}else L=f&~M,L!==0?A=_c(L):E!==0&&(A=_c(E));if(A===0)return 0;if(u!==0&&u!==A&&!(u&M)&&(M=A&-A,E=u&-u,M>=E||M===16&&(E&4194240)!==0))return u;if(A&4&&(A|=f&16),u=_.entangledLanes,u!==0)for(_=_.entanglements,u&=A;0<u;)f=31-Nr(u),M=1<<f,A|=_[f],u&=~M;return A}function S0(_,u){switch(_){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KB(_,u){for(var f=_.suspendedLanes,A=_.pingedLanes,M=_.expirationTimes,E=_.pendingLanes;0<E;){var L=31-Nr(E),V=1<<L,re=M[L];re===-1?(!(V&f)||V&A)&&(M[L]=S0(V,u)):re<=u&&(_.expiredLanes|=V),E&=~V}}function L1(_){return _=_.pendingLanes&-1073741825,_!==0?_:_&1073741824?1073741824:0}function pp(_){for(var u=[],f=0;31>f;f++)u.push(_);return u}function Au(_,u,f){_.pendingLanes|=u,u!==536870912&&(_.suspendedLanes=0,_.pingedLanes=0),_=_.eventTimes,u=31-Nr(u),_[u]=f}function mp(_,u){var f=_.pendingLanes&~u;_.pendingLanes=u,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=u,_.mutableReadLanes&=u,_.entangledLanes&=u,u=_.entanglements;var A=_.eventTimes;for(_=_.expirationTimes;0<f;){var M=31-Nr(f),E=1<<M;u[M]=0,A[M]=-1,_[M]=-1,f&=~E}}function D1(_,u){var f=_.entangledLanes|=u;for(_=_.entanglements;f;){var A=31-Nr(f),M=1<<A;M&u|_[A]&u&&(_[A]|=u),f&=~M}}var bn=0;function Cn(_){return _&=-_,1<_?4<_?_&268435455?16:536870912:4:1}var w0=i.unstable_scheduleCallback,M0=i.unstable_cancelCallback,ob=i.unstable_shouldYield,YB=i.unstable_requestPaint,sr=i.unstable_now,zi=i.unstable_ImmediatePriority,F1=i.unstable_UserBlockingPriority,N1=i.unstable_NormalPriority,O1=i.unstable_IdlePriority,b0=null,Zs=null;function La(_){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(b0,_,void 0,(_.current.flags&128)===128)}catch{}}function QB(_,u){return _===u&&(_!==0||1/_===1/u)||_!==_&&u!==u}var Da=typeof Object.is=="function"?Object.is:QB,or=null,Ao=!1,ad=!1;function E0(_){or===null?or=[_]:or.push(_)}function ab(_){Ao=!0,E0(_)}function Fa(){if(!ad&&or!==null){ad=!0;var _=0,u=bn;try{var f=or;for(bn=1;_<f.length;_++){var A=f[_];do A=A(!0);while(A!==null)}or=null,Ao=!1}catch(M){throw or!==null&&(or=or.slice(_+1)),w0(zi,Fa),M}finally{bn=u,ad=!1}}return null}var Na=o.ReactCurrentBatchConfig;function C0(_,u){if(Da(_,u))return!0;if(typeof _!="object"||_===null||typeof u!="object"||u===null)return!1;var f=Object.keys(_),A=Object.keys(u);if(f.length!==A.length)return!1;for(A=0;A<f.length;A++){var M=f[A];if(!Lt.call(u,M)||!Da(_[M],u[M]))return!1}return!0}function T0(_){switch(_.tag){case 5:return ft(_.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return _=ut(_.type,!1),_;case 11:return _=ut(_.type.render,!1),_;case 1:return _=ut(_.type,!0),_;default:return""}}function ko(_,u){if(_&&_.defaultProps){u=r({},u),_=_.defaultProps;for(var f in _)u[f]===void 0&&(u[f]=_[f]);return u}return u}var As=tn(null),Su=null,Cl=null,Sc=null;function gp(){Sc=Cl=Su=null}function R0(_,u,f){Ke?(je(As,u._currentValue),u._currentValue=f):(je(As,u._currentValue2),u._currentValue2=f)}function P0(_){var u=As.current;At(As),Ke?_._currentValue=u:_._currentValue2=u}function vp(_,u,f){for(;_!==null;){var A=_.alternate;if((_.childLanes&u)!==u?(_.childLanes|=u,A!==null&&(A.childLanes|=u)):A!==null&&(A.childLanes&u)!==u&&(A.childLanes|=u),_===f)break;_=_.return}}function wc(_,u){Su=_,Sc=Cl=null,_=_.dependencies,_!==null&&_.firstContext!==null&&(_.lanes&u&&(eo=!0),_.firstContext=null)}function Ar(_){var u=Ke?_._currentValue:_._currentValue2;if(Sc!==_)if(_={context:_,memoizedValue:u,next:null},Cl===null){if(Su===null)throw Error(s(308));Cl=_,Su.dependencies={lanes:0,firstContext:_}}else Cl=Cl.next=_;return u}var Ti=null,Sr=!1;function Oa(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B0(_,u){_=_.updateQueue,u.updateQueue===_&&(u.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function Ua(_,u){return{eventTime:_,lane:u,tag:0,payload:null,callback:null,next:null}}function Or(_,u){var f=_.updateQueue;f!==null&&(f=f.shared,Ht!==null&&_.mode&1&&!(kt&2)?(_=f.interleaved,_===null?(u.next=u,Ti===null?Ti=[f]:Ti.push(f)):(u.next=_.next,_.next=u),f.interleaved=u):(_=f.pending,_===null?u.next=u:(u.next=_.next,_.next=u),f.pending=u))}function zo(_,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var A=u.lanes;A&=_.pendingLanes,f|=A,u.lanes=f,D1(_,f)}}function yp(_,u){var f=_.updateQueue,A=_.alternate;if(A!==null&&(A=A.updateQueue,f===A)){var M=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?M=E=L:E=E.next=L,f=f.next}while(f!==null);E===null?M=E=u:E=E.next=u}else M=E=u;f={baseState:A.baseState,firstBaseUpdate:M,lastBaseUpdate:E,shared:A.shared,effects:A.effects},_.updateQueue=f;return}_=f.lastBaseUpdate,_===null?f.firstBaseUpdate=u:_.next=u,f.lastBaseUpdate=u}function xp(_,u,f,A){var M=_.updateQueue;Sr=!1;var E=M.firstBaseUpdate,L=M.lastBaseUpdate,V=M.shared.pending;if(V!==null){M.shared.pending=null;var re=V,we=re.next;re.next=null,L===null?E=we:L.next=we,L=re;var We=_.alternate;We!==null&&(We=We.updateQueue,V=We.lastBaseUpdate,V!==L&&(V===null?We.firstBaseUpdate=we:V.next=we,We.lastBaseUpdate=re))}if(E!==null){var lt=M.baseState;L=0,We=we=re=null,V=E;do{var yt=V.lane,Mt=V.eventTime;if((A&yt)===yt){We!==null&&(We=We.next={eventTime:Mt,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var St=_,It=V;switch(yt=u,Mt=f,It.tag){case 1:if(St=It.payload,typeof St=="function"){lt=St.call(Mt,lt,yt);break e}lt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=It.payload,yt=typeof St=="function"?St.call(Mt,lt,yt):St,yt==null)break e;lt=r({},lt,yt);break e;case 2:Sr=!0}}V.callback!==null&&V.lane!==0&&(_.flags|=64,yt=M.effects,yt===null?M.effects=[V]:yt.push(V))}else Mt={eventTime:Mt,lane:yt,tag:V.tag,payload:V.payload,callback:V.callback,next:null},We===null?(we=We=Mt,re=lt):We=We.next=Mt,L|=yt;if(V=V.next,V===null){if(V=M.shared.pending,V===null)break;yt=V,V=yt.next,yt.next=null,M.lastBaseUpdate=yt,M.shared.pending=null}}while(!0);if(We===null&&(re=lt),M.baseState=re,M.firstBaseUpdate=we,M.lastBaseUpdate=We,u=M.shared.interleaved,u!==null){M=u;do L|=M.lane,M=M.next;while(M!==u)}else E===null&&(M.shared.lanes=0);ja|=L,_.lanes=L,_.memoizedState=lt}}function _p(_,u,f){if(_=u.effects,u.effects=null,_!==null)for(u=0;u<_.length;u++){var A=_[u],M=A.callback;if(M!==null){if(A.callback=null,A=f,typeof M!="function")throw Error(s(191,M));M.call(A)}}}var U1=new t.Component().refs;function I0(_,u,f,A){u=_.memoizedState,f=f(A,u),f=f==null?u:r({},u,f),_.memoizedState=f,_.lanes===0&&(_.updateQueue.baseState=f)}var ld={isMounted:function(_){return(_=_._reactInternals)?I(_)===_:!1},enqueueSetState:function(_,u,f){_=_._reactInternals;var A=dr(),M=wi(_),E=Ua(A,M);E.payload=u,f!=null&&(E.callback=f),Or(_,E),u=$i(_,M,A),u!==null&&zo(u,_,M)},enqueueReplaceState:function(_,u,f){_=_._reactInternals;var A=dr(),M=wi(_),E=Ua(A,M);E.tag=1,E.payload=u,f!=null&&(E.callback=f),Or(_,E),u=$i(_,M,A),u!==null&&zo(u,_,M)},enqueueForceUpdate:function(_,u){_=_._reactInternals;var f=dr(),A=wi(_),M=Ua(f,A);M.tag=2,u!=null&&(M.callback=u),Or(_,M),u=$i(_,A,f),u!==null&&zo(u,_,A)}};function Ap(_,u,f,A,M,E,L){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(A,E,L):u.prototype&&u.prototype.isPureReactComponent?!C0(f,A)||!C0(M,E):!0}function k1(_,u,f){var A=!1,M=Nt,E=u.contextType;return typeof E=="object"&&E!==null?E=Ar(E):(M=Wn(u)?kn:zt.current,A=u.contextTypes,E=(A=A!=null)?Vn(_,M):Nt),u=new u(f,E),_.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ld,_.stateNode=u,u._reactInternals=_,A&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=M,_.__reactInternalMemoizedMaskedChildContext=E),u}function z1(_,u,f,A){_=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,A),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,A),u.state!==_&&ld.enqueueReplaceState(u,u.state,null)}function L0(_,u,f,A){var M=_.stateNode;M.props=f,M.state=_.memoizedState,M.refs=U1,Oa(_);var E=u.contextType;typeof E=="object"&&E!==null?M.context=Ar(E):(E=Wn(u)?kn:zt.current,M.context=Vn(_,E)),M.state=_.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(I0(_,u,E,f),M.state=_.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(u=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),u!==M.state&&ld.enqueueReplaceState(M,M.state,null),xp(_,f,M,A),M.state=_.memoizedState),typeof M.componentDidMount=="function"&&(_.flags|=4194308)}var Mc=[],Ho=0,Tl=null,wu=0,Zr=[],di=0,ar=null,es=1,wr="";function ts(_,u){Mc[Ho++]=wu,Mc[Ho++]=Tl,Tl=_,wu=u}function bc(_,u,f){Zr[di++]=es,Zr[di++]=wr,Zr[di++]=ar,ar=_;var A=es;_=wr;var M=32-Nr(A)-1;A&=~(1<<M),f+=1;var E=32-Nr(u)+M;if(30<E){var L=M-M%5;E=(A&(1<<L)-1).toString(32),A>>=L,M-=L,es=1<<32-Nr(u)+M|f<<M|A,wr=E+_}else es=1<<E|f<<M|A,wr=_}function D0(_){_.return!==null&&(ts(_,1),bc(_,1,0))}function Sp(_){for(;_===Tl;)Tl=Mc[--Ho],Mc[Ho]=null,wu=Mc[--Ho],Mc[Ho]=null;for(;_===ar;)ar=Zr[--di],Zr[di]=null,wr=Zr[--di],Zr[di]=null,es=Zr[--di],Zr[di]=null}var ns=null,ni=null,yn=!1,jn=!1,is=null;function So(_,u){var f=Mo(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=_,u=_.deletions,u===null?(_.deletions=[f],_.flags|=16):u.push(f)}function H1(_,u){switch(_.tag){case 5:return u=Ue(u,_.type,_.pendingProps),u!==null?(_.stateNode=u,ns=_,ni=Zt(u),!0):!1;case 6:return u=ot(u,_.pendingProps),u!==null?(_.stateNode=u,ns=_,ni=null,!0):!1;case 13:if(u=gt(u),u!==null){var f=ar!==null?{id:es,overflow:wr}:null;return _.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Mo(18,null,null,0),f.stateNode=u,f.return=_,_.child=f,ns=_,ni=null,!0}return!1;default:return!1}}function F0(_){return(_.mode&1)!==0&&(_.flags&128)===0}function wp(_){if(yn){var u=ni;if(u){var f=u;if(!H1(_,u)){if(F0(_))throw Error(s(418));u=En(f);var A=ns;u&&H1(_,u)?So(A,f):(_.flags=_.flags&-4097|2,yn=!1,ns=_)}}else{if(F0(_))throw Error(s(418));_.flags=_.flags&-4097|2,yn=!1,ns=_}}}function N0(_){for(_=_.return;_!==null&&_.tag!==5&&_.tag!==3&&_.tag!==13;)_=_.return;ns=_}function cd(_){if(!fe||_!==ns)return!1;if(!yn)return N0(_),yn=!0,!1;if(_.tag!==3&&(_.tag!==5||Fe(_.type)&&!ne(_.type,_.memoizedProps))){var u=ni;if(u){if(F0(_)){for(_=ni;_;)_=En(_);throw Error(s(418))}for(;u;)So(_,u),u=En(u)}}if(N0(_),_.tag===13){if(!fe)throw Error(s(316));if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));ni=O(_)}else ni=ns?En(_.stateNode):null;return!0}function ka(){fe&&(ni=ns=null,jn=yn=!1)}function Ec(_){is===null?is=[_]:is.push(_)}function Mu(_,u,f){if(_=f.ref,_!==null&&typeof _!="function"&&typeof _!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(s(309));var A=f.stateNode}if(!A)throw Error(s(147,_));var M=A,E=""+_;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(L){var V=M.refs;V===U1&&(V=M.refs={}),L===null?delete V[E]:V[E]=L},u._stringRef=E,u)}if(typeof _!="string")throw Error(s(284));if(!f._owner)throw Error(s(290,_))}return _}function Cc(_,u){throw _=Object.prototype.toString.call(u),Error(s(31,_==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":_))}function Mp(_){var u=_._init;return u(_._payload)}function G1(_){function u(He,Z){if(_){var oe=He.deletions;oe===null?(He.deletions=[Z],He.flags|=16):oe.push(Z)}}function f(He,Z){if(!_)return null;for(;Z!==null;)u(He,Z),Z=Z.sibling;return null}function A(He,Z){for(He=new Map;Z!==null;)Z.key!==null?He.set(Z.key,Z):He.set(Z.index,Z),Z=Z.sibling;return He}function M(He,Z){return He=Uc(He,Z),He.index=0,He.sibling=null,He}function E(He,Z,oe){return He.index=oe,_?(oe=He.alternate,oe!==null?(oe=oe.index,oe<Z?(He.flags|=2,Z):oe):(He.flags|=2,Z)):(He.flags|=1048576,Z)}function L(He){return _&&He.alternate===null&&(He.flags|=2),He}function V(He,Z,oe,Ee){return Z===null||Z.tag!==6?(Z=Md(oe,He.mode,Ee),Z.return=He,Z):(Z=M(Z,oe),Z.return=He,Z)}function re(He,Z,oe,Ee){var tt=oe.type;return tt===c?We(He,Z,oe.props.children,Ee,oe.key):Z!==null&&(Z.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===S&&Mp(tt)===Z.type)?(Ee=M(Z,oe.props),Ee.ref=Mu(He,Z,oe),Ee.return=He,Ee):(Ee=Yo(oe.type,oe.key,oe.props,null,He.mode,Ee),Ee.ref=Mu(He,Z,oe),Ee.return=He,Ee)}function we(He,Z,oe,Ee){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=Wp(oe,He.mode,Ee),Z.return=He,Z):(Z=M(Z,oe.children||[]),Z.return=He,Z)}function We(He,Z,oe,Ee,tt){return Z===null||Z.tag!==7?(Z=Xa(oe,He.mode,Ee,tt),Z.return=He,Z):(Z=M(Z,oe),Z.return=He,Z)}function lt(He,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Md(""+Z,He.mode,oe),Z.return=He,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case a:return oe=Yo(Z.type,Z.key,Z.props,null,He.mode,oe),oe.ref=Mu(He,null,Z),oe.return=He,oe;case l:return Z=Wp(Z,He.mode,oe),Z.return=He,Z;case S:var Ee=Z._init;return lt(He,Ee(Z._payload),oe)}if(X(Z)||P(Z))return Z=Xa(Z,He.mode,oe,null),Z.return=He,Z;Cc(He,Z)}return null}function yt(He,Z,oe,Ee){var tt=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return tt!==null?null:V(He,Z,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:return oe.key===tt?re(He,Z,oe,Ee):null;case l:return oe.key===tt?we(He,Z,oe,Ee):null;case S:return tt=oe._init,yt(He,Z,tt(oe._payload),Ee)}if(X(oe)||P(oe))return tt!==null?null:We(He,Z,oe,Ee,null);Cc(He,oe)}return null}function Mt(He,Z,oe,Ee,tt){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return He=He.get(oe)||null,V(Z,He,""+Ee,tt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case a:return He=He.get(Ee.key===null?oe:Ee.key)||null,re(Z,He,Ee,tt);case l:return He=He.get(Ee.key===null?oe:Ee.key)||null,we(Z,He,Ee,tt);case S:var mt=Ee._init;return Mt(He,Z,oe,mt(Ee._payload),tt)}if(X(Ee)||P(Ee))return He=He.get(oe)||null,We(Z,He,Ee,tt,null);Cc(Z,Ee)}return null}function St(He,Z,oe,Ee){for(var tt=null,mt=null,wt=Z,Rt=Z=0,Kt=null;wt!==null&&Rt<oe.length;Rt++){wt.index>Rt?(Kt=wt,wt=null):Kt=wt.sibling;var Yt=yt(He,wt,oe[Rt],Ee);if(Yt===null){wt===null&&(wt=Kt);break}_&&wt&&Yt.alternate===null&&u(He,wt),Z=E(Yt,Z,Rt),mt===null?tt=Yt:mt.sibling=Yt,mt=Yt,wt=Kt}if(Rt===oe.length)return f(He,wt),yn&&ts(He,Rt),tt;if(wt===null){for(;Rt<oe.length;Rt++)wt=lt(He,oe[Rt],Ee),wt!==null&&(Z=E(wt,Z,Rt),mt===null?tt=wt:mt.sibling=wt,mt=wt);return yn&&ts(He,Rt),tt}for(wt=A(He,wt);Rt<oe.length;Rt++)Kt=Mt(wt,He,Rt,oe[Rt],Ee),Kt!==null&&(_&&Kt.alternate!==null&&wt.delete(Kt.key===null?Rt:Kt.key),Z=E(Kt,Z,Rt),mt===null?tt=Kt:mt.sibling=Kt,mt=Kt);return _&&wt.forEach(function(pn){return u(He,pn)}),yn&&ts(He,Rt),tt}function It(He,Z,oe,Ee){var tt=P(oe);if(typeof tt!="function")throw Error(s(150));if(oe=tt.call(oe),oe==null)throw Error(s(151));for(var mt=tt=null,wt=Z,Rt=Z=0,Kt=null,Yt=oe.next();wt!==null&&!Yt.done;Rt++,Yt=oe.next()){wt.index>Rt?(Kt=wt,wt=null):Kt=wt.sibling;var pn=yt(He,wt,Yt.value,Ee);if(pn===null){wt===null&&(wt=Kt);break}_&&wt&&pn.alternate===null&&u(He,wt),Z=E(pn,Z,Rt),mt===null?tt=pn:mt.sibling=pn,mt=pn,wt=Kt}if(Yt.done)return f(He,wt),yn&&ts(He,Rt),tt;if(wt===null){for(;!Yt.done;Rt++,Yt=oe.next())Yt=lt(He,Yt.value,Ee),Yt!==null&&(Z=E(Yt,Z,Rt),mt===null?tt=Yt:mt.sibling=Yt,mt=Yt);return yn&&ts(He,Rt),tt}for(wt=A(He,wt);!Yt.done;Rt++,Yt=oe.next())Yt=Mt(wt,He,Rt,Yt.value,Ee),Yt!==null&&(_&&Yt.alternate!==null&&wt.delete(Yt.key===null?Rt:Yt.key),Z=E(Yt,Z,Rt),mt===null?tt=Yt:mt.sibling=Yt,mt=Yt);return _&&wt.forEach(function(kc){return u(He,kc)}),yn&&ts(He,Rt),tt}function Kn(He,Z,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===c&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:e:{for(var tt=oe.key,mt=Z;mt!==null;){if(mt.key===tt){if(tt=oe.type,tt===c){if(mt.tag===7){f(He,mt.sibling),Z=M(mt,oe.props.children),Z.return=He,He=Z;break e}}else if(mt.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===S&&Mp(tt)===mt.type){f(He,mt.sibling),Z=M(mt,oe.props),Z.ref=Mu(He,mt,oe),Z.return=He,He=Z;break e}f(He,mt);break}else u(He,mt);mt=mt.sibling}oe.type===c?(Z=Xa(oe.props.children,He.mode,Ee,oe.key),Z.return=He,He=Z):(Ee=Yo(oe.type,oe.key,oe.props,null,He.mode,Ee),Ee.ref=Mu(He,Z,oe),Ee.return=He,He=Ee)}return L(He);case l:e:{for(mt=oe.key;Z!==null;){if(Z.key===mt)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){f(He,Z.sibling),Z=M(Z,oe.children||[]),Z.return=He,He=Z;break e}else{f(He,Z);break}else u(He,Z);Z=Z.sibling}Z=Wp(oe,He.mode,Ee),Z.return=He,He=Z}return L(He);case S:return mt=oe._init,Kn(He,Z,mt(oe._payload),Ee)}if(X(oe))return St(He,Z,oe,Ee);if(P(oe))return It(He,Z,oe,Ee);Cc(He,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Z!==null&&Z.tag===6?(f(He,Z.sibling),Z=M(Z,oe),Z.return=He,He=Z):(f(He,Z),Z=Md(oe,He.mode,Ee),Z.return=He,He=Z),L(He)):f(He,Z)}return Kn}var bu=G1(!0),Eu=G1(!1),ud={},Ur=tn(ud),kr=tn(ud),za=tn(ud);function rs(_){if(_===ud)throw Error(s(174));return _}function wo(_,u){je(za,u),je(kr,_),je(Ur,ud),_=Y(u),At(Ur),je(Ur,_)}function Tc(){At(Ur),At(kr),At(za)}function Cu(_){var u=rs(za.current),f=rs(Ur.current);u=ie(f,_.type,u),f!==u&&(je(kr,_),je(Ur,u))}function O0(_){kr.current===_&&(At(Ur),At(kr))}var ii=tn(0);function Zn(_){for(var u=_;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||nn(f)||on(f)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===_)break;for(;u.sibling===null;){if(u.return===null||u.return===_)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var hd=[];function bp(){for(var _=0;_<hd.length;_++){var u=hd[_];Ke?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}hd.length=0}var dd=o.ReactCurrentDispatcher,ss=o.ReactCurrentBatchConfig,Mr=0,Xn=null,vn=null,Tn=null,Ri=!1,Rc=!1,Rl=0,Ep=0;function zr(){throw Error(s(321))}function lr(_,u){if(u===null)return!1;for(var f=0;f<u.length&&f<_.length;f++)if(!Da(_[f],u[f]))return!1;return!0}function Cp(_,u,f,A,M,E){if(Mr=E,Xn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,dd.current=_===null||_.memoizedState===null?H0:$B,_=f(A,M),Rc){E=0;do{if(Rc=!1,Rl=0,25<=E)throw Error(s(301));E+=1,Tn=vn=null,u.updateQueue=null,dd.current=ZB,_=f(A,M)}while(Rc)}if(dd.current=Bp,u=vn!==null&&vn.next!==null,Mr=0,Tn=vn=Xn=null,Ri=!1,u)throw Error(s(300));return _}function Tp(){var _=Rl!==0;return Rl=0,_}function Go(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Xn.memoizedState=Tn=_:Tn=Tn.next=_,Tn}function cr(){if(vn===null){var _=Xn.alternate;_=_!==null?_.memoizedState:null}else _=vn.next;var u=Tn===null?Xn.memoizedState:Tn.next;if(u!==null)Tn=u,vn=_;else{if(_===null)throw Error(s(310));vn=_,_={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Tn===null?Xn.memoizedState=Tn=_:Tn=Tn.next=_}return Tn}function Hr(_,u){return typeof u=="function"?u(_):u}function Ha(_){var u=cr(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=_;var A=vn,M=A.baseQueue,E=f.pending;if(E!==null){if(M!==null){var L=M.next;M.next=E.next,E.next=L}A.baseQueue=M=E,f.pending=null}if(M!==null){E=M.next,A=A.baseState;var V=L=null,re=null,we=E;do{var We=we.lane;if((Mr&We)===We)re!==null&&(re=re.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),A=we.hasEagerState?we.eagerState:_(A,we.action);else{var lt={lane:We,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};re===null?(V=re=lt,L=A):re=re.next=lt,Xn.lanes|=We,ja|=We}we=we.next}while(we!==null&&we!==E);re===null?L=A:re.next=V,Da(A,u.memoizedState)||(eo=!0),u.memoizedState=A,u.baseState=L,u.baseQueue=re,f.lastRenderedState=A}if(_=f.interleaved,_!==null){M=_;do E=M.lane,Xn.lanes|=E,ja|=E,M=M.next;while(M!==_)}else M===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Tu(_){var u=cr(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=_;var A=f.dispatch,M=f.pending,E=u.memoizedState;if(M!==null){f.pending=null;var L=M=M.next;do E=_(E,L.action),L=L.next;while(L!==M);Da(E,u.memoizedState)||(eo=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),f.lastRenderedState=E}return[E,A]}function Rp(){}function V1(_,u){var f=Xn,A=cr(),M=u(),E=!Da(A.memoizedState,M);if(E&&(A.memoizedState=M,eo=!0),A=A.queue,Bu(X1.bind(null,f,A,_),[_]),A.getSnapshot!==u||E||Tn!==null&&Tn.memoizedState.tag&1){if(f.flags|=2048,Ru(9,W1.bind(null,f,A,M,u),void 0,null),Ht===null)throw Error(s(349));Mr&30||j1(f,u,M)}return M}function j1(_,u,f){_.flags|=16384,_={getSnapshot:u,value:f},u=Xn.updateQueue,u===null?(u={lastEffect:null,stores:null},Xn.updateQueue=u,u.stores=[_]):(f=u.stores,f===null?u.stores=[_]:f.push(_))}function W1(_,u,f,A){u.value=f,u.getSnapshot=A,J1(u)&&$i(_,1,-1)}function X1(_,u,f){return f(function(){J1(u)&&$i(_,1,-1)})}function J1(_){var u=_.getSnapshot;_=_.value;try{var f=u();return!Da(_,f)}catch{return!0}}function U0(_){var u=Go();return typeof _=="function"&&(_=_()),u.memoizedState=u.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:_},u.queue=_,_=_.dispatch=qB.bind(null,Xn,_),[u.memoizedState,_]}function Ru(_,u,f,A){return _={tag:_,create:u,destroy:f,deps:A,next:null},u=Xn.updateQueue,u===null?(u={lastEffect:null,stores:null},Xn.updateQueue=u,u.lastEffect=_.next=_):(f=u.lastEffect,f===null?u.lastEffect=_.next=_:(A=f.next,f.next=_,_.next=A,u.lastEffect=_)),_}function fd(){return cr().memoizedState}function Pp(_,u,f,A){var M=Go();Xn.flags|=_,M.memoizedState=Ru(1|u,f,void 0,A===void 0?null:A)}function Pu(_,u,f,A){var M=cr();A=A===void 0?null:A;var E=void 0;if(vn!==null){var L=vn.memoizedState;if(E=L.destroy,A!==null&&lr(A,L.deps)){M.memoizedState=Ru(u,f,E,A);return}}Xn.flags|=_,M.memoizedState=Ru(1|u,f,E,A)}function pd(_,u){return Pp(8390656,8,_,u)}function Bu(_,u){return Pu(2048,8,_,u)}function md(_,u){return Pu(4,2,_,u)}function K1(_,u){return Pu(4,4,_,u)}function Y1(_,u){if(typeof u=="function")return _=_(),u(_),function(){u(null)};if(u!=null)return _=_(),u.current=_,function(){u.current=null}}function Q1(_,u,f){return f=f!=null?f.concat([_]):null,Pu(4,4,Y1.bind(null,u,_),f)}function k0(){}function z0(_,u){var f=cr();u=u===void 0?null:u;var A=f.memoizedState;return A!==null&&u!==null&&lr(u,A[1])?A[0]:(f.memoizedState=[_,u],_)}function q1(_,u){var f=cr();u=u===void 0?null:u;var A=f.memoizedState;return A!==null&&u!==null&&lr(u,A[1])?A[0]:(_=_(),f.memoizedState=[_,u],_)}function lb(_,u){var f=bn;bn=f!==0&&4>f?f:4,_(!0);var A=ss.transition;ss.transition={};try{_(!1),u()}finally{bn=f,ss.transition=A}}function cb(){return cr().memoizedState}function ub(_,u,f){var A=wi(_);f={lane:A,action:f,hasEagerState:!1,eagerState:null,next:null},hb(_)?$1(u,f):(Z1(_,u,f),f=dr(),_=$i(_,A,f),_!==null&&e_(_,u,A))}function qB(_,u,f){var A=wi(_),M={lane:A,action:f,hasEagerState:!1,eagerState:null,next:null};if(hb(_))$1(u,M);else{Z1(_,u,M);var E=_.alternate;if(_.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var L=u.lastRenderedState,V=E(L,f);if(M.hasEagerState=!0,M.eagerState=V,Da(V,L))return}catch{}finally{}f=dr(),_=$i(_,A,f),_!==null&&e_(_,u,A)}}function hb(_){var u=_.alternate;return _===Xn||u!==null&&u===Xn}function $1(_,u){Rc=Ri=!0;var f=_.pending;f===null?u.next=u:(u.next=f.next,f.next=u),_.pending=u}function Z1(_,u,f){Ht!==null&&_.mode&1&&!(kt&2)?(_=u.interleaved,_===null?(f.next=f,Ti===null?Ti=[u]:Ti.push(u)):(f.next=_.next,_.next=f),u.interleaved=f):(_=u.pending,_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f)}function e_(_,u,f){if(f&4194240){var A=u.lanes;A&=_.pendingLanes,f|=A,u.lanes=f,D1(_,f)}}var Bp={readContext:Ar,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},H0={readContext:Ar,useCallback:function(_,u){return Go().memoizedState=[_,u===void 0?null:u],_},useContext:Ar,useEffect:pd,useImperativeHandle:function(_,u,f){return f=f!=null?f.concat([_]):null,Pp(4194308,4,Y1.bind(null,u,_),f)},useLayoutEffect:function(_,u){return Pp(4194308,4,_,u)},useInsertionEffect:function(_,u){return Pp(4,2,_,u)},useMemo:function(_,u){var f=Go();return u=u===void 0?null:u,_=_(),f.memoizedState=[_,u],_},useReducer:function(_,u,f){var A=Go();return u=f!==void 0?f(u):u,A.memoizedState=A.baseState=u,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:u},A.queue=_,_=_.dispatch=ub.bind(null,Xn,_),[A.memoizedState,_]},useRef:function(_){var u=Go();return _={current:_},u.memoizedState=_},useState:U0,useDebugValue:k0,useDeferredValue:function(_){var u=U0(_),f=u[0],A=u[1];return pd(function(){var M=ss.transition;ss.transition={};try{A(_)}finally{ss.transition=M}},[_]),f},useTransition:function(){var _=U0(!1),u=_[0];return _=lb.bind(null,_[1]),Go().memoizedState=_,[u,_]},useMutableSource:function(){},useSyncExternalStore:function(_,u,f){var A=Xn,M=Go();if(yn){if(f===void 0)throw Error(s(407));f=f()}else{if(f=u(),Ht===null)throw Error(s(349));Mr&30||j1(A,u,f)}M.memoizedState=f;var E={value:f,getSnapshot:u};return M.queue=E,pd(X1.bind(null,A,E,_),[_]),A.flags|=2048,Ru(9,W1.bind(null,A,E,f,u),void 0,null),f},useId:function(){var _=Go(),u=Ht.identifierPrefix;if(yn){var f=wr,A=es;f=(A&~(1<<32-Nr(A)-1)).toString(32)+f,u=":"+u+"R"+f,f=Rl++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=Ep++,u=":"+u+"r"+f.toString(32)+":";return _.memoizedState=u},unstable_isNewReconciler:!1},$B={readContext:Ar,useCallback:z0,useContext:Ar,useEffect:Bu,useImperativeHandle:Q1,useInsertionEffect:md,useLayoutEffect:K1,useMemo:q1,useReducer:Ha,useRef:fd,useState:function(){return Ha(Hr)},useDebugValue:k0,useDeferredValue:function(_){var u=Ha(Hr),f=u[0],A=u[1];return Bu(function(){var M=ss.transition;ss.transition={};try{A(_)}finally{ss.transition=M}},[_]),f},useTransition:function(){var _=Ha(Hr)[0],u=cr().memoizedState;return[_,u]},useMutableSource:Rp,useSyncExternalStore:V1,useId:cb,unstable_isNewReconciler:!1},ZB={readContext:Ar,useCallback:z0,useContext:Ar,useEffect:Bu,useImperativeHandle:Q1,useInsertionEffect:md,useLayoutEffect:K1,useMemo:q1,useReducer:Tu,useRef:fd,useState:function(){return Tu(Hr)},useDebugValue:k0,useDeferredValue:function(_){var u=Tu(Hr),f=u[0],A=u[1];return Bu(function(){var M=ss.transition;ss.transition={};try{A(_)}finally{ss.transition=M}},[_]),f},useTransition:function(){var _=Tu(Hr)[0],u=cr().memoizedState;return[_,u]},useMutableSource:Rp,useSyncExternalStore:V1,useId:cb,unstable_isNewReconciler:!1};function t_(_,u){try{var f="",A=u;do f+=T0(A),A=A.return;while(A);var M=f}catch(E){M=`
Error generating stack: `+E.message+`
`+E.stack}return{value:_,source:u,stack:M}}function Ip(_,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var n_=typeof WeakMap=="function"?WeakMap:Map;function db(_,u,f){f=Ua(-1,f),f.tag=3,f.payload={element:null};var A=u.value;return f.callback=function(){Ll||(Ll=!0,Ad=A),Ip(_,u)},f}function i_(_,u,f){f=Ua(-1,f),f.tag=3;var A=_.type.getDerivedStateFromError;if(typeof A=="function"){var M=u.value;f.payload=function(){return A(M)},f.callback=function(){Ip(_,u)}}var E=_.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){Ip(_,u),typeof A!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})}),f}function r_(_,u,f){var A=_.pingCache;if(A===null){A=_.pingCache=new n_;var M=new Set;A.set(u,M)}else M=A.get(u),M===void 0&&(M=new Set,A.set(u,M));M.has(f)||(M.add(f),_=Ss.bind(null,_,u,f),u.then(_,_))}function s_(_){do{var u;if((u=_.tag===13)&&(u=_.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return _;_=_.return}while(_!==null);return null}function o_(_,u,f,A,M){return _.mode&1?(_.flags|=65536,_.lanes=M,_):(_===u?_.flags|=65536:(_.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Ua(-1,1),u.tag=2,Or(f,u))),f.lanes|=1),_)}function Vo(_){_.flags|=4}function jo(_,u){if(_!==null&&_.child===u.child)return!0;if(u.flags&16)return!1;for(_=u.child;_!==null;){if(_.flags&12854||_.subtreeFlags&12854)return!1;_=_.sibling}return!0}var gd,Pl,Pc,Iu;if(Ge)gd=function(_,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)ee(_,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Pl=function(){},Pc=function(_,u,f,A,M){if(_=_.memoizedProps,_!==A){var E=u.stateNode,L=rs(Ur.current);f=ke(E,f,_,A,M,L),(u.updateQueue=f)&&Vo(u)}},Iu=function(_,u,f,A){f!==A&&Vo(u)};else if(U){gd=function(_,u,f,A){for(var M=u.child;M!==null;){if(M.tag===5){var E=M.stateNode;f&&A&&(E=pt(E,M.type,M.memoizedProps,M)),ee(_,E)}else if(M.tag===6)E=M.stateNode,f&&A&&(E=$t(E,M.memoizedProps,M)),ee(_,E);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)E=M.child,E!==null&&(E.return=M),gd(_,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===u)break;for(;M.sibling===null;){if(M.return===null||M.return===u)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var Lp=function(_,u,f,A){for(var M=u.child;M!==null;){if(M.tag===5){var E=M.stateNode;f&&A&&(E=pt(E,M.type,M.memoizedProps,M)),dt(_,E)}else if(M.tag===6)E=M.stateNode,f&&A&&(E=$t(E,M.memoizedProps,M)),dt(_,E);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)E=M.child,E!==null&&(E.return=M),Lp(_,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===u)break;for(;M.sibling===null;){if(M.return===null||M.return===u)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};Pl=function(_,u){var f=u.stateNode;if(!jo(_,u)){_=f.containerInfo;var A=Xe(_);Lp(A,u,!1,!1),f.pendingChildren=A,Vo(u),Ve(_,A)}},Pc=function(_,u,f,A,M){var E=_.stateNode,L=_.memoizedProps;if((_=jo(_,u))&&L===A)u.stateNode=E;else{var V=u.stateNode,re=rs(Ur.current),we=null;L!==A&&(we=ke(V,f,L,A,M,re)),_&&we===null?u.stateNode=E:(E=Le(E,we,f,L,A,u,_,V),pe(E,f,A,M,re)&&Vo(u),u.stateNode=E,_?Vo(u):gd(E,u,!1,!1))}},Iu=function(_,u,f,A){f!==A?(_=rs(za.current),f=rs(Ur.current),u.stateNode=ve(A,_,f,u),Vo(u)):u.stateNode=_.stateNode}}else Pl=function(){},Pc=function(){},Iu=function(){};function vd(_,u){if(!yn)switch(_.tailMode){case"hidden":u=_.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?_.tail=null:f.sibling=null;break;case"collapsed":f=_.tail;for(var A=null;f!==null;)f.alternate!==null&&(A=f),f=f.sibling;A===null?u||_.tail===null?_.tail=null:_.tail.sibling=null:A.sibling=null}}function Hi(_){var u=_.alternate!==null&&_.alternate.child===_.child,f=0,A=0;if(u)for(var M=_.child;M!==null;)f|=M.lanes|M.childLanes,A|=M.subtreeFlags&14680064,A|=M.flags&14680064,M.return=_,M=M.sibling;else for(M=_.child;M!==null;)f|=M.lanes|M.childLanes,A|=M.subtreeFlags,A|=M.flags,M.return=_,M=M.sibling;return _.subtreeFlags|=A,_.childLanes=f,u}function Gr(_,u,f){var A=u.pendingProps;switch(Sp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(u),null;case 1:return Wn(u.type)&&Vt(),Hi(u),null;case 3:return A=u.stateNode,Tc(),At(Jt),At(zt),bp(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(_===null||_.child===null)&&(cd(u)?Vo(u):_===null||_.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,is!==null&&(jp(is),is=null))),Pl(_,u),Hi(u),null;case 5:O0(u),f=rs(za.current);var M=u.type;if(_!==null&&u.stateNode!=null)Pc(_,u,M,A,f),_.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!A){if(u.stateNode===null)throw Error(s(166));return Hi(u),null}if(_=rs(Ur.current),cd(u)){if(!fe)throw Error(s(175));_=xr(u.stateNode,u.type,u.memoizedProps,f,_,u,!jn),u.updateQueue=_,_!==null&&Vo(u)}else{var E=H(M,A,f,_,u);gd(E,u,!1,!1),u.stateNode=E,pe(E,M,A,f,_)&&Vo(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Hi(u),null;case 6:if(_&&u.stateNode!=null)Iu(_,u,_.memoizedProps,A);else{if(typeof A!="string"&&u.stateNode===null)throw Error(s(166));if(_=rs(za.current),f=rs(Ur.current),cd(u)){if(!fe)throw Error(s(176));if(_=u.stateNode,A=u.memoizedProps,(f=El(_,A,u,!jn))&&(M=ns,M!==null))switch(E=(M.mode&1)!==0,M.tag){case 3:Je(M.stateNode.containerInfo,_,A,E);break;case 5:Ze(M.type,M.memoizedProps,M.stateNode,_,A,E)}f&&Vo(u)}else u.stateNode=ve(A,_,f,u)}return Hi(u),null;case 13:if(At(ii),A=u.memoizedState,yn&&ni!==null&&u.mode&1&&!(u.flags&128)){for(_=ni;_;)_=En(_);return ka(),u.flags|=98560,u}if(A!==null&&A.dehydrated!==null){if(A=cd(u),_===null){if(!A)throw Error(s(318));if(!fe)throw Error(s(344));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));Oo(_,u)}else ka(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;return Hi(u),null}return is!==null&&(jp(is),is=null),u.flags&128?(u.lanes=f,u):(A=A!==null,f=!1,_===null?cd(u):f=_.memoizedState!==null,A&&!f&&(u.child.flags|=8192,u.mode&1&&(_===null||ii.current&1?oi===0&&(oi=3):lv())),u.updateQueue!==null&&(u.flags|=4),Hi(u),null);case 4:return Tc(),Pl(_,u),_===null&&Ce(u.stateNode.containerInfo),Hi(u),null;case 10:return P0(u.type._context),Hi(u),null;case 17:return Wn(u.type)&&Vt(),Hi(u),null;case 19:if(At(ii),M=u.memoizedState,M===null)return Hi(u),null;if(A=(u.flags&128)!==0,E=M.rendering,E===null)if(A)vd(M,!1);else{if(oi!==0||_!==null&&_.flags&128)for(_=u.child;_!==null;){if(E=Zn(_),E!==null){for(u.flags|=128,vd(M,!1),_=E.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=f,A=u.child;A!==null;)f=A,M=_,f.flags&=14680066,E=f.alternate,E===null?(f.childLanes=0,f.lanes=M,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=E.childLanes,f.lanes=E.lanes,f.child=E.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=E.memoizedProps,f.memoizedState=E.memoizedState,f.updateQueue=E.updateQueue,f.type=E.type,M=E.dependencies,f.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),A=A.sibling;return je(ii,ii.current&1|2),u.child}_=_.sibling}M.tail!==null&&sr()>Vp&&(u.flags|=128,A=!0,vd(M,!1),u.lanes=4194304)}else{if(!A)if(_=Zn(E),_!==null){if(u.flags|=128,A=!0,_=_.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),vd(M,!0),M.tail===null&&M.tailMode==="hidden"&&!E.alternate&&!yn)return Hi(u),null}else 2*sr()-M.renderingStartTime>Vp&&f!==1073741824&&(u.flags|=128,A=!0,vd(M,!1),u.lanes=4194304);M.isBackwards?(E.sibling=u.child,u.child=E):(_=M.last,_!==null?_.sibling=E:u.child=E,M.last=E)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=sr(),u.sibling=null,_=ii.current,je(ii,A?_&1|2:_&1),u):(Hi(u),null);case 22:case 23:return av(),A=u.memoizedState!==null,_!==null&&_.memoizedState!==null!==A&&(u.flags|=8192),A&&u.mode&1?zn&1073741824&&(Hi(u),Ge&&u.subtreeFlags&6&&(u.flags|=8192)):Hi(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}var eI=o.ReactCurrentOwner,eo=!1;function Jn(_,u,f,A){u.child=_===null?Eu(u,null,f,A):bu(u,_.child,f,A)}function Vr(_,u,f,A,M){f=f.render;var E=u.ref;return wc(u,M),A=Cp(_,u,f,A,E,M),f=Tp(),_!==null&&!eo?(u.updateQueue=_.updateQueue,u.flags&=-2053,_.lanes&=~M,Ga(_,u,M)):(yn&&f&&D0(u),u.flags|=1,Jn(_,u,A,M),u.child)}function a_(_,u,f,A,M){if(_===null){var E=f.type;return typeof E=="function"&&!ws(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=E,l_(_,u,E,A,M)):(_=Yo(f.type,null,A,u,u.mode,M),_.ref=u.ref,_.return=u,u.child=_)}if(E=_.child,!(_.lanes&M)){var L=E.memoizedProps;if(f=f.compare,f=f!==null?f:C0,f(L,A)&&_.ref===u.ref)return Ga(_,u,M)}return u.flags|=1,_=Uc(E,A),_.ref=u.ref,_.return=u,u.child=_}function l_(_,u,f,A,M){if(_!==null&&C0(_.memoizedProps,A)&&_.ref===u.ref)if(eo=!1,(_.lanes&M)!==0)_.flags&131072&&(eo=!0);else return u.lanes=_.lanes,Ga(_,u,M);return G0(_,u,f,A,M)}function c_(_,u,f){var A=u.pendingProps,M=A.children,E=_!==null?_.memoizedState:null;if(A.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null},je(ur,zn),zn|=f;else if(f&1073741824)u.memoizedState={baseLanes:0,cachePool:null},A=E!==null?E.baseLanes:f,je(ur,zn),zn|=A;else return _=E!==null?E.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:_,cachePool:null},u.updateQueue=null,je(ur,zn),zn|=_,null;else E!==null?(A=E.baseLanes|f,u.memoizedState=null):A=f,je(ur,zn),zn|=A;return Jn(_,u,M,f),u.child}function u_(_,u){var f=u.ref;(_===null&&f!==null||_!==null&&_.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function G0(_,u,f,A,M){var E=Wn(f)?kn:zt.current;return E=Vn(u,E),wc(u,M),f=Cp(_,u,f,A,E,M),A=Tp(),_!==null&&!eo?(u.updateQueue=_.updateQueue,u.flags&=-2053,_.lanes&=~M,Ga(_,u,M)):(yn&&A&&D0(u),u.flags|=1,Jn(_,u,f,M),u.child)}function V0(_,u,f,A,M){if(Wn(f)){var E=!0;Nn(u)}else E=!1;if(wc(u,M),u.stateNode===null)_!==null&&(_.alternate=null,u.alternate=null,u.flags|=2),k1(u,f,A),L0(u,f,A,M),A=!0;else if(_===null){var L=u.stateNode,V=u.memoizedProps;L.props=V;var re=L.context,we=f.contextType;typeof we=="object"&&we!==null?we=Ar(we):(we=Wn(f)?kn:zt.current,we=Vn(u,we));var We=f.getDerivedStateFromProps,lt=typeof We=="function"||typeof L.getSnapshotBeforeUpdate=="function";lt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(V!==A||re!==we)&&z1(u,L,A,we),Sr=!1;var yt=u.memoizedState;L.state=yt,xp(u,A,L,M),re=u.memoizedState,V!==A||yt!==re||Jt.current||Sr?(typeof We=="function"&&(I0(u,f,We,A),re=u.memoizedState),(V=Sr||Ap(u,f,V,A,yt,re,we))?(lt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(u.flags|=4194308)):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=A,u.memoizedState=re),L.props=A,L.state=re,L.context=we,A=V):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),A=!1)}else{L=u.stateNode,B0(_,u),V=u.memoizedProps,we=u.type===u.elementType?V:ko(u.type,V),L.props=we,lt=u.pendingProps,yt=L.context,re=f.contextType,typeof re=="object"&&re!==null?re=Ar(re):(re=Wn(f)?kn:zt.current,re=Vn(u,re));var Mt=f.getDerivedStateFromProps;(We=typeof Mt=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(V!==lt||yt!==re)&&z1(u,L,A,re),Sr=!1,yt=u.memoizedState,L.state=yt,xp(u,A,L,M);var St=u.memoizedState;V!==lt||yt!==St||Jt.current||Sr?(typeof Mt=="function"&&(I0(u,f,Mt,A),St=u.memoizedState),(we=Sr||Ap(u,f,we,A,yt,St,re)||!1)?(We||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(A,St,re),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(A,St,re)),typeof L.componentDidUpdate=="function"&&(u.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof L.componentDidUpdate!="function"||V===_.memoizedProps&&yt===_.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||V===_.memoizedProps&&yt===_.memoizedState||(u.flags|=1024),u.memoizedProps=A,u.memoizedState=St),L.props=A,L.state=St,L.context=re,A=we):(typeof L.componentDidUpdate!="function"||V===_.memoizedProps&&yt===_.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||V===_.memoizedProps&&yt===_.memoizedState||(u.flags|=1024),A=!1)}return j0(_,u,f,A,E,M)}function j0(_,u,f,A,M,E){u_(_,u);var L=(u.flags&128)!==0;if(!A&&!L)return M&&$s(u,f,!1),Ga(_,u,E);A=u.stateNode,eI.current=u;var V=L&&typeof f.getDerivedStateFromError!="function"?null:A.render();return u.flags|=1,_!==null&&L?(u.child=bu(u,_.child,null,E),u.child=bu(u,null,V,E)):Jn(_,u,V,E),u.memoizedState=A.state,M&&$s(u,f,!0),u.child}function W0(_){var u=_.stateNode;u.pendingContext?hi(_,u.pendingContext,u.pendingContext!==u.context):u.context&&hi(_,u.context,!1),wo(_,u.containerInfo)}function h_(_,u,f,A,M){return ka(),Ec(M),u.flags|=256,Jn(_,u,f,A),u.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Lu(_){return{baseLanes:_,cachePool:null}}function Fp(_,u,f){var A=u.pendingProps,M=ii.current,E=!1,L=(u.flags&128)!==0,V;if((V=L)||(V=_!==null&&_.memoizedState===null?!1:(M&2)!==0),V?(E=!0,u.flags&=-129):(_===null||_.memoizedState!==null)&&(M|=1),je(ii,M&1),_===null)return wp(u),_=u.memoizedState,_!==null&&(_=_.dehydrated,_!==null)?(u.mode&1?on(_)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(M=A.children,_=A.fallback,E?(A=u.mode,E=u.child,M={mode:"hidden",children:M},!(A&1)&&E!==null?(E.childLanes=0,E.pendingProps=M):E=Ja(M,A,0,null),_=Xa(_,A,f,null),E.return=u,_.return=u,E.sibling=_,u.child=E,u.child.memoizedState=Lu(f),u.memoizedState=Dp,_):X0(u,M));if(M=_.memoizedState,M!==null){if(V=M.dehydrated,V!==null){if(L)return u.flags&256?(u.flags&=-257,Np(_,u,f,Error(s(422)))):u.memoizedState!==null?(u.child=_.child,u.flags|=128,null):(E=A.fallback,M=u.mode,A=Ja({mode:"visible",children:A.children},M,0,null),E=Xa(E,M,f,null),E.flags|=2,A.return=u,E.return=u,A.sibling=E,u.child=A,u.mode&1&&bu(u,_.child,null,f),u.child.memoizedState=Lu(f),u.memoizedState=Dp,E);if(!(u.mode&1))u=Np(_,u,f,null);else if(on(V))u=Np(_,u,f,Error(s(419)));else if(A=(f&_.childLanes)!==0,eo||A){if(A=Ht,A!==null){switch(f&-f){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}A=E&(A.suspendedLanes|f)?0:E,A!==0&&A!==M.retryLane&&(M.retryLane=A,$i(_,A,-1))}lv(),u=Np(_,u,f,Error(s(421)))}else nn(V)?(u.flags|=128,u.child=_.child,u=vb.bind(null,_),_n(V,u),u=null):(f=M.treeContext,fe&&(ni=Gt(V),ns=u,yn=!0,is=null,jn=!1,f!==null&&(Zr[di++]=es,Zr[di++]=wr,Zr[di++]=ar,es=f.id,wr=f.overflow,ar=u)),u=X0(u,u.pendingProps.children),u.flags|=4096);return u}return E?(A=d_(_,u,A.children,A.fallback,f),E=u.child,M=_.child.memoizedState,E.memoizedState=M===null?Lu(f):{baseLanes:M.baseLanes|f,cachePool:null},E.childLanes=_.childLanes&~f,u.memoizedState=Dp,A):(f=J0(_,u,A.children,f),u.memoizedState=null,f)}return E?(A=d_(_,u,A.children,A.fallback,f),E=u.child,M=_.child.memoizedState,E.memoizedState=M===null?Lu(f):{baseLanes:M.baseLanes|f,cachePool:null},E.childLanes=_.childLanes&~f,u.memoizedState=Dp,A):(f=J0(_,u,A.children,f),u.memoizedState=null,f)}function X0(_,u){return u=Ja({mode:"visible",children:u},_.mode,0,null),u.return=_,_.child=u}function J0(_,u,f,A){var M=_.child;return _=M.sibling,f=Uc(M,{mode:"visible",children:f}),!(u.mode&1)&&(f.lanes=A),f.return=u,f.sibling=null,_!==null&&(A=u.deletions,A===null?(u.deletions=[_],u.flags|=16):A.push(_)),u.child=f}function d_(_,u,f,A,M){var E=u.mode;_=_.child;var L=_.sibling,V={mode:"hidden",children:f};return!(E&1)&&u.child!==_?(f=u.child,f.childLanes=0,f.pendingProps=V,u.deletions=null):(f=Uc(_,V),f.subtreeFlags=_.subtreeFlags&14680064),L!==null?A=Uc(L,A):(A=Xa(A,E,M,null),A.flags|=2),A.return=u,f.return=u,f.sibling=A,u.child=f,A}function Np(_,u,f,A){return A!==null&&Ec(A),bu(u,_.child,null,f),_=X0(u,u.pendingProps.children),_.flags|=2,u.memoizedState=null,_}function Op(_,u,f){_.lanes|=u;var A=_.alternate;A!==null&&(A.lanes|=u),vp(_.return,u,f)}function K0(_,u,f,A,M){var E=_.memoizedState;E===null?_.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:A,tail:f,tailMode:M}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=A,E.tail=f,E.tailMode=M)}function Y0(_,u,f){var A=u.pendingProps,M=A.revealOrder,E=A.tail;if(Jn(_,u,A.children,f),A=ii.current,A&2)A=A&1|2,u.flags|=128;else{if(_!==null&&_.flags&128)e:for(_=u.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&Op(_,f,u);else if(_.tag===19)Op(_,f,u);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break e;for(;_.sibling===null;){if(_.return===null||_.return===u)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}A&=1}if(je(ii,A),!(u.mode&1))u.memoizedState=null;else switch(M){case"forwards":for(f=u.child,M=null;f!==null;)_=f.alternate,_!==null&&Zn(_)===null&&(M=f),f=f.sibling;f=M,f===null?(M=u.child,u.child=null):(M=f.sibling,f.sibling=null),K0(u,!1,M,f,E);break;case"backwards":for(f=null,M=u.child,u.child=null;M!==null;){if(_=M.alternate,_!==null&&Zn(_)===null){u.child=M;break}_=M.sibling,M.sibling=f,f=M,M=_}K0(u,!0,f,null,E);break;case"together":K0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ga(_,u,f){if(_!==null&&(u.dependencies=_.dependencies),ja|=u.lanes,!(f&u.childLanes))return null;if(_!==null&&u.child!==_.child)throw Error(s(153));if(u.child!==null){for(_=u.child,f=Uc(_,_.pendingProps),u.child=f,f.return=u;_.sibling!==null;)_=_.sibling,f=f.sibling=Uc(_,_.pendingProps),f.return=u;f.sibling=null}return u.child}function Bl(_,u,f){switch(u.tag){case 3:W0(u),ka();break;case 5:Cu(u);break;case 1:Wn(u.type)&&Nn(u);break;case 4:wo(u,u.stateNode.containerInfo);break;case 10:R0(u,u.type._context,u.memoizedProps.value);break;case 13:var A=u.memoizedState;if(A!==null)return A.dehydrated!==null?(je(ii,ii.current&1),u.flags|=128,null):f&u.child.childLanes?Fp(_,u,f):(je(ii,ii.current&1),_=Ga(_,u,f),_!==null?_.sibling:null);je(ii,ii.current&1);break;case 19:if(A=(f&u.childLanes)!==0,_.flags&128){if(A)return Y0(_,u,f);u.flags|=128}var M=u.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),je(ii,ii.current),A)break;return null;case 22:case 23:return u.lanes=0,c_(_,u,f)}return Ga(_,u,f)}function tI(_,u){switch(Sp(u),u.tag){case 1:return Wn(u.type)&&Vt(),_=u.flags,_&65536?(u.flags=_&-65537|128,u):null;case 3:return Tc(),At(Jt),At(zt),bp(),_=u.flags,_&65536&&!(_&128)?(u.flags=_&-65537|128,u):null;case 5:return O0(u),null;case 13:if(At(ii),_=u.memoizedState,_!==null&&_.dehydrated!==null){if(u.alternate===null)throw Error(s(340));ka()}return _=u.flags,_&65536?(u.flags=_&-65537|128,u):null;case 19:return At(ii),null;case 4:return Tc(),null;case 10:return P0(u.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var Q0=!1,Va=!1,Du=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function bt(_,u){var f=_.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(A){ls(_,u,A)}else f.current=null}function Up(_,u,f){try{f()}catch(A){ls(_,u,A)}}var q0=!1;function fb(_,u){for(D(_.containerInfo),Tt=u;Tt!==null;)if(_=Tt,u=_.child,(_.subtreeFlags&1028)!==0&&u!==null)u.return=_,Tt=u;else for(;Tt!==null;){_=Tt;try{var f=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var A=f.memoizedProps,M=f.memoizedState,E=_.stateNode,L=E.getSnapshotBeforeUpdate(_.elementType===_.type?A:ko(_.type,A),M);E.__reactInternalSnapshotBeforeUpdate=L}break;case 3:Ge&&ye(_.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(V){ls(_,_.return,V)}if(u=_.sibling,u!==null){u.return=_.return,Tt=u;break}Tt=_.return}return f=q0,q0=!1,f}function Fu(_,u,f){var A=u.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var M=A=A.next;do{if((M.tag&_)===_){var E=M.destroy;M.destroy=void 0,E!==void 0&&Up(u,f,E)}M=M.next}while(M!==A)}}function Wo(_,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&_)===_){var A=f.create;f.destroy=A()}f=f.next}while(f!==u)}}function Nu(_){var u=_.ref;if(u!==null){var f=_.stateNode;switch(_.tag){case 5:_=Q(f);break;default:_=f}typeof u=="function"?u(_):u.current=_}}function $0(_,u,f){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(b0,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:if(_=u.updateQueue,_!==null&&(_=_.lastEffect,_!==null)){var A=_=_.next;do{var M=A,E=M.destroy;M=M.tag,E!==void 0&&(M&2||M&4)&&Up(u,f,E),A=A.next}while(A!==_)}break;case 1:if(bt(u,f),_=u.stateNode,typeof _.componentWillUnmount=="function")try{_.props=u.memoizedProps,_.state=u.memoizedState,_.componentWillUnmount()}catch(L){ls(u,f,L)}break;case 5:bt(u,f);break;case 4:Ge?ev(_,u,f):U&&U&&(u=u.stateNode.containerInfo,f=Xe(u),rt(u,f))}}function f_(_,u,f){for(var A=u;;)if($0(_,A,f),A.child===null||Ge&&A.tag===4){if(A===u)break;for(;A.sibling===null;){if(A.return===null||A.return===u)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function p_(_){var u=_.alternate;u!==null&&(_.alternate=null,p_(u)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(u=_.stateNode,u!==null&&Ne(u)),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function m_(_){return _.tag===5||_.tag===3||_.tag===4}function g_(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||m_(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function v_(_){if(Ge){e:{for(var u=_.return;u!==null;){if(m_(u))break e;u=u.return}throw Error(s(160))}var f=u;switch(f.tag){case 5:u=f.stateNode,f.flags&32&&(Me(u),f.flags&=-33),f=g_(_),kp(_,f,u);break;case 3:case 4:u=f.stateNode.containerInfo,f=g_(_),Z0(_,f,u);break;default:throw Error(s(161))}}}function Z0(_,u,f){var A=_.tag;if(A===5||A===6)_=_.stateNode,u?Ye(f,_,u):ze(f,_);else if(A!==4&&(_=_.child,_!==null))for(Z0(_,u,f),_=_.sibling;_!==null;)Z0(_,u,f),_=_.sibling}function kp(_,u,f){var A=_.tag;if(A===5||A===6)_=_.stateNode,u?ht(f,_,u):Ie(f,_);else if(A!==4&&(_=_.child,_!==null))for(kp(_,u,f),_=_.sibling;_!==null;)kp(_,u,f),_=_.sibling}function ev(_,u,f){for(var A=u,M=!1,E,L;;){if(!M){M=A.return;e:for(;;){if(M===null)throw Error(s(160));switch(E=M.stateNode,M.tag){case 5:L=!1;break e;case 3:E=E.containerInfo,L=!0;break e;case 4:E=E.containerInfo,L=!0;break e}M=M.return}M=!0}if(A.tag===5||A.tag===6)f_(_,A,f),L?$(E,A.stateNode):te(E,A.stateNode);else if(A.tag===18)L?K(E,A.stateNode):q(E,A.stateNode);else if(A.tag===4){if(A.child!==null){E=A.stateNode.containerInfo,L=!0,A.child.return=A,A=A.child;continue}}else if($0(_,A,f),A.child!==null){A.child.return=A,A=A.child;continue}if(A===u)break;for(;A.sibling===null;){if(A.return===null||A.return===u)return;A=A.return,A.tag===4&&(M=!1)}A.sibling.return=A.return,A=A.sibling}}function tv(_,u){if(Ge){switch(u.tag){case 0:case 11:case 14:case 15:Fu(3,u,u.return),Wo(3,u),Fu(5,u,u.return);return;case 1:return;case 5:var f=u.stateNode;if(f!=null){var A=u.memoizedProps;_=_!==null?_.memoizedProps:A;var M=u.type,E=u.updateQueue;u.updateQueue=null,E!==null&&$e(f,E,M,_,A,u)}return;case 6:if(u.stateNode===null)throw Error(s(162));f=u.memoizedProps,ct(u.stateNode,_!==null?_.memoizedProps:f,f);return;case 3:fe&&_!==null&&_.memoizedState.isDehydrated&&J(u.stateNode.containerInfo);return;case 12:return;case 13:yd(u);return;case 19:yd(u);return;case 17:return}throw Error(s(163))}switch(u.tag){case 0:case 11:case 14:case 15:Fu(3,u,u.return),Wo(3,u),Fu(5,u,u.return);return;case 12:return;case 13:yd(u);return;case 19:yd(u);return;case 3:fe&&_!==null&&_.memoizedState.isDehydrated&&J(u.stateNode.containerInfo);break;case 22:case 23:return}e:if(U){switch(u.tag){case 1:case 5:case 6:break e;case 3:case 4:u=u.stateNode,rt(u.containerInfo,u.pendingChildren);break e}throw Error(s(163))}}function yd(_){var u=_.updateQueue;if(u!==null){_.updateQueue=null;var f=_.stateNode;f===null&&(f=_.stateNode=new Du),u.forEach(function(A){var M=rI.bind(null,_,A);f.has(A)||(f.add(A),A.then(M,M))})}}function nv(_,u){for(Tt=u;Tt!==null;){u=Tt;var f=u.deletions;if(f!==null)for(var A=0;A<f.length;A++){var M=f[A];try{var E=_;Ge?ev(E,M,u):f_(E,M,u);var L=M.alternate;L!==null&&(L.return=null),M.return=null}catch(tt){ls(M,u,tt)}}if(f=u.child,u.subtreeFlags&12854&&f!==null)f.return=u,Tt=f;else for(;Tt!==null;){u=Tt;try{var V=u.flags;if(V&32&&Ge&&Me(u.stateNode),V&512){var re=u.alternate;if(re!==null){var we=re.ref;we!==null&&(typeof we=="function"?we(null):we.current=null)}}if(V&8192)switch(u.tag){case 13:if(u.memoizedState!==null){var We=u.alternate;(We===null||We.memoizedState===null)&&(jr=sr())}break;case 22:var lt=u.memoizedState!==null,yt=u.alternate,Mt=yt!==null&&yt.memoizedState!==null;if(f=u,Ge){e:if(A=f,M=lt,E=null,Ge)for(var St=A;;){if(St.tag===5){if(E===null){E=St;var It=St.stateNode;M?Qe(It):De(St.stateNode,St.memoizedProps)}}else if(St.tag===6){if(E===null){var Kn=St.stateNode;M?G(Kn):de(Kn,St.memoizedProps)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===A)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===A)break;for(;St.sibling===null;){if(St.return===null||St.return===A)break e;E===St&&(E=null),St=St.return}E===St&&(E=null),St.sibling.return=St.return,St=St.sibling}}if(lt&&!Mt&&f.mode&1){Tt=f;for(var He=f.child;He!==null;){for(f=Tt=He;Tt!==null;){A=Tt;var Z=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Fu(4,A,A.return);break;case 1:bt(A,A.return);var oe=A.stateNode;if(typeof oe.componentWillUnmount=="function"){var Ee=A.return;try{oe.props=A.memoizedProps,oe.state=A.memoizedState,oe.componentWillUnmount()}catch(tt){ls(A,Ee,tt)}}break;case 5:bt(A,A.return);break;case 22:if(A.memoizedState!==null){x_(f);continue}}Z!==null?(Z.return=A,Tt=Z):x_(f)}He=He.sibling}}}switch(V&4102){case 2:v_(u),u.flags&=-3;break;case 6:v_(u),u.flags&=-3,tv(u.alternate,u);break;case 4096:u.flags&=-4097;break;case 4100:u.flags&=-4097,tv(u.alternate,u);break;case 4:tv(u.alternate,u)}}catch(tt){ls(u,u.return,tt)}if(f=u.sibling,f!==null){f.return=u.return,Tt=f;break}Tt=u.return}}}function nI(_,u,f){Tt=_,pb(_)}function pb(_,u,f){for(var A=(_.mode&1)!==0;Tt!==null;){var M=Tt,E=M.child;if(M.tag===22&&A){var L=M.memoizedState!==null||Q0;if(!L){var V=M.alternate,re=V!==null&&V.memoizedState!==null||Va;V=Q0;var we=Va;if(Q0=L,(Va=re)&&!we)for(Tt=M;Tt!==null;)L=Tt,re=L.child,L.tag===22&&L.memoizedState!==null?__(M):re!==null?(re.return=L,Tt=re):__(M);for(;E!==null;)Tt=E,pb(E),E=E.sibling;Tt=M,Q0=V,Va=we}y_(_)}else M.subtreeFlags&8772&&E!==null?(E.return=M,Tt=E):y_(_)}}function y_(_){for(;Tt!==null;){var u=Tt;if(u.flags&8772){var f=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Va||Wo(5,u);break;case 1:var A=u.stateNode;if(u.flags&4&&!Va)if(f===null)A.componentDidMount();else{var M=u.elementType===u.type?f.memoizedProps:ko(u.type,f.memoizedProps);A.componentDidUpdate(M,f.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&_p(u,E,A);break;case 3:var L=u.updateQueue;if(L!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=Q(u.child.stateNode);break;case 1:f=u.child.stateNode}_p(u,L,f)}break;case 5:var V=u.stateNode;f===null&&u.flags&4&&Te(V,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&u.memoizedState===null){var re=u.alternate;if(re!==null){var we=re.memoizedState;if(we!==null){var We=we.dehydrated;We!==null&&ae(We)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Va||u.flags&512&&Nu(u)}catch(lt){ls(u,u.return,lt)}}if(u===_){Tt=null;break}if(f=u.sibling,f!==null){f.return=u.return,Tt=f;break}Tt=u.return}}function x_(_){for(;Tt!==null;){var u=Tt;if(u===_){Tt=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Tt=f;break}Tt=u.return}}function __(_){for(;Tt!==null;){var u=Tt;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Wo(4,u)}catch(re){ls(u,f,re)}break;case 1:var A=u.stateNode;if(typeof A.componentDidMount=="function"){var M=u.return;try{A.componentDidMount()}catch(re){ls(u,M,re)}}var E=u.return;try{Nu(u)}catch(re){ls(u,E,re)}break;case 5:var L=u.return;try{Nu(u)}catch(re){ls(u,L,re)}}}catch(re){ls(u,u.return,re)}if(u===_){Tt=null;break}var V=u.sibling;if(V!==null){V.return=u.return,Tt=V;break}Tt=u.return}}var zp=0,Ou=1,Uu=2,ku=3,zu=4;if(typeof Symbol=="function"&&Symbol.for){var Bc=Symbol.for;zp=Bc("selector.component"),Ou=Bc("selector.has_pseudo_class"),Uu=Bc("selector.role"),ku=Bc("selector.test_id"),zu=Bc("selector.text")}function Hu(_){var u=me(_);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if(_=k(_),_===null)throw Error(s(362));return _.stateNode.current}function Hp(_,u){switch(u.$$typeof){case zp:if(_.type===u.value)return!0;break;case Ou:e:{u=u.value,_=[_,0];for(var f=0;f<_.length;){var A=_[f++],M=_[f++],E=u[M];if(A.tag!==5||!ge(A)){for(;E!=null&&Hp(A,E);)M++,E=u[M];if(M===u.length){u=!0;break e}else for(A=A.child;A!==null;)_.push(A,M),A=A.sibling}}u=!1}return u;case Uu:if(_.tag===5&&Ae(_.stateNode,u.value))return!0;break;case zu:if((_.tag===5||_.tag===6)&&(_=se(_),_!==null&&0<=_.indexOf(u.value)))return!0;break;case ku:if(_.tag===5&&(_=_.memoizedProps["data-testname"],typeof _=="string"&&_.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Gp(_){switch(_.$$typeof){case zp:return"<"+(T(_.value)||"Unknown")+">";case Ou:return":has("+(Gp(_)||"")+")";case Uu:return'[role="'+_.value+'"]';case zu:return'"'+_.value+'"';case ku:return'[data-testname="'+_.value+'"]';default:throw Error(s(365))}}function iv(_,u){var f=[];_=[_,0];for(var A=0;A<_.length;){var M=_[A++],E=_[A++],L=u[E];if(M.tag!==5||!ge(M)){for(;L!=null&&Hp(M,L);)E++,L=u[E];if(E===u.length)f.push(M);else for(M=M.child;M!==null;)_.push(M,E),M=M.sibling}}return f}function rv(_,u){if(!at)throw Error(s(363));_=Hu(_),_=iv(_,u),u=[],_=Array.from(_);for(var f=0;f<_.length;){var A=_[f++];if(A.tag===5)ge(A)||u.push(A.stateNode);else for(A=A.child;A!==null;)_.push(A),A=A.sibling}return u}var A_=Math.ceil,sv=o.ReactCurrentDispatcher,xd=o.ReactCurrentOwner,fi=o.ReactCurrentBatchConfig,kt=0,Ht=null,fn=null,xn=0,zn=0,ur=tn(0),oi=0,pi=null,ja=0,Il=0,_d=0,Gu=null,hr=null,jr=0,Vp=1/0;function Ic(){Vp=sr()+500}var Ll=!1,Ad=null,Wa=null,Xo=!1,Jo=null,Ko=0,Lc=0,Vu=null,Sd=-1,ju=0;function dr(){return kt&6?sr():Sd!==-1?Sd:Sd=sr()}function wi(_){return _.mode&1?kt&2&&xn!==0?xn&-xn:Na.transition!==null?(ju===0&&(_=A0,A0<<=1,!(A0&4194240)&&(A0=64),ju=_),ju):(_=bn,_!==0?_:_e()):1}function $i(_,u,f){if(50<Lc)throw Lc=0,Vu=null,Error(s(185));var A=os(_,u);return A===null?null:(Au(A,u,f),(!(kt&2)||A!==Ht)&&(A===Ht&&(!(kt&2)&&(Il|=u),oi===4&&Dc(A,xn)),br(A,f),u===1&&kt===0&&!(_.mode&1)&&(Ic(),Ao&&Fa())),A)}function os(_,u){_.lanes|=u;var f=_.alternate;for(f!==null&&(f.lanes|=u),f=_,_=_.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),f=_,_=_.return;return f.tag===3?f.stateNode:null}function br(_,u){var f=_.callbackNode;KB(_,u);var A=Ac(_,_===Ht?xn:0);if(A===0)f!==null&&M0(f),_.callbackNode=null,_.callbackPriority=0;else if(u=A&-A,_.callbackPriority!==u){if(f!=null&&M0(f),u===1)_.tag===0?ab(Dl.bind(null,_)):E0(Dl.bind(null,_)),Oe?Re(function(){kt===0&&Fa()}):w0(zi,Fa),f=null;else{switch(Cn(A)){case 1:f=zi;break;case 4:f=F1;break;case 16:f=N1;break;case 536870912:f=O1;break;default:f=N1}f=E_(f,as.bind(null,_))}_.callbackPriority=u,_.callbackNode=f}}function as(_,u){if(Sd=-1,ju=0,kt&6)throw Error(s(327));var f=_.callbackNode;if(Xu()&&_.callbackNode!==f)return null;var A=Ac(_,_===Ht?xn:0);if(A===0)return null;if(A&30||A&_.expiredLanes||u)u=wd(_,A);else{u=A;var M=kt;kt|=2;var E=M_();(Ht!==_||xn!==u)&&(Ic(),Fl(_,u));do try{iI();break}catch(V){Fc(_,V)}while(!0);gp(),sv.current=E,kt=M,fn!==null?u=0:(Ht=null,xn=0,u=oi)}if(u!==0){if(u===2&&(M=L1(_),M!==0&&(A=M,u=ov(_,M))),u===1)throw f=pi,Fl(_,0),Dc(_,A),br(_,sr()),f;if(u===6)Dc(_,A);else{if(M=_.current.alternate,!(A&30)&&!S_(M)&&(u=wd(_,A),u===2&&(E=L1(_),E!==0&&(A=E,u=ov(_,E))),u===1))throw f=pi,Fl(_,0),Dc(_,A),br(_,sr()),f;switch(_.finishedWork=M,_.finishedLanes=A,u){case 0:case 1:throw Error(s(345));case 2:Nc(_,hr);break;case 3:if(Dc(_,A),(A&130023424)===A&&(u=jr+500-sr(),10<u)){if(Ac(_,0)!==0)break;if(M=_.suspendedLanes,(M&A)!==A){dr(),_.pingedLanes|=_.suspendedLanes&M;break}_.timeoutHandle=be(Nc.bind(null,_,hr),u);break}Nc(_,hr);break;case 4:if(Dc(_,A),(A&4194240)===A)break;for(u=_.eventTimes,M=-1;0<A;){var L=31-Nr(A);E=1<<L,L=u[L],L>M&&(M=L),A&=~E}if(A=M,A=sr()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*A_(A/1960))-A,10<A){_.timeoutHandle=be(Nc.bind(null,_,hr),A);break}Nc(_,hr);break;case 5:Nc(_,hr);break;default:throw Error(s(329))}}}return br(_,sr()),_.callbackNode===f?as.bind(null,_):null}function ov(_,u){var f=Gu;return _.current.memoizedState.isDehydrated&&(Fl(_,u).flags|=256),_=wd(_,u),_!==2&&(u=hr,hr=f,u!==null&&jp(u)),_}function jp(_){hr===null?hr=_:hr.push.apply(hr,_)}function S_(_){for(var u=_;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var A=0;A<f.length;A++){var M=f[A],E=M.getSnapshot;M=M.value;try{if(!Da(E(),M))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===_)break;for(;u.sibling===null;){if(u.return===null||u.return===_)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Dc(_,u){for(u&=~_d,u&=~Il,_.suspendedLanes|=u,_.pingedLanes&=~u,_=_.expirationTimes;0<u;){var f=31-Nr(u),A=1<<f;_[f]=-1,u&=~A}}function Dl(_){if(kt&6)throw Error(s(327));Xu();var u=Ac(_,0);if(!(u&1))return br(_,sr()),null;var f=wd(_,u);if(_.tag!==0&&f===2){var A=L1(_);A!==0&&(u=A,f=ov(_,A))}if(f===1)throw f=pi,Fl(_,0),Dc(_,u),br(_,sr()),f;if(f===6)throw Error(s(345));return _.finishedWork=_.current.alternate,_.finishedLanes=u,Nc(_,hr),br(_,sr()),null}function w_(_){Jo!==null&&Jo.tag===0&&!(kt&6)&&Xu();var u=kt;kt|=1;var f=fi.transition,A=bn;try{if(fi.transition=null,bn=1,_)return _()}finally{bn=A,fi.transition=f,kt=u,!(kt&6)&&Fa()}}function av(){zn=ur.current,At(ur)}function Fl(_,u){_.finishedWork=null,_.finishedLanes=0;var f=_.timeoutHandle;if(f!==st&&(_.timeoutHandle=st,xe(f)),fn!==null)for(f=fn.return;f!==null;){var A=f;switch(Sp(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Vt();break;case 3:Tc(),At(Jt),At(zt),bp();break;case 5:O0(A);break;case 4:Tc();break;case 13:At(ii);break;case 19:At(ii);break;case 10:P0(A.type._context);break;case 22:case 23:av()}f=f.return}if(Ht=_,fn=_=Uc(_.current,null),xn=zn=u,oi=0,pi=null,_d=Il=ja=0,hr=Gu=null,Ti!==null){for(u=0;u<Ti.length;u++)if(f=Ti[u],A=f.interleaved,A!==null){f.interleaved=null;var M=A.next,E=f.pending;if(E!==null){var L=E.next;E.next=M,A.next=L}f.pending=A}Ti=null}return _}function Fc(_,u){do{var f=fn;try{if(gp(),dd.current=Bp,Ri){for(var A=Xn.memoizedState;A!==null;){var M=A.queue;M!==null&&(M.pending=null),A=A.next}Ri=!1}if(Mr=0,Tn=vn=Xn=null,Rc=!1,Rl=0,xd.current=null,f===null||f.return===null){oi=1,pi=u,fn=null;break}e:{var E=_,L=f.return,V=f,re=u;if(u=xn,V.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var we=re,We=V,lt=We.tag;if(!(We.mode&1)&&(lt===0||lt===11||lt===15)){var yt=We.alternate;yt?(We.updateQueue=yt.updateQueue,We.memoizedState=yt.memoizedState,We.lanes=yt.lanes):(We.updateQueue=null,We.memoizedState=null)}var Mt=s_(L);if(Mt!==null){Mt.flags&=-257,o_(Mt,L,V,E,u),Mt.mode&1&&r_(E,we,u),u=Mt,re=we;var St=u.updateQueue;if(St===null){var It=new Set;It.add(re),u.updateQueue=It}else St.add(re);break e}else{if(!(u&1)){r_(E,we,u),lv();break e}re=Error(s(426))}}else if(yn&&V.mode&1){var Kn=s_(L);if(Kn!==null){!(Kn.flags&65536)&&(Kn.flags|=256),o_(Kn,L,V,E,u),Ec(re);break e}}E=re,oi!==4&&(oi=2),Gu===null?Gu=[E]:Gu.push(E),re=t_(re,V),V=L;do{switch(V.tag){case 3:V.flags|=65536,u&=-u,V.lanes|=u;var He=db(V,re,u);yp(V,He);break e;case 1:E=re;var Z=V.type,oe=V.stateNode;if(!(V.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Wa===null||!Wa.has(oe)))){V.flags|=65536,u&=-u,V.lanes|=u;var Ee=i_(V,E,u);yp(V,Ee);break e}}V=V.return}while(V!==null)}b_(f)}catch(tt){u=tt,fn===f&&f!==null&&(fn=f=f.return);continue}break}while(!0)}function M_(){var _=sv.current;return sv.current=Bp,_===null?Bp:_}function lv(){(oi===0||oi===3||oi===2)&&(oi=4),Ht===null||!(ja&268435455)&&!(Il&268435455)||Dc(Ht,xn)}function wd(_,u){var f=kt;kt|=2;var A=M_();Ht===_&&xn===u||Fl(_,u);do try{cv();break}catch(M){Fc(_,M)}while(!0);if(gp(),kt=f,sv.current=A,fn!==null)throw Error(s(261));return Ht=null,xn=0,oi}function cv(){for(;fn!==null;)mb(fn)}function iI(){for(;fn!==null&&!ob();)mb(fn)}function mb(_){var u=yb(_.alternate,_,zn);_.memoizedProps=_.pendingProps,u===null?b_(_):fn=u,xd.current=null}function b_(_){var u=_;do{var f=u.alternate;if(_=u.return,u.flags&32768){if(f=tI(f,u),f!==null){f.flags&=32767,fn=f;return}if(_!==null)_.flags|=32768,_.subtreeFlags=0,_.deletions=null;else{oi=6,fn=null;return}}else if(f=Gr(f,u,zn),f!==null){fn=f;return}if(u=u.sibling,u!==null){fn=u;return}fn=u=_}while(u!==null);oi===0&&(oi=5)}function Nc(_,u){var f=bn,A=fi.transition;try{fi.transition=null,bn=1,Wu(_,u,f)}finally{fi.transition=A,bn=f}return null}function Wu(_,u,f){do Xu();while(Jo!==null);if(kt&6)throw Error(s(327));var A=_.finishedWork,M=_.finishedLanes;if(A===null)return null;if(_.finishedWork=null,_.finishedLanes=0,A===_.current)throw Error(s(177));_.callbackNode=null,_.callbackPriority=0;var E=A.lanes|A.childLanes;if(mp(_,E),_===Ht&&(fn=Ht=null,xn=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Xo||(Xo=!0,E_(N1,function(){return Xu(),null})),E=(A.flags&15990)!==0,A.subtreeFlags&15990||E){E=fi.transition,fi.transition=null;var L=bn;bn=1;var V=kt;kt|=4,xd.current=null,fb(_,A),nv(_,A),z(_.containerInfo),_.current=A,nI(A),YB(),kt=V,bn=L,fi.transition=E}else _.current=A;if(Xo&&(Xo=!1,Jo=_,Ko=M),E=_.pendingLanes,E===0&&(Wa=null),La(A.stateNode),br(_,sr()),u!==null)for(f=_.onRecoverableError,A=0;A<u.length;A++)f(u[A]);if(Ll)throw Ll=!1,_=Ad,Ad=null,_;return Ko&1&&_.tag!==0&&Xu(),E=_.pendingLanes,E&1?_===Vu?Lc++:(Lc=0,Vu=_):Lc=0,Fa(),null}function Xu(){if(Jo!==null){var _=Cn(Ko),u=fi.transition,f=bn;try{if(fi.transition=null,bn=16>_?16:_,Jo===null)var A=!1;else{if(_=Jo,Jo=null,Ko=0,kt&6)throw Error(s(331));var M=kt;for(kt|=4,Tt=_.current;Tt!==null;){var E=Tt,L=E.child;if(Tt.flags&16){var V=E.deletions;if(V!==null){for(var re=0;re<V.length;re++){var we=V[re];for(Tt=we;Tt!==null;){var We=Tt;switch(We.tag){case 0:case 11:case 15:Fu(8,We,E)}var lt=We.child;if(lt!==null)lt.return=We,Tt=lt;else for(;Tt!==null;){We=Tt;var yt=We.sibling,Mt=We.return;if(p_(We),We===we){Tt=null;break}if(yt!==null){yt.return=Mt,Tt=yt;break}Tt=Mt}}}var St=E.alternate;if(St!==null){var It=St.child;if(It!==null){St.child=null;do{var Kn=It.sibling;It.sibling=null,It=Kn}while(It!==null)}}Tt=E}}if(E.subtreeFlags&2064&&L!==null)L.return=E,Tt=L;else e:for(;Tt!==null;){if(E=Tt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Fu(9,E,E.return)}var He=E.sibling;if(He!==null){He.return=E.return,Tt=He;break e}Tt=E.return}}var Z=_.current;for(Tt=Z;Tt!==null;){L=Tt;var oe=L.child;if(L.subtreeFlags&2064&&oe!==null)oe.return=L,Tt=oe;else e:for(L=Z;Tt!==null;){if(V=Tt,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:Wo(9,V)}}catch(tt){ls(V,V.return,tt)}if(V===L){Tt=null;break e}var Ee=V.sibling;if(Ee!==null){Ee.return=V.return,Tt=Ee;break e}Tt=V.return}}if(kt=M,Fa(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(b0,_)}catch{}A=!0}return A}finally{bn=f,fi.transition=u}}return!1}function Oc(_,u,f){u=t_(f,u),u=db(_,u,1),Or(_,u),u=dr(),_=os(_,1),_!==null&&(Au(_,1,u),br(_,u))}function ls(_,u,f){if(_.tag===3)Oc(_,_,f);else for(;u!==null;){if(u.tag===3){Oc(u,_,f);break}else if(u.tag===1){var A=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Wa===null||!Wa.has(A))){_=t_(f,_),_=i_(u,_,1),Or(u,_),_=dr(),u=os(u,1),u!==null&&(Au(u,1,_),br(u,_));break}}u=u.return}}function Ss(_,u,f){var A=_.pingCache;A!==null&&A.delete(u),u=dr(),_.pingedLanes|=_.suspendedLanes&f,Ht===_&&(xn&f)===f&&(oi===4||oi===3&&(xn&130023424)===xn&&500>sr()-jr?Fl(_,0):_d|=f),br(_,u)}function gb(_,u){u===0&&(_.mode&1?(u=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):u=1);var f=dr();_=os(_,u),_!==null&&(Au(_,u,f),br(_,f))}function vb(_){var u=_.memoizedState,f=0;u!==null&&(f=u.retryLane),gb(_,f)}function rI(_,u){var f=0;switch(_.tag){case 13:var A=_.stateNode,M=_.memoizedState;M!==null&&(f=M.retryLane);break;case 19:A=_.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(u),gb(_,f)}var yb;yb=function(_,u,f){if(_!==null)if(_.memoizedProps!==u.pendingProps||Jt.current)eo=!0;else{if(!(_.lanes&f)&&!(u.flags&128))return eo=!1,Bl(_,u,f);eo=!!(_.flags&131072)}else eo=!1,yn&&u.flags&1048576&&bc(u,wu,u.index);switch(u.lanes=0,u.tag){case 2:var A=u.type;_!==null&&(_.alternate=null,u.alternate=null,u.flags|=2),_=u.pendingProps;var M=Vn(u,zt.current);wc(u,f),M=Cp(null,u,A,_,M,f);var E=Tp();return u.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Wn(A)?(E=!0,Nn(u)):E=!1,u.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,Oa(u),M.updater=ld,u.stateNode=M,M._reactInternals=u,L0(u,A,_,f),u=j0(null,u,A,!0,E,f)):(u.tag=0,yn&&E&&D0(u),Jn(null,u,M,f),u=u.child),u;case 16:A=u.elementType;e:{switch(_!==null&&(_.alternate=null,u.alternate=null,u.flags|=2),_=u.pendingProps,M=A._init,A=M(A._payload),u.type=A,M=u.tag=C_(A),_=ko(A,_),M){case 0:u=G0(null,u,A,_,f);break e;case 1:u=V0(null,u,A,_,f);break e;case 11:u=Vr(null,u,A,_,f);break e;case 14:u=a_(null,u,A,ko(A.type,_),f);break e}throw Error(s(306,A,""))}return u;case 0:return A=u.type,M=u.pendingProps,M=u.elementType===A?M:ko(A,M),G0(_,u,A,M,f);case 1:return A=u.type,M=u.pendingProps,M=u.elementType===A?M:ko(A,M),V0(_,u,A,M,f);case 3:e:{if(W0(u),_===null)throw Error(s(387));A=u.pendingProps,E=u.memoizedState,M=E.element,B0(_,u),xp(u,A,null,f);var L=u.memoizedState;if(A=L.element,fe&&E.isDehydrated)if(E={element:A,isDehydrated:!1,cache:L.cache,transitions:L.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){M=Error(s(423)),u=h_(_,u,A,f,M);break e}else if(A!==M){M=Error(s(424)),u=h_(_,u,A,f,M);break e}else for(fe&&(ni=Bn(u.stateNode.containerInfo),ns=u,yn=!0,is=null,jn=!1),f=Eu(u,null,A,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ka(),A===M){u=Ga(_,u,f);break e}Jn(_,u,A,f)}u=u.child}return u;case 5:return Cu(u),_===null&&wp(u),A=u.type,M=u.pendingProps,E=_!==null?_.memoizedProps:null,L=M.children,ne(A,M)?L=null:E!==null&&ne(A,E)&&(u.flags|=32),u_(_,u),Jn(_,u,L,f),u.child;case 6:return _===null&&wp(u),null;case 13:return Fp(_,u,f);case 4:return wo(u,u.stateNode.containerInfo),A=u.pendingProps,_===null?u.child=bu(u,null,A,f):Jn(_,u,A,f),u.child;case 11:return A=u.type,M=u.pendingProps,M=u.elementType===A?M:ko(A,M),Vr(_,u,A,M,f);case 7:return Jn(_,u,u.pendingProps,f),u.child;case 8:return Jn(_,u,u.pendingProps.children,f),u.child;case 12:return Jn(_,u,u.pendingProps.children,f),u.child;case 10:e:{if(A=u.type._context,M=u.pendingProps,E=u.memoizedProps,L=M.value,R0(u,A,L),E!==null)if(Da(E.value,L)){if(E.children===M.children&&!Jt.current){u=Ga(_,u,f);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var V=E.dependencies;if(V!==null){L=E.child;for(var re=V.firstContext;re!==null;){if(re.context===A){if(E.tag===1){re=Ua(-1,f&-f),re.tag=2;var we=E.updateQueue;if(we!==null){we=we.shared;var We=we.pending;We===null?re.next=re:(re.next=We.next,We.next=re),we.pending=re}}E.lanes|=f,re=E.alternate,re!==null&&(re.lanes|=f),vp(E.return,f,u),V.lanes|=f;break}re=re.next}}else if(E.tag===10)L=E.type===u.type?null:E.child;else if(E.tag===18){if(L=E.return,L===null)throw Error(s(341));L.lanes|=f,V=L.alternate,V!==null&&(V.lanes|=f),vp(L,f,u),L=E.sibling}else L=E.child;if(L!==null)L.return=E;else for(L=E;L!==null;){if(L===u){L=null;break}if(E=L.sibling,E!==null){E.return=L.return,L=E;break}L=L.return}E=L}Jn(_,u,M.children,f),u=u.child}return u;case 9:return M=u.type,A=u.pendingProps.children,wc(u,f),M=Ar(M),A=A(M),u.flags|=1,Jn(_,u,A,f),u.child;case 14:return A=u.type,M=ko(A,u.pendingProps),M=ko(A.type,M),a_(_,u,A,M,f);case 15:return l_(_,u,u.type,u.pendingProps,f);case 17:return A=u.type,M=u.pendingProps,M=u.elementType===A?M:ko(A,M),_!==null&&(_.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,Wn(A)?(_=!0,Nn(u)):_=!1,wc(u,f),k1(u,A,M),L0(u,A,M,f),j0(null,u,A,!0,_,f);case 19:return Y0(_,u,f);case 22:return c_(_,u,f)}throw Error(s(156,u.tag))};function E_(_,u){return w0(_,u)}function xb(_,u,f,A){this.tag=_,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mo(_,u,f,A){return new xb(_,u,f,A)}function ws(_){return _=_.prototype,!(!_||!_.isReactComponent)}function C_(_){if(typeof _=="function")return ws(_)?1:0;if(_!=null){if(_=_.$$typeof,_===v)return 11;if(_===g)return 14}return 2}function Uc(_,u){var f=_.alternate;return f===null?(f=Mo(_.tag,u,_.key,_.mode),f.elementType=_.elementType,f.type=_.type,f.stateNode=_.stateNode,f.alternate=_,_.alternate=f):(f.pendingProps=u,f.type=_.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=_.flags&14680064,f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,u=_.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=_.sibling,f.index=_.index,f.ref=_.ref,f}function Yo(_,u,f,A,M,E){var L=2;if(A=_,typeof _=="function")ws(_)&&(L=1);else if(typeof _=="string")L=5;else e:switch(_){case c:return Xa(f.children,M,E,u);case h:L=8,M|=8;break;case d:return _=Mo(12,f,u,M|2),_.elementType=d,_.lanes=E,_;case x:return _=Mo(13,f,u,M),_.elementType=x,_.lanes=E,_;case y:return _=Mo(19,f,u,M),_.elementType=y,_.lanes=E,_;case w:return Ja(f,M,E,u);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case p:L=10;break e;case m:L=9;break e;case v:L=11;break e;case g:L=14;break e;case S:L=16,A=null;break e}throw Error(s(130,_==null?_:typeof _,""))}return u=Mo(L,f,u,M),u.elementType=_,u.type=A,u.lanes=E,u}function Xa(_,u,f,A){return _=Mo(7,_,A,u),_.lanes=f,_}function Ja(_,u,f,A){return _=Mo(22,_,A,u),_.elementType=w,_.lanes=f,_.stateNode={},_}function Md(_,u,f){return _=Mo(6,_,null,u),_.lanes=f,_}function Wp(_,u,f){return u=Mo(4,_.children!==null?_.children:[],_.key,u),u.lanes=f,u.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},u}function T_(_,u,f,A,M){this.tag=u,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=st,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=A,this.onRecoverableError=M,fe&&(this.mutableSourceEagerHydrationData=null)}function _b(_,u,f,A,M,E,L,V,re){return _=new T_(_,u,f,V,re),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Mo(3,null,null,u),_.current=E,E.stateNode=_,E.memoizedState={element:A,isDehydrated:f,cache:null,transitions:null},Oa(E),_}function R_(_){if(!_)return Nt;_=_._reactInternals;e:{if(I(_)!==_||_.tag!==1)throw Error(s(170));var u=_;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Wn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(_.tag===1){var f=_.type;if(Wn(f))return Uo(_,f,u)}return u}function P_(_){var u=_._reactInternals;if(u===void 0)throw typeof _.render=="function"?Error(s(188)):(_=Object.keys(_).join(","),Error(s(268,_)));return _=N(u),_===null?null:_.stateNode}function B_(_,u){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var f=_.retryLane;_.retryLane=f!==0&&f<u?f:u}}function uv(_,u){B_(_,u),(_=_.alternate)&&B_(_,u)}function I_(_){return _=N(_),_===null?null:_.stateNode}function sI(){return null}return e.attemptContinuousHydration=function(_){if(_.tag===13){var u=dr();$i(_,134217728,u),uv(_,134217728)}},e.attemptHydrationAtCurrentPriority=function(_){if(_.tag===13){var u=dr(),f=wi(_);$i(_,f,u),uv(_,f)}},e.attemptSynchronousHydration=function(_){switch(_.tag){case 3:var u=_.stateNode;if(u.current.memoizedState.isDehydrated){var f=_c(u.pendingLanes);f!==0&&(D1(u,f|1),br(u,sr()),!(kt&6)&&(Ic(),Fa()))}break;case 13:var A=dr();w_(function(){return $i(_,1,A)}),uv(_,1)}},e.batchedUpdates=function(_,u){var f=kt;kt|=1;try{return _(u)}finally{kt=f,kt===0&&(Ic(),Ao&&Fa())}},e.createComponentSelector=function(_){return{$$typeof:zp,value:_}},e.createContainer=function(_,u,f,A,M,E,L){return _b(_,u,!1,null,f,A,M,E,L)},e.createHasPseudoClassSelector=function(_){return{$$typeof:Ou,value:_}},e.createHydrationContainer=function(_,u,f,A,M,E,L,V,re){return _=_b(f,A,!0,_,M,E,L,V,re),_.context=R_(null),f=_.current,A=dr(),M=wi(f),E=Ua(A,M),E.callback=u??null,Or(f,E),_.current.lanes=M,Au(_,M,A),br(_,A),_},e.createPortal=function(_,u,f){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:u,implementation:f}},e.createRoleSelector=function(_){return{$$typeof:Uu,value:_}},e.createTestNameSelector=function(_){return{$$typeof:ku,value:_}},e.createTextSelector=function(_){return{$$typeof:zu,value:_}},e.deferredUpdates=function(_){var u=bn,f=fi.transition;try{return fi.transition=null,bn=16,_()}finally{bn=u,fi.transition=f}},e.discreteUpdates=function(_,u,f,A,M){var E=bn,L=fi.transition;try{return fi.transition=null,bn=1,_(u,f,A,M)}finally{bn=E,fi.transition=L,kt===0&&Ic()}},e.findAllNodes=rv,e.findBoundingRects=function(_,u){if(!at)throw Error(s(363));u=rv(_,u),_=[];for(var f=0;f<u.length;f++)_.push(F(u[f]));for(u=_.length-1;0<u;u--){f=_[u];for(var A=f.x,M=A+f.width,E=f.y,L=E+f.height,V=u-1;0<=V;V--)if(u!==V){var re=_[V],we=re.x,We=we+re.width,lt=re.y,yt=lt+re.height;if(A>=we&&E>=lt&&M<=We&&L<=yt){_.splice(u,1);break}else if(A!==we||f.width!==re.width||yt<E||lt>L){if(!(E!==lt||f.height!==re.height||We<A||we>M)){we>A&&(re.width+=we-A,re.x=A),We<M&&(re.width=M-we),_.splice(u,1);break}}else{lt>E&&(re.height+=lt-E,re.y=E),yt<L&&(re.height=L-lt),_.splice(u,1);break}}}return _},e.findHostInstance=P_,e.findHostInstanceWithNoPortals=function(_){return _=C(_),_=_!==null?W(_):null,_===null?null:_.stateNode},e.findHostInstanceWithWarning=function(_){return P_(_)},e.flushControlled=function(_){var u=kt;kt|=1;var f=fi.transition,A=bn;try{fi.transition=null,bn=1,_()}finally{bn=A,fi.transition=f,kt=u,kt===0&&(Ic(),Fa())}},e.flushPassiveEffects=Xu,e.flushSync=w_,e.focusWithin=function(_,u){if(!at)throw Error(s(363));for(_=Hu(_),u=iv(_,u),u=Array.from(u),_=0;_<u.length;){var f=u[_++];if(!ge(f)){if(f.tag===5&&Se(f.stateNode))return!0;for(f=f.child;f!==null;)u.push(f),f=f.sibling}}return!1},e.getCurrentUpdatePriority=function(){return bn},e.getFindAllNodesFailureDescription=function(_,u){if(!at)throw Error(s(363));var f=0,A=[];_=[Hu(_),0];for(var M=0;M<_.length;){var E=_[M++],L=_[M++],V=u[L];if((E.tag!==5||!ge(E))&&(Hp(E,V)&&(A.push(Gp(V)),L++,L>f&&(f=L)),L<u.length))for(E=E.child;E!==null;)_.push(E,L),E=E.sibling}if(f<u.length){for(_=[];f<u.length;f++)_.push(Gp(u[f]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+_.join(" > ")}return null},e.getPublicRootInstance=function(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 5:return Q(_.child.stateNode);default:return _.child.stateNode}},e.injectIntoDevTools=function(_){if(_={bundleType:_.bundleType,version:_.version,rendererPackageName:_.rendererPackageName,rendererConfig:_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:I_,findFiberByHostInstance:_.findFiberByHostInstance||sI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")_=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)_=!0;else{try{b0=u.inject(_),Zs=u}catch{}_=!!u.checkDCE}}return _},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(_,u,f,A){if(!at)throw Error(s(363));_=rv(_,u);var M=qe(_,f,A).disconnect;return{disconnect:function(){M()}}},e.registerMutableSourceForHydration=function(_,u){var f=u._getVersion;f=f(u._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[u,f]:_.mutableSourceEagerHydrationData.push(u,f)},e.runWithPriority=function(_,u){var f=bn;try{return bn=_,u()}finally{bn=f}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(_,u,f,A){var M=u.current,E=dr(),L=wi(M);return f=R_(f),u.context===null?u.context=f:u.pendingContext=f,u=Ua(E,L),u.payload={element:_},A=A===void 0?null:A,A!==null&&(u.callback=A),Or(M,u),_=$i(M,L,E),_!==null&&zo(_,M,L),L},e};EZ.exports=ixe;var rxe=EZ.exports;const sxe=N2(rxe);var CZ={exports:{}},TZ={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(D,z){var H=D.length;D.push(z);e:for(;0<H;){var ee=H-1>>>1,pe=D[ee];if(0<r(pe,z))D[ee]=z,D[H]=pe,H=ee;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var ee=0,pe=D.length,ke=pe>>>1;ee<ke;){var ne=2*(ee+1)-1,ve=D[ne],be=ne+1,xe=D[be];if(0>r(ve,H))be<pe&&0>r(xe,ve)?(D[ee]=xe,D[be]=H,ee=be):(D[ee]=ve,D[ne]=H,ee=ne);else if(be<pe&&0>r(xe,H))D[ee]=xe,D[be]=H,ee=be;else break e}}return z}function r(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=D)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function b(D){if(x=!1,w(D),!v)if(t(l)!==null)v=!0,Y(P);else{var z=t(c);z!==null&&ie(b,z.startTime-D)}}function P(D,z){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var H=p;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var pe=ee(d.expirationTime<=z);z=n.unstable_now(),typeof pe=="function"?d.callback=pe:d===t(l)&&i(l),w(z)}else i(l);d=t(l)}if(d!==null)var ke=!0;else{var ne=t(c);ne!==null&&ie(b,ne.startTime-z),ke=!1}return ke}finally{d=null,p=H,m=!1}}var T=!1,B=null,I=-1,R=5,C=-1;function N(){return!(n.unstable_now()-C<R)}function j(){if(B!==null){var D=n.unstable_now();C=D;var z=!0;try{z=B(!0,D)}finally{z?W():(T=!1,B=null)}}else T=!1}var W;if(typeof S=="function")W=function(){S(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){y(j,0)};function Y(D){B=D,T||(T=!0,W())}function ie(D,z){I=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Y(P))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var H=p;p=z;try{return D()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return z()}finally{p=H}},n.unstable_scheduleCallback=function(D,z,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:h++,callback:z,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ee?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(x?(g(I),I=-1):x=!0,ie(b,H-ee))):(D.sortIndex=pe,e(l,D),v||m||(v=!0,Y(P))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var z=p;return function(){var H=p;p=z;try{return D.apply(this,arguments)}finally{p=H}}}})(TZ);CZ.exports=TZ;var M8=CZ.exports;const oxe=n=>typeof n=="object"&&typeof n.then=="function",Ym=[];function RZ(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function PZ(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Ym)if(RZ(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Ym.indexOf(r);s!==-1&&Ym.splice(s,1)},promise:(oxe(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Ym.push(r),!t)throw r.promise}const axe=(n,e,t)=>PZ(n,e,!1,t),lxe=(n,e,t)=>void PZ(n,e,!0,t),cxe=n=>{if(n===void 0||n.length===0)Ym.splice(0,Ym.length);else{const e=Ym.find(t=>RZ(n,t.keys,t.equal));e&&e.remove()}},tz={},uxe=n=>void Object.assign(tz,n);function hxe(n,e){function t(c,{args:h=[],attach:d,...p},m){let v=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=p.object;x=ay(y,{type:c,root:m,attach:d,primitive:!0})}else{const y=tz[v];if(!y)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=ay(new y(...h),{type:c,root:m,attach:d,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof an?x.__r3f.attach="geometry":x instanceof vr&&(x.__r3f.attach="material")),v!=="inject"&&AL(x,p),x}function i(c,h){let d=!1;if(h){var p,m;(p=h.__r3f)!=null&&p.attach?_L(c,h,h.__r3f.attach):h.isObject3D&&c.isObject3D&&(c.add(h),d=!0),d||(m=c.__r3f)==null||m.objects.push(h),h.__r3f||ay(h,{}),h.__r3f.parent=c,bN(h),ly(h)}}function r(c,h,d){let p=!1;if(h){var m,v;if((m=h.__r3f)!=null&&m.attach)_L(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){h.parent=c,h.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:h});const x=c.children.filter(g=>g!==h),y=x.indexOf(d);c.children=[...x.slice(0,y),h,...x.slice(y)],p=!0}p||(v=c.__r3f)==null||v.objects.push(h),h.__r3f||ay(h,{}),h.__r3f.parent=c,bN(h),ly(h)}}function s(c,h,d=!1){c&&[...c].forEach(p=>o(h,p,d))}function o(c,h,d){if(h){var p,m,v;if(h.__r3f&&(h.__r3f.parent=null),(p=c.__r3f)!=null&&p.objects&&(c.__r3f.objects=c.__r3f.objects.filter(w=>w!==h)),(m=h.__r3f)!=null&&m.attach)R8(c,h,h.__r3f.attach);else if(h.isObject3D&&c.isObject3D){var x;c.remove(h),(x=h.__r3f)!=null&&x.root&&_xe(bT(h),h)}const g=(v=h.__r3f)==null?void 0:v.primitive,S=!g&&(d===void 0?h.dispose!==null:d);if(!g){var y;s((y=h.__r3f)==null?void 0:y.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const w=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?M8.unstable_scheduleCallback(M8.unstable_IdlePriority,w):w()}ly(c)}}function a(c,h,d,p){var m;const v=(m=c.__r3f)==null?void 0:m.parent;if(!v)return;const x=t(h,d,c.__r3f.root);if(c.children){for(const y of c.children)y.__r3f&&i(x,y);c.children=c.children.filter(y=>!y.__r3f)}c.__r3f.objects.forEach(y=>i(x,y)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(v,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(v,x),x.raycast&&x.__r3f.eventCount&&bT(x).getState().internal.interaction.push(x),[p,p.alternate].forEach(y=>{y!==null&&(y.stateNode=x,y.ref&&(typeof y.ref=="function"?y.ref(x):y.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:sxe({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,h)=>{if(!h)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,i(d,h))},removeChildFromContainer:(c,h)=>{h&&o(c.getState().scene,h)},insertInContainerBefore:(c,h,d)=>{if(!h||!d)return;const p=c.getState().scene;p.__r3f&&r(p,h,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var h;return!!((h=c==null?void 0:c.__r3f)!=null?h:{}).handlers},prepareUpdate(c,h,d,p){var m;if(((m=c==null?void 0:c.__r3f)!=null?m:{}).primitive&&p.object&&p.object!==c)return[!0];{const{args:v=[],children:x,...y}=p,{args:g=[],children:S,...w}=d;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((P,T)=>P!==g[T]))return[!0];const b=OZ(c,y,w,!0);return b.changes.length?[!1,b]:null}},commitUpdate(c,[h,d],p,m,v,x){h?a(c,p,v,x):AL(c,d)},commitMount(c,h,d,p){var m;const v=(m=c.__r3f)!=null?m:{};c.raycast&&v.handlers&&v.eventCount&&bT(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>ay(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var h;const{attach:d,parent:p}=(h=c.__r3f)!=null?h:{};d&&p&&R8(p,c,d),c.isObject3D&&(c.visible=!1),ly(c)},unhideInstance(c,h){var d;const{attach:p,parent:m}=(d=c.__r3f)!=null?d:{};p&&m&&_L(m,c,p),(c.isObject3D&&h.visible==null||h.visible)&&(c.visible=!0),ly(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Cy.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&vi.fun(performance.now)?performance.now:vi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:vi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:vi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:AL}}var b8,E8;const xL=n=>"colorSpace"in n||"outputColorSpace"in n,BZ=()=>{var n;return(n=tz.ColorManagement)!=null?n:null},IZ=n=>n&&n.isOrthographicCamera,dxe=n=>n&&n.hasOwnProperty("current"),vM=typeof window<"u"&&((b8=window.document)!=null&&b8.createElement||((E8=window.navigator)==null?void 0:E8.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function LZ(n){const e=ue.useRef(n);return vM(()=>void(e.current=n),[n]),e}function fxe({set:n}){return vM(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class DZ extends ue.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}DZ.getDerivedStateFromError=()=>({error:!0});const FZ="__default",C8=new Map,pxe=n=>n&&!!n.memoized&&!!n.changes;function NZ(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Z_=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function bT(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vi={obj:n=>n===Object(n)&&!vi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(vi.str(n)||vi.num(n))return n===e;const s=vi.obj(n);if(s&&i==="reference")return n===e;const o=vi.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!vi.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(vi.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function mxe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function gxe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function ay(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function MN(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const T8=/-\d+$/;function _L(n,e,t){if(vi.str(t)){if(T8.test(t)){const s=t.replace(T8,""),{target:o,key:a}=MN(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=MN(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function R8(n,e,t){var i,r;if(vi.str(t)){const{target:s,key:o}=MN(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function OZ(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const h=n.__r3f,d=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||d.unshift([v[x],FZ+"remove"])}d.forEach(([v,x])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||vi.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,x,!1,g]);for(const S in r){const w=r[S];S.startsWith(`${v}-`)&&p.push([S,w,!1,S.split("-")])}});const m={...r};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}const vxe=typeof process<"u"&&!1;function AL(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=pxe(e)?e:OZ(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let c=0;c<a.length;c++){let[h,d,p,m]=a[c];if(xL(n)){const y="srgb",g="srgb-linear";h==="encoding"?(h="colorSpace",d=d===3001?y:g):h==="outputEncoding"&&(h="outputColorSpace",d=d===3001?y:g)}let v=n,x=v[h];if(m.length&&(x=m.reduce((y,g)=>y[g],n),!(x&&x.set))){const[y,...g]=m.reverse();v=g.reverse().reduce((S,w)=>S[w],n),h=y}if(d===FZ+"remove")if(v.constructor){let y=C8.get(v.constructor);y||(y=new v.constructor,C8.set(v.constructor,y)),d=y[h]}else d=0;if(p&&i)d?i.handlers[h]=d:delete i.handlers[h],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof gg)){if(Array.isArray(d))x.fromArray?x.fromArray(d):x.set(...d);else if(x.copy&&d&&d.constructor&&(vxe?x.constructor.name===d.constructor.name:x.constructor===d.constructor))x.copy(d);else if(d!==void 0){const y=x instanceof Et;!y&&x.setScalar?x.setScalar(d):x instanceof gg&&d instanceof gg?x.mask=d.mask:x.set(d),!BZ()&&s&&!s.linear&&y&&x.convertSRGBToLinear()}}else if(v[h]=d,v[h]instanceof ri&&v[h].format===co&&v[h].type===cu&&s){const y=v[h];xL(y)&&xL(s.gl)?y.colorSpace=s.gl.outputColorSpace:y.encoding=s.gl.outputEncoding}ly(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const c=bT(n).getState().internal,h=c.interaction.indexOf(n);h>-1&&c.interaction.splice(h,1),i.eventCount&&c.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&bN(n),n}function ly(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function bN(n){n.onUpdate==null||n.onUpdate(n)}function yxe(n,e){n.manual||(IZ(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function PE(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function xxe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Cy.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Cy.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Cy.ContinuousEventPriority;default:return Cy.DefaultEventPriority}}function UZ(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function _xe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{UZ(t.capturedMap,e,i,r)})}function Axe(n){function e(l){const{internal:c}=n.getState(),h=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,c){const h=n.getState(),d=new Set,p=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const S=Z_(m[g]);S&&(S.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const S=Z_(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,S)=>{const w=Z_(g.object),b=Z_(S.object);return!w||!b?g.distance-S.distance:b.events.priority-w.events.priority||g.distance-S.distance}).filter(g=>{const S=PE(g);return d.has(S)?!1:(d.add(S),!0)});h.events.filter&&(x=h.events.filter(x,h));for(const g of x){let S=g.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(PE(g.intersection))||p.push(g.intersection);return p}function r(l,c,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=Z_(v.object)||p,{raycaster:y,pointer:g,camera:S,internal:w}=x,b=new ce(g.x,g.y,0).unproject(S),P=C=>{var N,j;return(N=(j=w.capturedMap.get(C))==null?void 0:j.has(v.eventObject))!=null?N:!1},T=C=>{const N={intersection:v,target:c.target};w.capturedMap.has(C)?w.capturedMap.get(C).set(v.eventObject,N):w.capturedMap.set(C,new Map([[v.eventObject,N]])),c.target.setPointerCapture(C)},B=C=>{const N=w.capturedMap.get(C);N&&UZ(w.capturedMap,v.eventObject,N,C)};let I={};for(let C in c){let N=c[C];typeof N!="function"&&(I[C]=N)}let R={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:b,ray:y.ray,camera:S,stopPropagation(){const C="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!C||C.has(v.eventObject))&&(R.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(N=>N.eventObject===v.eventObject))){const N=l.slice(0,l.indexOf(v));s([...N,v])}},target:{hasPointerCapture:P,setPointerCapture:T,releasePointerCapture:B},currentTarget:{hasPointerCapture:P,setPointerCapture:T,releasePointerCapture:B},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const d=h.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(PE(h)),d!=null&&d.eventCount){const m={...h,intersections:l};p.onPointerOut==null||p.onPointerOut(m),p.onPointerLeave==null||p.onPointerLeave(m)}}}function o(l,c){for(let h=0;h<c.length;h++){const d=c[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(c){const{onPointerMissed:h,internal:d}=n.getState();d.lastEvent.current=c;const p=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=i(c,p?t:void 0),x=m?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=v.map(g=>g.eventObject)),m&&!v.length&&x<=2&&(o(c,d.interaction),h&&h(c)),p&&s(v);function y(g){const S=g.eventObject,w=S.__r3f,b=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(p){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const P=PE(g),T=d.hovered.get(P);T?T.stopped&&g.stopPropagation():(d.hovered.set(P,g),b.onPointerOver==null||b.onPointerOver(g),b.onPointerEnter==null||b.onPointerEnter(g))}b.onPointerMove==null||b.onPointerMove(g)}else{const P=b[l];P?(!m||d.initialHits.includes(S))&&(o(c,d.interaction.filter(T=>!d.initialHits.includes(T))),P(g)):m&&d.initialHits.includes(S)&&o(c,d.interaction.filter(T=>!d.initialHits.includes(T)))}}r(v,c,x,y)}}return{handlePointer:a}}const kZ=n=>!!(n!=null&&n.render),zZ=ue.createContext(null),Sxe=(n,e)=>{const t=bZ((a,l)=>{const c=new ce,h=new ce,d=new ce;function p(y=l().camera,g=h,S=l().size){const{width:w,height:b,top:P,left:T}=S,B=w/b;g instanceof ce?d.copy(g):d.set(...g);const I=y.getWorldPosition(c).distanceTo(d);if(IZ(y))return{width:w/y.zoom,height:b/y.zoom,top:P,left:T,factor:1,distance:I,aspect:B};{const R=y.fov*Math.PI/180,C=2*Math.tan(R/2)*I,N=C*(w/b);return{width:N,height:C,top:P,left:T,factor:w/N,distance:I,aspect:B}}}let m;const v=y=>a(g=>({performance:{...g.performance,current:y}})),x=new it;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>n(l(),y),advance:(y,g)=>e(y,g,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new q4,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();m&&clearTimeout(m),y.performance.current!==y.performance.min&&v(y.performance.min),m=setTimeout(()=>v(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:y=>a(g=>({...g,events:{...g.events,...y}})),setSize:(y,g,S,w,b)=>{const P=l().camera,T={width:y,height:g,top:w||0,left:b||0,updateStyle:S};a(B=>({size:T,viewport:{...B.viewport,...p(P,h,T)}}))},setDpr:y=>a(g=>{const S=NZ(y);return{viewport:{...g.viewport,dpr:S,initialDpr:g.viewport.initialDpr||S}}}),setFrameloop:(y="always")=>{const g=l().clock;g.stop(),g.elapsedTime=0,y!=="never"&&(g.start(),g.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ue.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,g,S)=>{const w=l().internal;return w.priority=w.priority+(g>0?1:0),w.subscribers.push({ref:y,priority:g,store:S}),w.subscribers=w.subscribers.sort((b,P)=>b.priority-P.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(g>0?1:0),b.subscribers=b.subscribers.filter(P=>P.ref!==y))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:h,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,yxe(a,l),h.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let BE,wxe=new Set,Mxe=new Set,bxe=new Set;function SL(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function eA(n,e){switch(n){case"before":return SL(wxe,e);case"after":return SL(Mxe,e);case"tail":return SL(bxe,e)}}let wL,ML;function bL(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),wL=e.internal.subscribers,BE=0;BE<wL.length;BE++)ML=wL[BE],ML.ref.current(ML.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Exe(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,eA("before",c),t=!0;for(const d of n.values()){var h;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(i+=bL(c,s))}if(t=!1,eA("after",c),i===0)return eA("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,h=1){var d;if(!c)return n.forEach(p=>a(p.store.getState(),h));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(h>1?c.internal.frames=Math.min(60,c.internal.frames+h):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,h=!0,d,p){if(h&&eA("before",c),d)bL(c,d,p);else for(const m of n.values())bL(c,m.store.getState());h&&eA("after",c)}return{loop:o,invalidate:a,advance:l}}function HZ(){const n=ue.useContext(zZ);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ta(n=t=>t,e){return HZ()(n,e)}function m1(n,e=0){const t=HZ(),i=t.getState().internal.subscribe,r=LZ(n);return vM(()=>i(r,e,t),[e,i,t]),null}const P8=new WeakMap;function GZ(n,e){return function(t,...i){let r=P8.get(t);return r||(r=new t,P8.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,mxe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function rp(n,e,t,i){const r=Array.isArray(e)?e:[e],s=axe(GZ(t,i),[n,...r],{equal:vi.equ});return Array.isArray(e)?s:s[0]}rp.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return lxe(GZ(t),[n,...i])};rp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return cxe([n,...t])};const Fx=new Map,{invalidate:B8,advance:I8}=Exe(Fx),{reconciler:BR,applyProps:jc}=hxe(Fx,xxe),Dv={objects:"shallow",strict:!1},Cxe=(n,e)=>{const t=typeof n=="function"?n(e):n;return kZ(t)?t:new B$({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Txe(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Rxe(n){const e=Fx.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Sxe(B8,I8),o=t||BR.createContainer(s,Cy.ConcurrentRoot,null,!1,null,"",r,null);e||Fx.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(h={}){let{gl:d,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:S=!1,legacy:w=!1,orthographic:b=!1,frameloop:P="always",dpr:T=[1,2],performance:B,raycaster:I,camera:R,onPointerMissed:C}=h,N=s.getState(),j=N.gl;N.gl||N.set({gl:j=Cxe(d,n)});let W=N.raycaster;W||N.set({raycaster:W=new SZ});const{params:X,...Q}=I||{};if(vi.equ(Q,W,Dv)||jc(W,{...Q}),vi.equ(X,W.params,Dv)||jc(W,{params:{...W.params,...X}}),!N.camera||N.camera===c&&!vi.equ(c,R,Dv)){c=R;const H=R instanceof uM,ee=H?R:b?new pl(0,0,0,0,.1,1e3):new xi(75,0,.1,1e3);H||(ee.position.z=5,R&&(jc(ee,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(ee.manual=!0,ee.updateProjectionMatrix())),!N.camera&&!(R!=null&&R.rotation)&&ee.lookAt(0,0,0)),N.set({camera:ee}),W.camera=ee}if(!N.scene){let H;m instanceof CR?H=m:(H=new CR,m&&jc(H,m)),N.set({scene:ay(H)})}if(!N.xr){var Y;const H=(ke,ne)=>{const ve=s.getState();ve.frameloop!=="never"&&I8(ke,!0,ve,ne)},ee=()=>{const ke=s.getState();ke.gl.xr.enabled=ke.gl.xr.isPresenting,ke.gl.xr.setAnimationLoop(ke.gl.xr.isPresenting?H:null),ke.gl.xr.isPresenting||B8(ke)},pe={connect(){const ke=s.getState().gl;ke.xr.addEventListener("sessionstart",ee),ke.xr.addEventListener("sessionend",ee)},disconnect(){const ke=s.getState().gl;ke.xr.removeEventListener("sessionstart",ee),ke.xr.removeEventListener("sessionend",ee)}};typeof((Y=j.xr)==null?void 0:Y.addEventListener)=="function"&&pe.connect(),N.set({xr:pe})}if(j.shadowMap){const H=j.shadowMap.enabled,ee=j.shadowMap.type;if(j.shadowMap.enabled=!!y,vi.boo(y))j.shadowMap.type=rS;else if(vi.str(y)){var ie;const pe={basic:lq,percentage:nP,soft:rS,variance:Wl};j.shadowMap.type=(ie=pe[y])!=null?ie:rS}else vi.obj(y)&&Object.assign(j.shadowMap,y);(H!==j.shadowMap.enabled||ee!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const D=BZ();D&&("enabled"in D?D.enabled=!w:"legacyMode"in D&&(D.legacyMode=w)),l||jc(j,{outputEncoding:g?3e3:3001,toneMapping:S?eu:r4}),N.legacy!==w&&N.set(()=>({legacy:w})),N.linear!==g&&N.set(()=>({linear:g})),N.flat!==S&&N.set(()=>({flat:S})),d&&!vi.fun(d)&&!kZ(d)&&!vi.equ(d,j,Dv)&&jc(j,d),v&&!N.events.handlers&&N.set({events:v(s)});const z=Txe(n,p);return vi.equ(z,N.size,Dv)||N.setSize(z.width,z.height,z.updateStyle,z.top,z.left),T&&N.viewport.dpr!==NZ(T)&&N.setDpr(T),N.frameloop!==P&&N.setFrameloop(P),N.onPointerMissed||N.set({onPointerMissed:C}),B&&!vi.equ(B,N.performance,Dv)&&N.set(H=>({performance:{...H.performance,...B}})),a=x,l=!0,this},render(h){return l||this.configure(),BR.updateContainer(Pe.jsx(Pxe,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){VZ(n)}}}function Pxe({store:n,children:e,onCreated:t,rootElement:i}){return vM(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Pe.jsx(zZ.Provider,{value:n,children:e})}function VZ(n,e){const t=Fx.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),BR.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),gxe(r),Fx.delete(n)}catch{}},500)})}}BR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ue.version});function EN(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}EN.debounce=EN;var Bxe=EN;const L8=N2(Bxe);function Ixe(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=ue.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ue.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=ue.useRef(!1);ue.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=ue.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:w,top:b,width:P,height:T,bottom:B,right:I,x:R,y:C}=l.current.element.getBoundingClientRect(),N={left:w,top:b,width:P,height:T,bottom:B,right:I,x:R,y:C};l.current.element instanceof HTMLElement&&r&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),d.current&&!Nxe(l.current.lastBounds,N)&&a(l.current.lastBounds=N)};return[S,h?L8(S,h):S,c?L8(S,c):S]},[a,r,c,h]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=jZ(S),y())};return Dxe(v,!!t),Lxe(m),ue.useEffect(()=>{x(),y()},[t,v,m]),ue.useEffect(()=>x,[]),[g,o,p]}function Lxe(n){ue.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Dxe(n,e){ue.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function jZ(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...jZ(n.parentElement)]}const Fxe=["x","y","top","bottom","left","right","width","height"],Nxe=(n,e)=>Fxe.every(t=>n[t]===e[t]);var Oxe=Object.defineProperty,Uxe=Object.defineProperties,kxe=Object.getOwnPropertyDescriptors,D8=Object.getOwnPropertySymbols,zxe=Object.prototype.hasOwnProperty,Hxe=Object.prototype.propertyIsEnumerable,F8=(n,e,t)=>e in n?Oxe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N8=(n,e)=>{for(var t in e||(e={}))zxe.call(e,t)&&F8(n,t,e[t]);if(D8)for(var t of D8(e))Hxe.call(e,t)&&F8(n,t,e[t]);return n},Gxe=(n,e)=>Uxe(n,kxe(e)),O8,U8;typeof window<"u"&&((O8=window.document)!=null&&O8.createElement||((U8=window.navigator)==null?void 0:U8.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function WZ(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=WZ(i,e,t);if(r)return r;i=i.sibling}}function XZ(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const k8=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=k8;return}return k8.apply(this,arguments)};const nz=XZ(ue.createContext(null));class JZ extends ue.Component{render(){return ue.createElement(nz.Provider,{value:this._reactInternals},this.props.children)}}function Vxe(){const n=ue.useContext(nz);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ue.useId();return ue.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=WZ(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}function jxe(){const n=Vxe(),[e]=ue.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==nz&&!e.has(i)&&e.set(i,ue.useContext(XZ(i)))}t=t.return}return e}function Wxe(){const n=jxe();return ue.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ue.createElement(e,null,ue.createElement(t.Provider,Gxe(N8({},i),{value:n.get(t)}))),e=>ue.createElement(JZ,N8({},e))),[n])}const EL={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xxe(n){const{handlePointer:e}=Axe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(EL).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=EL[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=EL[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Jxe=ue.forwardRef(function({children:n,fallback:e,resize:t,style:i,gl:r,events:s=Xxe,eventSource:o,eventPrefix:a,shadows:l,linear:c,flat:h,legacy:d,orthographic:p,frameloop:m,dpr:v,performance:x,raycaster:y,camera:g,scene:S,onPointerMissed:w,onCreated:b,...P},T){ue.useMemo(()=>uxe($ye),[]);const B=Wxe(),[I,R]=Ixe({scroll:!0,debounce:{scroll:50,resize:0},...t}),C=ue.useRef(null),N=ue.useRef(null);ue.useImperativeHandle(T,()=>C.current);const j=LZ(w),[W,X]=ue.useState(!1),[Q,Y]=ue.useState(!1);if(W)throw W;if(Q)throw Q;const ie=ue.useRef(null);vM(()=>{const z=C.current;R.width>0&&R.height>0&&z&&(ie.current||(ie.current=Rxe(z)),ie.current.configure({gl:r,events:s,shadows:l,linear:c,flat:h,legacy:d,orthographic:p,frameloop:m,dpr:v,performance:x,raycaster:y,camera:g,scene:S,size:R,onPointerMissed:(...H)=>j.current==null?void 0:j.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(o?dxe(o)?o.current:o:N.current),a&&H.setEvents({compute:(ee,pe)=>{const ke=ee[a+"X"],ne=ee[a+"Y"];pe.pointer.set(ke/pe.size.width*2-1,-(ne/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),b==null||b(H)}}),ie.current.render(Pe.jsx(B,{children:Pe.jsx(DZ,{set:Y,children:Pe.jsx(ue.Suspense,{fallback:Pe.jsx(fxe,{set:X}),children:n})})})))}),ue.useEffect(()=>{const z=C.current;if(z)return()=>VZ(z)},[]);const D=o?"none":"auto";return Pe.jsx("div",{ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...i},...P,children:Pe.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:Pe.jsx("canvas",{ref:C,style:{display:"block"},children:e})})})}),TP=ue.forwardRef(function(n,e){return Pe.jsx(JZ,{children:Pe.jsx(Jxe,{...n,ref:e})})});function uu(){return uu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},uu.apply(null,arguments)}const yM=new ce,iz=new ce,Kxe=new ce,z8=new it;function Yxe(n,e,t){const i=yM.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function Qxe(n,e){const t=yM.setFromMatrixPosition(n.matrixWorld),i=iz.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(Kxe);return r.angleTo(s)>Math.PI/2}function qxe(n,e,t,i){const r=yM.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),z8.set(s.x,s.y),t.setFromCamera(z8,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function $xe(n,e){if(e instanceof pl)return e.zoom;if(e instanceof xi){const t=yM.setFromMatrixPosition(n.matrixWorld),i=iz.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function Zxe(n,e,t){if(e instanceof xi||e instanceof pl){const i=yM.setFromMatrixPosition(n.matrixWorld),r=iz.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const CN=n=>Math.abs(n)<1e-10?0:n;function KZ(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=CN(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const e1e=(n=>e=>KZ(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),t1e=(n=>(e,t)=>KZ(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function n1e(n){return n&&typeof n=="object"&&"current"in n}const i1e=ue.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:x,geometry:y,zIndexRange:g=[16777271,0],calculatePosition:S=Yxe,as:w="div",wrapperClass:b,pointerEvents:P="auto",...T},B)=>{const{gl:I,camera:R,scene:C,size:N,raycaster:j,events:W,viewport:X}=ta(),[Q]=ue.useState(()=>document.createElement(w)),Y=ue.useRef(),ie=ue.useRef(null),D=ue.useRef(0),z=ue.useRef([0,0]),H=ue.useRef(null),ee=ue.useRef(null),pe=(a==null?void 0:a.current)||W.connected||I.domElement.parentNode,ke=ue.useRef(null),ne=ue.useRef(!1),ve=ue.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&n1e(d[0]),[d]);ue.useLayoutEffect(()=>{const Ge=I.domElement;d&&d==="blending"?(Ge.style.zIndex=`${Math.floor(g[0]/2)}`,Ge.style.position="absolute",Ge.style.pointerEvents="none"):(Ge.style.zIndex=null,Ge.style.position=null,Ge.style.pointerEvents=null)},[d]),ue.useLayoutEffect(()=>{if(ie.current){const Ge=Y.current=YQ(Q);if(C.updateMatrixWorld(),h)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const U=S(ie.current,R,N);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${U[0]}px,${U[1]}px,0);transform-origin:0 0;`}return pe&&(r?pe.prepend(Q):pe.appendChild(Q)),()=>{pe&&pe.removeChild(Q),Ge.unmount()}}},[pe,h]),ue.useLayoutEffect(()=>{b&&(Q.className=b)},[b]);const be=ue.useMemo(()=>h?{position:"absolute",top:0,left:0,width:N.width,height:N.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-N.height/2,left:-N.width/2,width:N.width,height:N.height},...t},[t,s,o,N,h]),xe=ue.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);ue.useLayoutEffect(()=>{if(ne.current=!1,h){var Ge;(Ge=Y.current)==null||Ge.render(ue.createElement("div",{ref:H,style:be},ue.createElement("div",{ref:ee,style:xe},ue.createElement("div",{ref:B,className:i,style:t,children:n}))))}else{var U;(U=Y.current)==null||U.render(ue.createElement("div",{ref:B,style:be,className:i,children:n}))}});const st=ue.useRef(!0);m1(Ge=>{if(ie.current){R.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const U=h?z.current:S(ie.current,R,N);if(h||Math.abs(D.current-R.zoom)>e||Math.abs(z.current[0]-U[0])>e||Math.abs(z.current[1]-U[1])>e){const fe=Qxe(ie.current,R);let me=!1;ve&&(Array.isArray(d)?me=d.map(Oe=>Oe.current):d!=="blending"&&(me=[C]));const Ce=st.current;if(me){const Oe=qxe(ie.current,R,j,me);st.current=Oe&&!fe}else st.current=!fe;Ce!==st.current&&(p?p(!st.current):Q.style.display=st.current?"block":"none");const _e=Math.floor(g[0]/2),Ne=d?ve?[g[0],_e]:[_e-1,0]:g;if(Q.style.zIndex=`${Zxe(ie.current,R,Ne)}`,h){const[Oe,Re]=[N.width/2,N.height/2],at=R.projectionMatrix.elements[5]*Re,{isOrthographicCamera:k,top:F,left:se,bottom:ge,right:Ae}=R,Se=e1e(R.matrixWorldInverse),qe=k?`scale(${at})translate(${CN(-(Ae+se)/2)}px,${CN((F+ge)/2)}px)`:`translateZ(${at}px)`;let Ie=ie.current.matrixWorld;c&&(Ie=R.matrixWorldInverse.clone().transpose().copyPosition(Ie).scale(ie.current.scale),Ie.elements[3]=Ie.elements[7]=Ie.elements[11]=0,Ie.elements[15]=1),Q.style.width=N.width+"px",Q.style.height=N.height+"px",Q.style.perspective=k?"":`${at}px`,H.current&&ee.current&&(H.current.style.transform=`${qe}${Se}translate(${Oe}px,${Re}px)`,ee.current.style.transform=t1e(Ie,1/((l||10)/400)))}else{const Oe=l===void 0?1:$xe(ie.current,R)*l;Q.style.transform=`translate3d(${U[0]}px,${U[1]}px,0) scale(${Oe})`}z.current=U,D.current=R.zoom}}if(!ve&&ke.current&&!ne.current)if(h){if(H.current){const U=H.current.children[0];if(U!=null&&U.clientWidth&&U!=null&&U.clientHeight){const{isOrthographicCamera:fe}=R;if(fe||y)T.scale&&(Array.isArray(T.scale)?T.scale instanceof ce?ke.current.scale.copy(T.scale.clone().divideScalar(1)):ke.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):ke.current.scale.setScalar(1/T.scale));else{const me=(l||10)/400,Ce=U.clientWidth*me,_e=U.clientHeight*me;ke.current.scale.set(Ce,_e,1)}ne.current=!0}}}else{const U=Q.children[0];if(U!=null&&U.clientWidth&&U!=null&&U.clientHeight){const fe=1/X.factor,me=U.clientWidth*fe,Ce=U.clientHeight*fe;ke.current.scale.set(me,Ce,1),ne.current=!0}ke.current.lookAt(Ge.camera.position)}});const Ke=ue.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return ue.createElement("group",uu({},T,{ref:ie}),d&&!ve&&ue.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ke},y||ue.createElement("planeGeometry",null),x||ue.createElement("shaderMaterial",{side:ul,vertexShader:Ke.vertexShader,fragmentShader:Ke.fragmentShader})))});let tA=0;const r1e=bZ(n=>(Ey.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-tA)/(i-tA)*100})},Ey.onLoad=()=>{n({active:!1})},Ey.onError=e=>n(t=>({errors:[...t.errors,e]})),Ey.onProgress=(e,t,i)=>{t===i&&(tA=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-tA)/(i-tA)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ax(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function G8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(t),!0).forEach(function(i){ax(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new it;new it;function YZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ya=function n(e,t,i){var r=this;YZ(this,n),ax(this,"dot2",function(s,o){return r.x*s+r.y*o}),ax(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},s1e=[new Ya(1,1,0),new Ya(-1,1,0),new Ya(1,-1,0),new Ya(-1,-1,0),new Ya(1,0,1),new Ya(-1,0,1),new Ya(1,0,-1),new Ya(-1,0,-1),new Ya(0,1,1),new Ya(0,-1,1),new Ya(0,1,-1),new Ya(0,-1,-1)],V8=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],j8=new Array(512),W8=new Array(512),o1e=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var e=0;e<256;e++){var t;e&1?t=V8[e]^n&255:t=V8[e]^n>>8&255,j8[e]=j8[e+256]=t,W8[e]=W8[e+256]=s1e[t%12]}};o1e(0);function a1e(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function X8(n){var e=a1e(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var l1e=function n(e){var t=this;YZ(this,n),ax(this,"seed",0),ax(this,"init",function(i){t.seed=i,t.value=X8(i)}),ax(this,"value",X8(this.seed)),this.init(e)},c1e=new l1e(Math.random()),u1e={radius:1,center:[0,0,0]};function h1e(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c1e,i=G8(G8({},u1e),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,h=t.value()*2-1,d=Math.sqrt(l*l+c*c+h*h);l=a*l/d,c=a*c/d,h=a*h/d,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=h*r+s[2]}return n}function J8(n,e){if(e===t$)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===ER||e===f4){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===ER)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const d1e=parseInt(l1.replace(/\D+/g,""));var f1e=Object.defineProperty,p1e=(n,e,t)=>e in n?f1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rn=(n,e,t)=>(p1e(n,typeof e!="symbol"?e+"":e,t),t);const IE=new l0,K8=new uh,m1e=Math.cos(70*(Math.PI/180)),Y8=(n,e)=>(n%e+e)%e;let g1e=class extends yu{constructor(n,e){super(),rn(this,"object"),rn(this,"domElement"),rn(this,"enabled",!0),rn(this,"target",new ce),rn(this,"minDistance",0),rn(this,"maxDistance",1/0),rn(this,"minZoom",0),rn(this,"maxZoom",1/0),rn(this,"minPolarAngle",0),rn(this,"maxPolarAngle",Math.PI),rn(this,"minAzimuthAngle",-1/0),rn(this,"maxAzimuthAngle",1/0),rn(this,"enableDamping",!1),rn(this,"dampingFactor",.05),rn(this,"enableZoom",!0),rn(this,"zoomSpeed",1),rn(this,"enableRotate",!0),rn(this,"rotateSpeed",1),rn(this,"enablePan",!0),rn(this,"panSpeed",1),rn(this,"screenSpacePanning",!0),rn(this,"keyPanSpeed",7),rn(this,"zoomToCursor",!1),rn(this,"autoRotate",!1),rn(this,"autoRotateSpeed",2),rn(this,"reverseOrbit",!1),rn(this,"reverseHorizontalOrbit",!1),rn(this,"reverseVerticalOrbit",!1),rn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rn(this,"mouseButtons",{LEFT:Mm.ROTATE,MIDDLE:Mm.DOLLY,RIGHT:Mm.PAN}),rn(this,"touches",{ONE:bm.ROTATE,TWO:bm.DOLLY_PAN}),rn(this,"target0"),rn(this,"position0"),rn(this,"zoom0"),rn(this,"_domElementKeyEvents",null),rn(this,"getPolarAngle"),rn(this,"getAzimuthalAngle"),rn(this,"setPolarAngle"),rn(this,"setAzimuthalAngle"),rn(this,"getDistance"),rn(this,"listenToKeyEvents"),rn(this,"stopListenToKeyEvents"),rn(this,"saveState"),rn(this,"reset"),rn(this,"update"),rn(this,"connect"),rn(this,"dispose"),this.object=n,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=te=>{let $=Y8(te,2*Math.PI),Me=c.phi;Me<0&&(Me+=2*Math.PI),$<0&&($+=2*Math.PI);let Qe=Math.abs($-Me);2*Math.PI-Qe<Qe&&($<Me?$+=2*Math.PI:Me+=2*Math.PI),h.phi=$-Me,t.update()},this.setAzimuthalAngle=te=>{let $=Y8(te,2*Math.PI),Me=c.theta;Me<0&&(Me+=2*Math.PI),$<0&&($+=2*Math.PI);let Qe=Math.abs($-Me);2*Math.PI-Qe<Qe&&($<Me?$+=2*Math.PI:Me+=2*Math.PI),h.theta=$-Me,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=te=>{te.addEventListener("keydown",qe),this._domElementKeyEvents=te},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",qe),this._domElementKeyEvents=null},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(i),t.update(),a=o.NONE},this.update=(()=>{const te=new ce,$=new ce(0,1,0),Me=new Qr().setFromUnitVectors(n.up,$),Qe=Me.clone().invert(),G=new ce,De=new Qr,de=2*Math.PI;return function(){const ye=t.object.position;Me.setFromUnitVectors(n.up,$),Qe.copy(Me).invert(),te.copy(ye).sub(t.target),te.applyQuaternion(Me),c.setFromVector3(te),t.autoRotate&&a===o.NONE&&W(N()),t.enableDamping?(c.theta+=h.theta*t.dampingFactor,c.phi+=h.phi*t.dampingFactor):(c.theta+=h.theta,c.phi+=h.phi);let Le=t.minAzimuthAngle,Xe=t.maxAzimuthAngle;isFinite(Le)&&isFinite(Xe)&&(Le<-Math.PI?Le+=de:Le>Math.PI&&(Le-=de),Xe<-Math.PI?Xe+=de:Xe>Math.PI&&(Xe-=de),Le<=Xe?c.theta=Math.max(Le,Math.min(Xe,c.theta)):c.theta=c.theta>(Le+Xe)/2?Math.max(Le,c.theta):Math.min(Xe,c.theta)),c.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,c.phi)),c.makeSafe(),t.enableDamping===!0?t.target.addScaledVector(p,t.dampingFactor):t.target.add(p),t.zoomToCursor&&I||t.object.isOrthographicCamera?c.radius=ee(c.radius):c.radius=ee(c.radius*d),te.setFromSpherical(c),te.applyQuaternion(Qe),ye.copy(t.target).add(te),t.object.matrixAutoUpdate||t.object.updateMatrix(),t.object.lookAt(t.target),t.enableDamping===!0?(h.theta*=1-t.dampingFactor,h.phi*=1-t.dampingFactor,p.multiplyScalar(1-t.dampingFactor)):(h.set(0,0,0),p.set(0,0,0));let dt=!1;if(t.zoomToCursor&&I){let Ve=null;if(t.object instanceof xi&&t.object.isPerspectiveCamera){const rt=te.length();Ve=ee(rt*d);const pt=rt-Ve;t.object.position.addScaledVector(T,pt),t.object.updateMatrixWorld()}else if(t.object.isOrthographicCamera){const rt=new ce(B.x,B.y,0);rt.unproject(t.object),t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/d)),t.object.updateProjectionMatrix(),dt=!0;const pt=new ce(B.x,B.y,0);pt.unproject(t.object),t.object.position.sub(pt).add(rt),t.object.updateMatrixWorld(),Ve=te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),t.zoomToCursor=!1;Ve!==null&&(t.screenSpacePanning?t.target.set(0,0,-1).transformDirection(t.object.matrix).multiplyScalar(Ve).add(t.object.position):(IE.origin.copy(t.object.position),IE.direction.set(0,0,-1).transformDirection(t.object.matrix),Math.abs(t.object.up.dot(IE.direction))<m1e?n.lookAt(t.target):(K8.setFromNormalAndCoplanarPoint(t.object.up,t.target),IE.intersectPlane(K8,t.target))))}else t.object instanceof pl&&t.object.isOrthographicCamera&&(dt=d!==1,dt&&(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/d)),t.object.updateProjectionMatrix()));return d=1,I=!1,dt||G.distanceToSquared(t.object.position)>l||8*(1-De.dot(t.object.quaternion))>l?(t.dispatchEvent(i),G.copy(t.object.position),De.copy(t.object.quaternion),dt=!1,!0):!1}})(),this.connect=te=>{te===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),t.domElement=te,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",ct),t.domElement.addEventListener("pointerdown",k),t.domElement.addEventListener("pointercancel",se),t.domElement.addEventListener("wheel",Se)},this.dispose=()=>{var te,$,Me,Qe,G,De;t.domElement&&(t.domElement.style.touchAction="auto"),(te=t.domElement)==null||te.removeEventListener("contextmenu",ct),($=t.domElement)==null||$.removeEventListener("pointerdown",k),(Me=t.domElement)==null||Me.removeEventListener("pointercancel",se),(Qe=t.domElement)==null||Qe.removeEventListener("wheel",Se),(G=t.domElement)==null||G.ownerDocument.removeEventListener("pointermove",F),(De=t.domElement)==null||De.ownerDocument.removeEventListener("pointerup",se),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",qe)};const t=this,i={type:"change"},r={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=o.NONE;const l=1e-6,c=new wN,h=new wN;let d=1;const p=new ce,m=new it,v=new it,x=new it,y=new it,g=new it,S=new it,w=new it,b=new it,P=new it,T=new ce,B=new it;let I=!1;const R=[],C={};function N(){return 2*Math.PI/60/60*t.autoRotateSpeed}function j(){return Math.pow(.95,t.zoomSpeed)}function W(te){t.reverseOrbit||t.reverseHorizontalOrbit?h.theta+=te:h.theta-=te}function X(te){t.reverseOrbit||t.reverseVerticalOrbit?h.phi+=te:h.phi-=te}const Q=(()=>{const te=new ce;return function($,Me){te.setFromMatrixColumn(Me,0),te.multiplyScalar(-$),p.add(te)}})(),Y=(()=>{const te=new ce;return function($,Me){t.screenSpacePanning===!0?te.setFromMatrixColumn(Me,1):(te.setFromMatrixColumn(Me,0),te.crossVectors(t.object.up,te)),te.multiplyScalar($),p.add(te)}})(),ie=(()=>{const te=new ce;return function($,Me){const Qe=t.domElement;if(Qe&&t.object instanceof xi&&t.object.isPerspectiveCamera){const G=t.object.position;te.copy(G).sub(t.target);let De=te.length();De*=Math.tan(t.object.fov/2*Math.PI/180),Q(2*$*De/Qe.clientHeight,t.object.matrix),Y(2*Me*De/Qe.clientHeight,t.object.matrix)}else Qe&&t.object instanceof pl&&t.object.isOrthographicCamera?(Q($*(t.object.right-t.object.left)/t.object.zoom/Qe.clientWidth,t.object.matrix),Y(Me*(t.object.top-t.object.bottom)/t.object.zoom/Qe.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function D(te){t.object instanceof xi&&t.object.isPerspectiveCamera||t.object instanceof pl&&t.object.isOrthographicCamera?d/=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function z(te){t.object instanceof xi&&t.object.isPerspectiveCamera||t.object instanceof pl&&t.object.isOrthographicCamera?d*=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function H(te){if(!t.zoomToCursor||!t.domElement)return;I=!0;const $=t.domElement.getBoundingClientRect(),Me=te.clientX-$.left,Qe=te.clientY-$.top,G=$.width,De=$.height;B.x=Me/G*2-1,B.y=-(Qe/De)*2+1,T.set(B.x,B.y,1).unproject(t.object).sub(t.object.position).normalize()}function ee(te){return Math.max(t.minDistance,Math.min(t.maxDistance,te))}function pe(te){m.set(te.clientX,te.clientY)}function ke(te){H(te),w.set(te.clientX,te.clientY)}function ne(te){y.set(te.clientX,te.clientY)}function ve(te){v.set(te.clientX,te.clientY),x.subVectors(v,m).multiplyScalar(t.rotateSpeed);const $=t.domElement;$&&(W(2*Math.PI*x.x/$.clientHeight),X(2*Math.PI*x.y/$.clientHeight)),m.copy(v),t.update()}function be(te){b.set(te.clientX,te.clientY),P.subVectors(b,w),P.y>0?D(j()):P.y<0&&z(j()),w.copy(b),t.update()}function xe(te){g.set(te.clientX,te.clientY),S.subVectors(g,y).multiplyScalar(t.panSpeed),ie(S.x,S.y),y.copy(g),t.update()}function st(te){H(te),te.deltaY<0?z(j()):te.deltaY>0&&D(j()),t.update()}function Ke(te){let $=!1;switch(te.code){case t.keys.UP:ie(0,t.keyPanSpeed),$=!0;break;case t.keys.BOTTOM:ie(0,-t.keyPanSpeed),$=!0;break;case t.keys.LEFT:ie(t.keyPanSpeed,0),$=!0;break;case t.keys.RIGHT:ie(-t.keyPanSpeed,0),$=!0;break}$&&(te.preventDefault(),t.update())}function Ge(){if(R.length==1)m.set(R[0].pageX,R[0].pageY);else{const te=.5*(R[0].pageX+R[1].pageX),$=.5*(R[0].pageY+R[1].pageY);m.set(te,$)}}function U(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const te=.5*(R[0].pageX+R[1].pageX),$=.5*(R[0].pageY+R[1].pageY);y.set(te,$)}}function fe(){const te=R[0].pageX-R[1].pageX,$=R[0].pageY-R[1].pageY,Me=Math.sqrt(te*te+$*$);w.set(0,Me)}function me(){t.enableZoom&&fe(),t.enablePan&&U()}function Ce(){t.enableZoom&&fe(),t.enableRotate&&Ge()}function _e(te){if(R.length==1)v.set(te.pageX,te.pageY);else{const Me=Ye(te),Qe=.5*(te.pageX+Me.x),G=.5*(te.pageY+Me.y);v.set(Qe,G)}x.subVectors(v,m).multiplyScalar(t.rotateSpeed);const $=t.domElement;$&&(W(2*Math.PI*x.x/$.clientHeight),X(2*Math.PI*x.y/$.clientHeight)),m.copy(v)}function Ne(te){if(R.length==1)g.set(te.pageX,te.pageY);else{const $=Ye(te),Me=.5*(te.pageX+$.x),Qe=.5*(te.pageY+$.y);g.set(Me,Qe)}S.subVectors(g,y).multiplyScalar(t.panSpeed),ie(S.x,S.y),y.copy(g)}function Oe(te){const $=Ye(te),Me=te.pageX-$.x,Qe=te.pageY-$.y,G=Math.sqrt(Me*Me+Qe*Qe);b.set(0,G),P.set(0,Math.pow(b.y/w.y,t.zoomSpeed)),D(P.y),w.copy(b)}function Re(te){t.enableZoom&&Oe(te),t.enablePan&&Ne(te)}function at(te){t.enableZoom&&Oe(te),t.enableRotate&&_e(te)}function k(te){var $,Me;t.enabled!==!1&&(R.length===0&&(($=t.domElement)==null||$.ownerDocument.addEventListener("pointermove",F),(Me=t.domElement)==null||Me.ownerDocument.addEventListener("pointerup",se)),Te(te),te.pointerType==="touch"?Ie(te):ge(te))}function F(te){t.enabled!==!1&&(te.pointerType==="touch"?ze(te):Ae(te))}function se(te){var $,Me,Qe;$e(te),R.length===0&&(($=t.domElement)==null||$.releasePointerCapture(te.pointerId),(Me=t.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",F),(Qe=t.domElement)==null||Qe.ownerDocument.removeEventListener("pointerup",se)),t.dispatchEvent(s),a=o.NONE}function ge(te){let $;switch(te.button){case 0:$=t.mouseButtons.LEFT;break;case 1:$=t.mouseButtons.MIDDLE;break;case 2:$=t.mouseButtons.RIGHT;break;default:$=-1}switch($){case Mm.DOLLY:if(t.enableZoom===!1)return;ke(te),a=o.DOLLY;break;case Mm.ROTATE:if(te.ctrlKey||te.metaKey||te.shiftKey){if(t.enablePan===!1)return;ne(te),a=o.PAN}else{if(t.enableRotate===!1)return;pe(te),a=o.ROTATE}break;case Mm.PAN:if(te.ctrlKey||te.metaKey||te.shiftKey){if(t.enableRotate===!1)return;pe(te),a=o.ROTATE}else{if(t.enablePan===!1)return;ne(te),a=o.PAN}break;default:a=o.NONE}a!==o.NONE&&t.dispatchEvent(r)}function Ae(te){if(t.enabled!==!1)switch(a){case o.ROTATE:if(t.enableRotate===!1)return;ve(te);break;case o.DOLLY:if(t.enableZoom===!1)return;be(te);break;case o.PAN:if(t.enablePan===!1)return;xe(te);break}}function Se(te){t.enabled===!1||t.enableZoom===!1||a!==o.NONE&&a!==o.ROTATE||(te.preventDefault(),t.dispatchEvent(r),st(te),t.dispatchEvent(s))}function qe(te){t.enabled===!1||t.enablePan===!1||Ke(te)}function Ie(te){switch(ht(te),R.length){case 1:switch(t.touches.ONE){case bm.ROTATE:if(t.enableRotate===!1)return;Ge(),a=o.TOUCH_ROTATE;break;case bm.PAN:if(t.enablePan===!1)return;U(),a=o.TOUCH_PAN;break;default:a=o.NONE}break;case 2:switch(t.touches.TWO){case bm.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;me(),a=o.TOUCH_DOLLY_PAN;break;case bm.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Ce(),a=o.TOUCH_DOLLY_ROTATE;break;default:a=o.NONE}break;default:a=o.NONE}a!==o.NONE&&t.dispatchEvent(r)}function ze(te){switch(ht(te),a){case o.TOUCH_ROTATE:if(t.enableRotate===!1)return;_e(te),t.update();break;case o.TOUCH_PAN:if(t.enablePan===!1)return;Ne(te),t.update();break;case o.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Re(te),t.update();break;case o.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;at(te),t.update();break;default:a=o.NONE}}function ct(te){t.enabled!==!1&&te.preventDefault()}function Te(te){R.push(te)}function $e(te){delete C[te.pointerId];for(let $=0;$<R.length;$++)if(R[$].pointerId==te.pointerId){R.splice($,1);return}}function ht(te){let $=C[te.pointerId];$===void 0&&($=new it,C[te.pointerId]=$),$.set(te.pageX,te.pageY)}function Ye(te){const $=te.pointerId===R[0].pointerId?R[1]:R[0];return C[$.pointerId]}e!==void 0&&this.connect(e),this.update()}};function IR(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Qm="srgb",Ph="srgb-linear",Q8=3001,v1e=3e3;class rz extends Ys{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new S1e(t)}),this.register(function(t){return new w1e(t)}),this.register(function(t){return new I1e(t)}),this.register(function(t){return new L1e(t)}),this.register(function(t){return new D1e(t)}),this.register(function(t){return new b1e(t)}),this.register(function(t){return new E1e(t)}),this.register(function(t){return new C1e(t)}),this.register(function(t){return new T1e(t)}),this.register(function(t){return new A1e(t)}),this.register(function(t){return new R1e(t)}),this.register(function(t){return new M1e(t)}),this.register(function(t){return new B1e(t)}),this.register(function(t){return new P1e(t)}),this.register(function(t){return new x1e(t)}),this.register(function(t){return new F1e(t)}),this.register(function(t){return new N1e(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Sf.extractUrlBase(e);o=Sf.resolveURL(c,this.path)}else o=Sf.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Sa(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(IR(new Uint8Array(e.slice(0,4)))===QZ){try{o[An.KHR_BINARY_GLTF]=new O1e(e)}catch(c){r&&r(c);return}s=JSON.parse(o[An.KHR_BINARY_GLTF].content)}else s=JSON.parse(IR(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Q1e(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(h){case An.KHR_MATERIALS_UNLIT:o[h]=new _1e;break;case An.KHR_DRACO_MESH_COMPRESSION:o[h]=new U1e(s,this.dracoLoader);break;case An.KHR_TEXTURE_TRANSFORM:o[h]=new k1e;break;case An.KHR_MESH_QUANTIZATION:o[h]=new z1e;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function y1e(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const An={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class x1e{constructor(e){this.parser=e,this.name=An.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,o=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let a;const l=new Et(16777215);o.color!==void 0&&l.setRGB(o.color[0],o.color[1],o.color[2],Ph);const c=o.range!==void 0?o.range:0;switch(o.type){case"directional":a=new Y4(l),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new K4(l),a.distance=c;break;case"spot":a=new J4(l),a.distance=c,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,oh(a,o),o.intensity!==void 0&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],s=(r.extensions&&r.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(o){return i._getNodeRef(t.cache,s,o)})}}class _1e{constructor(){this.name=An.KHR_MATERIALS_UNLIT}getMaterialType(){return ca}extendParams(e,t,i){const r=[];e.color=new Et(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ph),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Qm))}return Promise.all(r)}}class A1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class S1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new it(a,a)}return Promise.all(s)}}class w1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class M1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class b1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Et(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Ph)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Qm)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class E1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class C1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Et().setRGB(a[0],a[1],a[2],Ph),Promise.all(s)}}class T1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=i.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class R1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Et().setRGB(a[0],a[1],a[2],Ph),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Qm)),Promise.all(s)}}class P1e{constructor(e){this.parser=e,this.name=An.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class B1e{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Ml}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class I1e{constructor(e){this.parser=e,this.name=An.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class L1e{constructor(e){this.parser=e,this.name=An.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class D1e{constructor(e){this.parser=e,this.name=An.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class F1e{constructor(e){this.name=An.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class N1e{constructor(e){this.name=An.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const l of r.primitives)if(l.mode!==nl.TRIANGLES&&l.mode!==nl.TRIANGLE_STRIP&&l.mode!==nl.TRIANGLE_FAN&&l.mode!==void 0)return null;const s=i.extensions[this.name].attributes,o=[],a={};for(const l in s)o.push(this.parser.getDependency("accessor",s[l]).then(c=>(a[l]=c,a[l])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(l=>{const c=l.pop(),h=c.isGroup?c.children:[c],d=l[0].count,p=[];for(const m of h){const v=new jt,x=new ce,y=new Qr,g=new ce(1,1,1),S=new P4(m.geometry,m.material,d);for(let w=0;w<d;w++)a.TRANSLATION&&x.fromBufferAttribute(a.TRANSLATION,w),a.ROTATION&&y.fromBufferAttribute(a.ROTATION,w),a.SCALE&&g.fromBufferAttribute(a.SCALE,w),S.setMatrixAt(w,v.compose(x,y,g));for(const w in a)if(w==="_COLOR_0"){const b=a[w];S.instanceColor=new Ug(b.array,b.itemSize,b.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&m.geometry.setAttribute(w,a[w]);Rn.prototype.copy.call(S,m),this.parser.assignFinalMaterial(S),p.push(S)}return c.isGroup?(c.clear(),c.add(...p),c):p[0]}))}}const QZ="glTF",nA=12,q8={JSON:1313821514,BIN:5130562};class O1e{constructor(e){this.name=An.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,nA);if(this.header={magic:IR(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==QZ)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-nA,r=new DataView(e,nA);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===q8.JSON){const l=new Uint8Array(e,nA+s,o);this.content=IR(l)}else if(a===q8.BIN){const l=nA+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class U1e{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=An.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const h in o){const d=TN[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=TN[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=lx[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d,p){r.decodeDracoFile(h,function(m){for(const v in m.attributes){const x=m.attributes[v],y=l[v];y!==void 0&&(x.normalized=y)}d(m)},a,c,Ph,p)})})}}class k1e{constructor(){this.name=An.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class z1e{constructor(){this.name=An.KHR_MESH_QUANTIZATION}}class qZ extends p1{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,h=r-t,d=(i-t)/h,p=d*d,m=p*d,v=e*c,x=v-c,y=-2*m+3*p,g=m-p,S=1-y,w=g-p+d;for(let b=0;b!==a;b++){const P=o[x+b+a],T=o[x+b+l]*h,B=o[v+b+a],I=o[v+b]*h;s[b]=S*P+w*T+y*B+g*I}return s}}const H1e=new Qr;class G1e extends qZ{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return H1e.fromArray(s).normalize().toArray(s),s}}const nl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},lx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$8={9728:Rr,9729:Ki,9984:rP,9985:sx,9986:jm,9987:fl},Z8={33071:aa,33648:Tx,10497:kf},CL={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},TN={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...d1e>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Dd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},V1e={CUBICSPLINE:void 0,LINEAR:Px,STEP:Rx},TL={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function j1e(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new mM({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:lu})),n.DefaultMaterial}function rm(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function oh(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function W1e(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,h=e.length;c<h;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=h),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function X1e(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function J1e(n){let e;const t=n.extensions&&n.extensions[An.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+RL(t.attributes):e=n.indices+":"+RL(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+RL(n.targets[i]);return e}function RL(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function RN(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function K1e(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Y1e=new jt;class Q1e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new y1e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new gM(this.options.manager):this.textureLoader=new yZ(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Sa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return rm(s,a,r),oh(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[An.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Sf.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=CL[r.type],a=lx[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Dn(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=CL[r.type],c=lx[r.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let x,y;if(m&&m!==d){const g=Math.floor(p/m),S="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let w=t.cache.get(S);w||(x=new c(a,g*m,r.count*m/h),w=new fM(x,m/h),t.cache.add(S,w)),y=new Lx(w,l,p%m/h,v)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),y=new Dn(x,l,v);if(r.sparse!==void 0){const g=CL.SCALAR,S=lx[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,P=new S(o[1],w,r.sparse.count*g),T=new c(o[2],b,r.sparse.count*l);a!==null&&(y=new Dn(y.array.slice(),y.itemSize,y.normalized));for(let B=0,I=P.length;B<I;B++){const R=P[B];if(y.setX(R,T[B*l]),l>=2&&y.setY(R,T[B*l+1]),l>=3&&y.setZ(R,T[B*l+2]),l>=4&&y.setW(R,T[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,s=t.images[r];let o=this.textureLoader;if(s.uri){const a=i.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,r,o)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return h.magFilter=$8[d.magFilter]||Ki,h.minFilter=$8[d.minFilter]||fl,h.wrapS=Z8[d.wrapS]||kf,h.wrapT=Z8[d.wrapT]||kf,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(x){const y=new ri(x);y.needsUpdate=!0,p(y)}),t.load(Sf.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),oh(d,o),d.userData.mimeType=o.mimeType||K1e(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[An.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[An.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[An.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===Q8?Qm:Ph),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Qm?Q8:v1e),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new pM,vr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ks,vr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return mM}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[An.KHR_MATERIALS_UNLIT]){const d=r[An.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Et(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Ph),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,Qm)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ul);const h=s.alphaMode||TL.OPAQUE;if(h===TL.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===TL.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ca&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new it(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==ca&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ca){const d=s.emissiveFactor;a.emissive=new Et().setRGB(d[0],d[1],d[2],Ph)}return s.emissiveTexture!==void 0&&o!==ca&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Qm)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),oh(d,s),t.associations.set(d,{materials:e}),s.extensions&&rm(r,d,s),d})}createUniqueName(e){const t=In.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[An.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return e6(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],h=J1e(c),d=r[h];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[An.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=e6(new an,c,t),r[h]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const h=o[l].material===void 0?j1e(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,v=h.length;m<v;m++){const x=h[m],y=o[m];let g;const S=c[m];if(y.mode===nl.TRIANGLES||y.mode===nl.TRIANGLE_STRIP||y.mode===nl.TRIANGLE_FAN||y.mode===void 0)g=s.isSkinnedMesh===!0?new T4(x,S):new Qi(x,S),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),y.mode===nl.TRIANGLE_STRIP?g.geometry=J8(g.geometry,f4):y.mode===nl.TRIANGLE_FAN&&(g.geometry=J8(g.geometry,ER));else if(y.mode===nl.LINES)g=new pc(x,S);else if(y.mode===nl.LINE_STRIP)g=new Xh(x,S);else if(y.mode===nl.LINE_LOOP)g=new B4(x,S);else if(y.mode===nl.POINTS)g=new I4(x,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(g.geometry.morphAttributes).length>0&&X1e(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),oh(g,s),y.extensions&&rm(r,g,y),t.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&rm(r,d[0],s),d[0];const p=new xh;s.extensions&&rm(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new xi(g4.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new pl(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),oh(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,h=o.length;c<h;c++){const d=o[c];if(d){a.push(d);const p=new jt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new R4(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],h=[];for(let d=0,p=r.channels.length;d<p;d++){const m=r.channels[d],v=r.samplers[m.sampler],x=m.target,y=x.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,S=r.parameters!==void 0?r.parameters[v.output]:v.output;x.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",S)),c.push(v),h.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(h)]).then(function(d){const p=d[0],m=d[1],v=d[2],x=d[3],y=d[4],g=[];for(let S=0,w=p.length;S<w;S++){const b=p[S],P=m[S],T=v[S],B=x[S],I=y[S];if(b===void 0)continue;b.updateMatrix&&b.updateMatrix();const R=i._createAnimationTracks(b,P,T,B,I);if(R)for(let C=0;C<R.length;C++)g.push(R[C])}return new Dx(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,h=a.length;c<h;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const h=c[0],d=c[1],p=c[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,Y1e)});for(let m=0,v=d.length;m<v;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(s.isBone===!0?h=new hP:c.length>1?h=new xh:c.length===1?h=c[0]:h=new Rn,h!==c[0])for(let d=0,p=c.length;d<p;d++)h.add(c[d]);if(s.name&&(h.userData.name=s.name,h.name=o),oh(h,s),s.extensions&&rm(i,h,s),s.matrix!==void 0){const d=new jt;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new xh;i.name&&(s.name=r.createUniqueName(i.name)),oh(s,i),i.extensions&&rm(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const c=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof vr||p instanceof ri)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Dd[s.path]===Dd.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(Dd[s.path]){case Dd.weights:c=zg;break;case Dd.rotation:c=Hg;break;case Dd.position:case Dd.scale:c=Gg;break;default:switch(i.itemSize){case 1:c=zg;break;case 2:case 3:default:c=Gg;break}break}const h=r.interpolation!==void 0?V1e[r.interpolation]:Px,d=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new c(l[p]+"."+Dd[s.path],t.array,d,h);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=RN(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(t){const i=this instanceof Hg?G1e:qZ;return new i(this.times,this.values,this.getValueSize()/3,t)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function q1e(n,e,t){const i=e.attributes,r=new Gs;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new ce(l[0],l[1],l[2]),new ce(c[0],c[1],c[2])),a.normalized){const h=RN(lx[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new ce,l=new ce;for(let c=0,h=s.length;c<h;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const x=RN(lx[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new gs;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function e6(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=TN[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return oh(n,e),q1e(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?W1e(n,e.targets,t):n})}class $1e extends an{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new ce,c=new jt;c.makeRotationFromEuler(i),c.setPosition(t);const h=new jt;h.copy(c).invert(),d(),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(o,3)),this.setAttribute("uv",new Ot(a,2));function d(){let x,y=[];const g=new ce,S=new ce;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const w=e.geometry,b=w.attributes.position,P=w.attributes.normal;if(w.index!==null){const T=w.index;for(x=0;x<T.count;x++)g.fromBufferAttribute(b,T.getX(x)),S.fromBufferAttribute(P,T.getX(x)),p(y,g,S)}else for(x=0;x<b.count;x++)g.fromBufferAttribute(b,x),S.fromBufferAttribute(P,x),p(y,g,S);for(y=m(y,l.set(1,0,0)),y=m(y,l.set(-1,0,0)),y=m(y,l.set(0,1,0)),y=m(y,l.set(0,-1,0)),y=m(y,l.set(0,0,1)),y=m(y,l.set(0,0,-1)),x=0;x<y.length;x++){const T=y[x];a.push(.5+T.position.x/r.x,.5+T.position.y/r.y),T.position.applyMatrix4(c),s.push(T.position.x,T.position.y,T.position.z),o.push(T.normal.x,T.normal.y,T.normal.z)}}function p(x,y,g){y.applyMatrix4(e.matrixWorld),y.applyMatrix4(h),g.transformDirection(e.matrixWorld),x.push(new t6(y.clone(),g.clone()))}function m(x,y){const g=[],S=.5*Math.abs(r.dot(y));for(let w=0;w<x.length;w+=3){let b,P,T,B=0,I,R,C,N;const j=x[w+0].position.dot(y)-S,W=x[w+1].position.dot(y)-S,X=x[w+2].position.dot(y)-S;switch(b=j>0,P=W>0,T=X>0,B=(b?1:0)+(P?1:0)+(T?1:0),B){case 0:{g.push(x[w]),g.push(x[w+1]),g.push(x[w+2]);break}case 1:{if(b&&(I=x[w+1],R=x[w+2],C=v(x[w],I,y,S),N=v(x[w],R,y,S)),P){I=x[w],R=x[w+2],C=v(x[w+1],I,y,S),N=v(x[w+1],R,y,S),g.push(C),g.push(R.clone()),g.push(I.clone()),g.push(R.clone()),g.push(C.clone()),g.push(N);break}T&&(I=x[w],R=x[w+1],C=v(x[w+2],I,y,S),N=v(x[w+2],R,y,S)),g.push(I.clone()),g.push(R.clone()),g.push(C),g.push(N),g.push(C.clone()),g.push(R.clone());break}case 2:{b||(I=x[w].clone(),R=v(I,x[w+1],y,S),C=v(I,x[w+2],y,S),g.push(I),g.push(R),g.push(C)),P||(I=x[w+1].clone(),R=v(I,x[w+2],y,S),C=v(I,x[w],y,S),g.push(I),g.push(R),g.push(C)),T||(I=x[w+2].clone(),R=v(I,x[w],y,S),C=v(I,x[w+1],y,S),g.push(I),g.push(R),g.push(C));break}}}return g}function v(x,y,g,S){const w=x.position.dot(g)-S,b=y.position.dot(g)-S,P=w/(w-b);return new t6(new ce(x.position.x+P*(y.position.x-x.position.x),x.position.y+P*(y.position.y-x.position.y),x.position.z+P*(y.position.z-x.position.z)),new ce(x.normal.x+P*(y.normal.x-x.normal.x),x.normal.y+P*(y.normal.y-x.normal.y),x.normal.z+P*(y.normal.z-x.normal.z)))}}}let t6=class{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}};const PL=new WeakMap;class Z1e extends Ys{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Sa(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(PL.has(e)){const l=PL.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,h)=>{r._callbacks[s]={resolve:c,reject:h},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),PL.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new an;e.index&&t.setIndex(new Dn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Dn(o,a))}return t}_loadLibrary(e,t){const i=new Sa(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=e_e.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function e_e(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,p,m,c),x=v.attributes.map(y=>y.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const h=c.attributeIDs,d=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const y in h){const g=self[d[y]];let S,w;if(c.useUniqueIDs)w=h[y],S=a.GetAttributeByUniqueId(p,w);else{if(w=a.GetAttributeId(p,o[h[y]]),w===-1)continue;S=a.GetAttribute(p,w)}x.attributes.push(r(o,a,p,y,g,S))}return v===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const c=l.num_faces()*3,h=c*4,d=o._malloc(h);a.GetTrianglesUInt32Array(l,h,d);const p=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:p,itemSize:1}}function r(o,a,l,c,h,d){const p=d.num_components(),m=l.num_points()*p,v=m*h.BYTES_PER_ELEMENT,x=s(o,h),y=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,x,v,y);const g=new h(o.HEAPF32.buffer,y,m).slice();return o._free(y),{name:c,array:g,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let LE;const BL=()=>{if(LE)return LE;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const x=d.charCodeAt(v);p[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,x,y){const g=s.exports.sbrk,S=m+3&-4,w=g(S*v),b=g(x.length),P=new Uint8Array(s.exports.memory.buffer);P.set(x,b);const T=d(w,m,v,b,x.length);if(T===0&&y&&y(w,S,v),p.set(P.subarray(w,w+m*v)),g(w-g(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return LE={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[c[x]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,x,y){l(s.exports[h[x]],d,p,m,v,s.exports[c[y]])}},LE},IL=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function sz(n,e){const t=ta(r=>r.gl),i=rp(gM,IL(n)?Object.values(n):n);return ue.useLayoutEffect(()=>{e==null||e(i)},[e]),ue.useEffect(()=>{if("initTexture"in t){let r=[];Array.isArray(i)?r=i:i instanceof ri?r=[i]:IL(i)&&(r=Object.values(i)),r.forEach(s=>{s instanceof ri&&t.initTexture(s)})}},[t,i]),ue.useMemo(()=>{if(IL(n)){const r={};let s=0;for(const o in n)r[o]=i[s++];return r}else return i},[n,i])}sz.preload=n=>rp.preload(gM,n);sz.clear=n=>rp.clear(gM,n);const t_e=()=>parseInt(l1.replace(/\D+/g,"")),$Z=t_e();function n_e(n){return Array.isArray(n)}function LL(n=[0,0,0]){return n_e(n)?n:n instanceof ce||n instanceof Aa?[n.x,n.y,n.z]:[n,n,n]}const i_e=ue.forwardRef(function({debug:n,depthTest:e=!1,polygonOffsetFactor:t=-10,map:i,mesh:r,children:s,position:o,rotation:a,scale:l,...c},h){const d=ue.useRef(null);ue.useImperativeHandle(h,()=>d.current);const p=ue.useRef(null);return ue.useLayoutEffect(()=>{const m=(r==null?void 0:r.current)||d.current.parent,v=d.current;if(!(m instanceof Qi))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const x={position:new ce,rotation:new Aa,scale:new ce(1,1,1)};if(m){jc(x,{position:o,scale:l});const y=m.matrixWorld.clone();if(m.matrixWorld.identity(),!a||typeof a=="number"){const g=new Rn;g.position.copy(x.position),g.lookAt(m.position),typeof a=="number"&&g.rotateZ(a),jc(x,{rotation:g.rotation})}else jc(x,{rotation:a});return v.geometry=new $1e(m,x.position,x.rotation,x.scale),p.current&&(jc(p.current,x),p.current.traverse(g=>g.raycast=()=>null)),m.matrixWorld=y,()=>{v.geometry.dispose()}}},[r,...LL(o),...LL(l),...LL(a)]),ue.createElement("mesh",uu({ref:d,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":t,"material-depthTest":e,"material-map":i},c),s,n&&ue.createElement("mesh",{ref:p},ue.createElement("boxGeometry",null),ue.createElement("meshNormalMaterial",{wireframe:!0}),ue.createElement("axesHelper",null)))});let DE=null,ZZ="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function eee(n,e,t){return i=>{t&&t(i),n&&(DE||(DE=new Z1e),DE.setDecoderPath(typeof n=="string"?n:ZZ),i.setDRACOLoader(DE)),e&&i.setMeshoptDecoder(typeof BL=="function"?BL():BL)}}function xM(n,e=!0,t=!0,i){return rp(rz,n,eee(e,t,i))}xM.preload=(n,e=!0,t=!0,i)=>rp.preload(rz,n,eee(e,t,i));xM.clear=n=>rp.clear(rz,n);xM.setDecoderPath=n=>{ZZ=n};const oz=ue.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},h)=>{const d=ta(T=>T.invalidate),p=ta(T=>T.camera),m=ta(T=>T.gl),v=ta(T=>T.events),x=ta(T=>T.setEvents),y=ta(T=>T.set),g=ta(T=>T.get),S=ta(T=>T.performance),w=e||p,b=i||v.connected||m.domElement,P=ue.useMemo(()=>new g1e(w),[w]);return m1(()=>{P.enabled&&P.update()},-1),ue.useEffect(()=>(s&&P.connect(s===!0?b:s),P.connect(b),()=>void P.dispose()),[s,b,t,P,d]),ue.useEffect(()=>{const T=R=>{d(),t&&S.regress(),o&&o(R)},B=R=>{a&&a(R)},I=R=>{l&&l(R)};return P.addEventListener("change",T),P.addEventListener("start",B),P.addEventListener("end",I),()=>{P.removeEventListener("start",B),P.removeEventListener("end",I),P.removeEventListener("change",T)}},[o,a,l,P,d,x]),ue.useEffect(()=>{if(n){const T=g().controls;return y({controls:P}),()=>y({controls:T})}},[n,P]),ue.createElement("primitive",uu({ref:h,object:P,enableDamping:r},c))});var tee={exports:{}},r_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s_e=r_e,o_e=s_e;function nee(){}function iee(){}iee.resetWarningCache=nee;var a_e=function(){function n(i,r,s,o,a,l){if(l!==o_e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iee,resetWarningCache:nee};return t.PropTypes=t,t};tee.exports=a_e();var ree=tee.exports;const DL=$Z>=154?"opaque_fragment":"output_fragment";class l_e extends pM{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${DL}>`,`
        ${r?`#include <${DL}>`:`#extension GL_OES_standard_derivatives : enable
#include <${DL}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${$Z>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const c_e=ue.forwardRef((n,e)=>{const[t]=ue.useState(()=>new l_e(null));return ue.createElement("primitive",uu({},n,{object:t,ref:e,attach:"material"}))}),u_e=ue.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=ue.useRef(null);ue.useImperativeHandle(a,()=>l.current,[]);const c=ue.useRef(Math.random()*1e4);return m1(h=>{var d,p;if(!e||t===0)return;const m=c.current+h.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*i,l.current.rotation.y=Math.sin(m/4*t)/8*i,l.current.rotation.z=Math.sin(m/4*t)/20*i;let v=Math.sin(m/4*t)/10;v=g4.mapLinear(v,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*r,l.current.updateMatrix()}),ue.createElement("group",o,ue.createElement("group",{ref:l,matrixAutoUpdate:!1},n))});let sm,iA;const h_e=ue.createContext(null),n6=new jt,i6=new ce,d_e=ue.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=ue.useRef(null);ue.useImperativeHandle(r,()=>s.current,[]);const[o,a]=ue.useState([]),[[l,c,h]]=ue.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);ue.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),m1(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),n6.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),sm=0;sm<o.length;sm++)iA=o[sm].current,iA.getWorldPosition(i6).applyMatrix4(n6),i6.toArray(l,sm*3),s.current.geometry.attributes.position.needsUpdate=!0,iA.matrixWorldNeedsUpdate=!0,iA.color.toArray(c,sm*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([iA.size],sm),s.current.geometry.attributes.size.needsUpdate=!0});const d=ue.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return ue.createElement("points",uu({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),ue.createElement("bufferGeometry",null,ue.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:pg}),ue.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:pg}),ue.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:pg})),ue.createElement(h_e.Provider,{value:d},n))}),f_e=ue.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=ue.useRef(null);return ue.useImperativeHandle(o,()=>a.current,[]),m1(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),ue.createElement("points",uu({ref:a},s),ue.createElement("bufferGeometry",null,ue.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:pg}),t&&ue.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:pg}),i&&ue.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:pg})),n)}),p_e=ue.forwardRef((n,e)=>n.positions instanceof Float32Array?ue.createElement(f_e,uu({},n,{ref:e})):ue.createElement(d_e,uu({},n,{ref:e})));function RP({all:n,scene:e,camera:t}){const i=ta(({gl:o})=>o),r=ta(({camera:o})=>o),s=ta(({scene:o})=>o);return ue.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(l=>{l.visible===!1&&(o.push(l),l.visible=!0)}),i.compile(e||s,t||r);const a=new S4(128);new A4(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(l=>l.visible=!1)},[]),null}const az=()=>{const{progress:n}=r1e();return Pe.jsxs(i1e,{children:[Pe.jsx("span",{className:"canvas-load"}),Pe.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},m_e=()=>{const n=xM("./planet/scene.gltf");return Pe.jsx("primitive",{object:n.scene,scale:2.4,"position-y":0,"rotation-y":0})},g_e=()=>Pe.jsx(TP,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},style:{width:"100%",height:"100%"},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:Pe.jsxs(ue.Suspense,{fallback:Pe.jsx(az,{}),children:[Pe.jsx(oz,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),Pe.jsx(m_e,{}),Pe.jsx(RP,{all:!0})]})}),v_e=n=>{const[e]=sz([n.imgUrl]);return Pe.jsxs(u_e,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[Pe.jsx("ambientLight",{intensity:.25}),Pe.jsx("directionalLight",{position:[0,-7,.05]}),Pe.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[Pe.jsx("icosahedronGeometry",{args:[1,1]}),Pe.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),Pe.jsx(i_e,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},y_e=({icon:n})=>Pe.jsxs(TP,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[Pe.jsxs(ue.Suspense,{fallback:Pe.jsx(az,{}),children:[Pe.jsx(oz,{enableZoom:!1}),Pe.jsx(v_e,{imgUrl:n})]}),Pe.jsx(RP,{all:!0})]}),x_e=({isMobile:n})=>{const e=xM("./desktop_pc/scene.gltf");return Pe.jsxs("mesh",{children:[Pe.jsx("hemisphereLight",{intensity:1.5,groundColor:"black"}),Pe.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),Pe.jsx("pointLight",{intensity:1}),Pe.jsx("primitive",{object:e.scene,scale:n?.45:.75,position:n?[-3,-3,-1]:[0,-3,-1.5],rotation:[0,0,0]})]})},__e=()=>{const[n,e]=ue.useState(!1);return ue.useEffect(()=>{const t=window.matchMedia("(max-width: 600px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),Pe.jsxs(TP,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[Pe.jsxs(ue.Suspense,{fallback:Pe.jsx(az,{}),children:[Pe.jsx(oz,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),Pe.jsx(x_e,{isMobile:n})]}),Pe.jsx(RP,{all:!0})]})},A_e=n=>{const e=ue.useRef(),[t]=ue.useState(()=>h1e(new Float32Array(5e3),{radius:1.2}));return m1((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),Pe.jsx("group",{rotation:[0,0,Math.PI/4],children:Pe.jsx(p_e,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:Pe.jsx(c_e,{transparent:!0,color:"#f272c8",size:.001,sizeAttenuation:!0,depthWrite:!1})})})},S_e=()=>{const n={position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-10,backgroundColor:"#000000"};return Pe.jsx("div",{style:n,children:Pe.jsxs(TP,{camera:{position:[0,0,1]},children:[Pe.jsx(ue.Suspense,{fallback:null,children:Pe.jsx(A_e,{})}),Pe.jsx(RP,{all:!0})]})})},see=ue.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),PP=ue.createContext({}),lz=ue.createContext(null),cz=typeof document<"u",w_e=cz?ue.useLayoutEffect:ue.useEffect,oee=ue.createContext({strict:!1}),uz=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M_e="framerAppearId",aee="data-"+uz(M_e),b_e={skipAnimations:!1,useManualTiming:!1};class r6{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function E_e(n){let e=new r6,t=new r6,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&r,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const h=e.order[c];o.has(h)&&(a.schedule(h),n()),h(l)}r=!1,s&&(s=!1,a.process(l))}};return a}const FE=["read","resolveKeyframes","update","preRender","render","postRender"],C_e=40;function lee(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=FE.reduce((c,h)=>(c[h]=E_e(()=>t=!0),c),{}),o=c=>{s[c].process(r)},a=()=>{const c=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(c-r.timestamp,C_e),1),r.timestamp=c,r.isProcessing=!0,FE.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:FE.reduce((c,h)=>{const d=s[h];return c[h]=(p,m=!1,v=!1)=>(t||l(),d.schedule(p,m,v)),c},{}),cancel:c=>FE.forEach(h=>s[h].cancel(c)),state:r,steps:s}}const{schedule:hz,cancel:_5e}=lee(queueMicrotask,!1);function T_e(n,e,t,i){const{visualElement:r}=ue.useContext(PP),s=ue.useContext(oee),o=ue.useContext(lz),a=ue.useContext(see).reducedMotion,l=ue.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;ue.useInsertionEffect(()=>{c&&c.update(t,o)});const h=ue.useRef(!!(t[aee]&&!window.HandoffComplete));return w_e(()=>{c&&(hz.render(c.render),h.current&&c.animationState&&c.animationState.animateChanges())}),ue.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Ty(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function R_e(n,e,t){return ue.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ty(t)&&(t.current=i))},[e])}function cw(n){return typeof n=="string"||Array.isArray(n)}function BP(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const dz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fz=["initial",...dz];function IP(n){return BP(n.animate)||fz.some(e=>cw(n[e]))}function cee(n){return!!(IP(n)||n.variants)}function P_e(n,e){if(IP(n)){const{initial:t,animate:i}=n;return{initial:t===!1||cw(t)?t:void 0,animate:cw(i)?i:void 0}}return n.inherit!==!1?e:{}}function B_e(n){const{initial:e,animate:t}=P_e(n,ue.useContext(PP));return ue.useMemo(()=>({initial:e,animate:t}),[s6(e),s6(t)])}function s6(n){return Array.isArray(n)?n.join(" "):n}const o6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uw={};for(const n in o6)uw[n]={isEnabled:e=>o6[n].some(t=>!!e[t])};function I_e(n){for(const e in n)uw[e]={...uw[e],...n[e]}}const uee=ue.createContext({}),hee=ue.createContext({}),L_e=Symbol.for("motionComponentSymbol");function D_e({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&I_e(n);function s(a,l){let c;const h={...ue.useContext(see),...a,layoutId:F_e(a)},{isStatic:d}=h,p=B_e(a),m=i(a,d);if(!d&&cz){p.visualElement=T_e(r,m,h,e);const v=ue.useContext(hee),x=ue.useContext(oee).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,x,n,v))}return Pe.jsxs(PP.Provider,{value:p,children:[c&&p.visualElement?Pe.jsx(c,{visualElement:p.visualElement,...h}):null,t(r,a,R_e(m,p.visualElement,l),m,d,p.visualElement)]})}const o=ue.forwardRef(s);return o[L_e]=r,o}function F_e({layoutId:n}){const e=ue.useContext(uee).id;return e&&n!==void 0?e+"-"+n:n}function N_e(n){function e(i,r={}){return D_e(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const O_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pz(n){return typeof n!="string"||n.includes("-")?!1:!!(O_e.indexOf(n)>-1||/[A-Z]/u.test(n))}const LR={};function U_e(n){Object.assign(LR,n)}const _M=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],d0=new Set(_M);function dee(n,{layout:e,layoutId:t}){return d0.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!LR[n]||n==="opacity")}const Us=n=>!!(n&&n.getVelocity),k_e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z_e=_M.length;function H_e(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<z_e;o++){const a=_M[o];if(n[a]!==void 0){const l=k_e[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const fee=n=>e=>typeof e=="string"&&e.startsWith(n),pee=fee("--"),G_e=fee("var(--"),mz=n=>G_e(n)?V_e.test(n.split("/*")[0].trim()):!1,V_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,j_e=(n,e)=>e&&typeof n=="number"?e.transform(n):n,zf=(n,e,t)=>t>e?e:t<n?n:t,g1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lS={...g1,transform:n=>zf(0,1,n)},NE={...g1,default:1},cS=n=>Math.round(n*1e5)/1e5,gz=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,W_e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,X_e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function AM(n){return typeof n=="string"}const SM=n=>({test:e=>AM(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Yd=SM("deg"),nu=SM("%"),Qt=SM("px"),J_e=SM("vh"),K_e=SM("vw"),a6={...nu,parse:n=>nu.parse(n)/100,transform:n=>nu.transform(n*100)},l6={...g1,transform:Math.round},mee={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,size:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,rotate:Yd,rotateX:Yd,rotateY:Yd,rotateZ:Yd,scale:NE,scaleX:NE,scaleY:NE,scaleZ:NE,skew:Yd,skewX:Yd,skewY:Yd,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:lS,originX:a6,originY:a6,originZ:Qt,zIndex:l6,backgroundPositionX:Qt,backgroundPositionY:Qt,fillOpacity:lS,strokeOpacity:lS,numOctaves:l6};function vz(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(pee(d)){s[d]=p;continue}const m=mee[d],v=j_e(p,m);if(d0.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=H_e(n.transform,t,h,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const yz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gee(n,e,t){for(const i in e)!Us(e[i])&&!dee(i,t)&&(n[i]=e[i])}function Y_e({transformTemplate:n},e,t){return ue.useMemo(()=>{const i=yz();return vz(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function Q_e(n,e,t){const i=n.style||{},r={};return gee(r,i,n),Object.assign(r,Y_e(n,e,t)),r}function q_e(n,e,t){const i={},r=Q_e(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const $_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function DR(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$_e.has(n)}let vee=n=>!DR(n);function Z_e(n){n&&(vee=e=>e.startsWith("on")?!DR(e):n(e))}try{Z_e(require("@emotion/is-prop-valid").default)}catch{}function eAe(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(vee(r)||t===!0&&DR(r)||!e&&!DR(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function c6(n,e,t){return typeof n=="string"?n:Qt.transform(e+t*n)}function tAe(n,e,t){const i=c6(e,n.x,n.width),r=c6(t,n.y,n.height);return`${i} ${r}`}const nAe={offset:"stroke-dashoffset",array:"stroke-dasharray"},iAe={offset:"strokeDashoffset",array:"strokeDasharray"};function rAe(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?nAe:iAe;n[s.offset]=Qt.transform(-i);const o=Qt.transform(e),a=Qt.transform(t);n[s.array]=`${o} ${a}`}function xz(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(vz(n,c,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:x}=n;m.transform&&(x&&(v.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=tAe(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&rAe(m,o,a,l,!1)}const yee=()=>({...yz(),attrs:{}}),_z=n=>typeof n=="string"&&n.toLowerCase()==="svg";function sAe(n,e,t,i){const r=ue.useMemo(()=>{const s=yee();return xz(s,e,{enableHardwareAcceleration:!1},_z(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};gee(s,n.style,n),r.style={...s,...r.style}}return r}function oAe(n=!1){return(e,t,i,{latestValues:r},s)=>{const o=(pz(e)?sAe:q_e)(t,r,s,e),a=eAe(t,typeof e=="string",n),l=e!==ue.Fragment?{...a,...o,ref:i}:{},{children:c}=t,h=ue.useMemo(()=>Us(c)?c.get():c,[c]);return ue.createElement(e,{...l,children:h})}}function xee(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const _ee=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Aee(n,e,t,i){xee(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(_ee.has(r)?r:uz(r),e.attrs[r])}function Az(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(Us(r[o])||e.style&&Us(e.style[o])||dee(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function See(n,e,t){const i=Az(n,e,t);for(const r in n)if(Us(n[r])||Us(e[r])){const s=_M.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function u6(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Sz(n,e,t,i){if(typeof e=="function"){const[r,s]=u6(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=u6(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function aAe(n){const e=ue.useRef(null);return e.current===null&&(e.current=n()),e.current}const PN=n=>Array.isArray(n),lAe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),cAe=n=>PN(n)?n[n.length-1]||0:n;function ET(n){const e=Us(n)?n.get():n;return lAe(e)?e.toValue():e}function uAe({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:hAe(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const wee=n=>(e,t)=>{const i=ue.useContext(PP),r=ue.useContext(lz),s=()=>uAe(n,e,i,r);return t?s():aAe(s)};function hAe(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=ET(s[p]);let{initial:o,animate:a}=n;const l=IP(n),c=cee(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!BP(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const m=Sz(n,p);if(!m)return;const{transitionEnd:v,transition:x,...y}=m;for(const g in y){let S=y[g];if(Array.isArray(S)){const w=h?S.length-1:0;S=S[w]}S!==null&&(r[g]=S)}for(const g in v)r[g]=v[g]}),r}const Vs=n=>n,{schedule:ei,cancel:Jh,state:hs,steps:FL}=lee(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vs,!0),dAe={useVisualState:wee({scrapeMotionValuesFromProps:See,createRenderState:yee,onMount:(n,e,{renderState:t,latestValues:i})=>{ei.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ei.render(()=>{xz(t,i,{enableHardwareAcceleration:!1},_z(e.tagName),n.transformTemplate),Aee(e,t)})}})},fAe={useVisualState:wee({scrapeMotionValuesFromProps:Az,createRenderState:yz})};function pAe(n,{forwardMotionProps:e=!1},t,i){return{...pz(n)?dAe:fAe,preloadedFeatures:t,useRender:oAe(e),createVisualElement:i,Component:n}}function Ah(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const Mee=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function LP(n,e="page"){return{point:{x:n[`${e}X`],y:n[`${e}Y`]}}}const mAe=n=>e=>Mee(e)&&n(e,LP(e));function Bh(n,e,t,i){return Ah(n,e,mAe(t),i)}const gAe=(n,e)=>t=>e(n(t)),Ih=(...n)=>n.reduce(gAe);function bee(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const h6=bee("dragHorizontal"),d6=bee("dragVertical");function Eee(n){let e=!1;if(n==="y")e=d6();else if(n==="x")e=h6();else{const t=h6(),i=d6();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function Cee(){const n=Eee(!0);return n?(n(),!1):!0}let sp=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function f6(n,e){const t=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||Cee())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e);const l=a[i];l&&ei.postRender(()=>l(s,o))};return Bh(n.current,t,r,{passive:!n.getProps()[i]})}let vAe=class extends sp{mount(){this.unmount=Ih(f6(this.node,!0),f6(this.node,!1))}unmount(){}},yAe=class extends sp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ih(Ah(this.node.current,"focus",()=>this.onFocus()),Ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const Tee=(n,e)=>e?n===e?!0:Tee(n,e.parentElement):!1;function NL(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,LP(t))}let xAe=class extends sp{constructor(){super(...arguments),this.removeStartListeners=Vs,this.removeEndListeners=Vs,this.removeAccessibleListeners=Vs,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),r=Bh(window,"pointerup",(o,a)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:h}=this.node.getProps(),d=!h&&!Tee(this.node.current,o.target)?c:l;d&&ei.update(()=>d(o,a))},{passive:!(i.onTap||i.onPointerUp)}),s=Bh(window,"pointercancel",(o,a)=>this.cancelPress(o,a),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ih(r,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||NL("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&ei.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ah(this.node.current,"keyup",o),NL("down",(a,l)=>{this.startPress(a,l)})},t=Ah(this.node.current,"keydown",e),i=()=>{this.isPressing&&NL("cancel",(s,o)=>this.cancelPress(s,o))},r=Ah(this.node.current,"blur",i);this.removeAccessibleListeners=Ih(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&ei.postRender(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Cee()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&ei.postRender(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Bh(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Ah(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ih(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const BN=new WeakMap,OL=new WeakMap,_Ae=n=>{const e=BN.get(n.target);e&&e(n)},AAe=n=>{n.forEach(_Ae)};function SAe({root:n,...e}){const t=n||document;OL.has(t)||OL.set(t,{});const i=OL.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(AAe,{root:n,...e})),i[r]}function wAe(n,e,t){const i=SAe(e);return BN.set(n,t),i.observe(n),()=>{BN.delete(n),i.unobserve(n)}}const MAe={some:0,all:1};let bAe=class extends sp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:MAe[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return wAe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(EAe(e,t))&&this.startObserver()}unmount(){}};function EAe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const CAe={inView:{Feature:bAe},tap:{Feature:xAe},focus:{Feature:yAe},hover:{Feature:vAe}};function Ree(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function DP(n,e,t){const i=n.getProps();return Sz(i,e,t!==void 0?t:i.custom,n)}const wf=n=>n*1e3,Lh=n=>n/1e3,TAe={type:"spring",stiffness:500,damping:25,restSpeed:10},RAe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),PAe={type:"keyframes",duration:.8},BAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IAe=(n,{keyframes:e})=>e.length>2?PAe:d0.has(n)?n.startsWith("scale")?RAe(e[1]):TAe:BAe;function LAe({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function wz(n,e){return n[e]||n.default||n}const DAe=n=>n!==null;function FP(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(DAe),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}let CT;function FAe(){CT=void 0}const Mf={now:()=>(CT===void 0&&Mf.set(hs.isProcessing||b_e.useManualTiming?hs.timestamp:performance.now()),CT),set:n=>{CT=n,queueMicrotask(FAe)}},Pee=n=>/^0[^.\s]+$/u.test(n);function NAe(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Pee(n):!0}let IN=Vs;const Bee=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),OAe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UAe(n){const e=OAe.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Iee(n,e,t=1){const[i,r]=UAe(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return Bee(o)?parseFloat(o):o}return mz(r)?Iee(r,e,t+1):r}const kAe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),p6=n=>n===g1||n===Qt,m6=(n,e)=>parseFloat(n.split(", ")[e]),g6=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return m6(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?m6(s[1],n):0}},zAe=new Set(["x","y","z"]),HAe=_M.filter(n=>!zAe.has(n));function GAe(n){const e=[];return HAe.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Nx={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:g6(4,13),y:g6(5,14)};Nx.translateX=Nx.x;Nx.translateY=Nx.y;const Lee=n=>e=>e.test(n),VAe={test:n=>n==="auto",parse:n=>n},Dee=[g1,Qt,nu,Yd,K_e,J_e,VAe],v6=n=>Dee.find(Lee(n)),yg=new Set;let LN=!1,DN=!1;function Fee(){if(DN){const n=Array.from(yg).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=GAe(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}DN=!1,LN=!1,yg.forEach(n=>n.complete()),yg.clear()}function Nee(){yg.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(DN=!0)})}function jAe(){Nee(),Fee()}class Mz{constructor(e,t,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yg.add(this),LN||(LN=!0,ei.read(Nee),ei.resolveKeyframes(Fee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bz=(n,e)=>t=>!!(AM(t)&&X_e.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),Oee=(n,e,t)=>i=>{if(!AM(i))return i;const[r,s,o,a]=i.match(gz);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},WAe=n=>zf(0,255,n),UL={...g1,transform:n=>Math.round(WAe(n))},qm={test:bz("rgb","red"),parse:Oee("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+UL.transform(n)+", "+UL.transform(e)+", "+UL.transform(t)+", "+cS(lS.transform(i))+")"};function XAe(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const FN={test:bz("#"),parse:XAe,transform:qm.transform},Ry={test:bz("hsl","hue"),parse:Oee("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+nu.transform(cS(e))+", "+nu.transform(cS(t))+", "+cS(lS.transform(i))+")"},Ds={test:n=>qm.test(n)||FN.test(n)||Ry.test(n),parse:n=>qm.test(n)?qm.parse(n):Ry.test(n)?Ry.parse(n):FN.parse(n),transform:n=>AM(n)?n:n.hasOwnProperty("red")?qm.transform(n):Ry.transform(n)};function JAe(n){var e,t;return isNaN(n)&&AM(n)&&(((e=n.match(gz))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(W_e))===null||t===void 0?void 0:t.length)||0)>0}const Uee="number",kee="color",KAe="var",YAe="var(",y6="${}",QAe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hw(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(QAe,a=>(Ds.test(a)?(i.color.push(s),r.push(kee),t.push(Ds.parse(a))):a.startsWith(YAe)?(i.var.push(s),r.push(KAe),t.push(a)):(i.number.push(s),r.push(Uee),t.push(parseFloat(a))),++s,y6)).split(y6);return{values:t,split:o,indexes:i,types:r}}function zee(n){return hw(n).values}function Hee(n){const{split:e,types:t}=hw(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===Uee?s+=cS(r[o]):a===kee?s+=Ds.transform(r[o]):s+=r[o]}return s}}const qAe=n=>typeof n=="number"?0:n;function $Ae(n){const e=zee(n);return Hee(n)(e.map(qAe))}const Hf={test:JAe,parse:zee,createTransformer:Hee,getAnimatableNone:$Ae},ZAe=new Set(["brightness","contrast","saturate","opacity"]);function eSe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(gz)||[];if(!i)return n;const r=t.replace(i,"");let s=ZAe.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const tSe=/\b([a-z-]*)\(.*?\)/gu,NN={...Hf,getAnimatableNone:n=>{const e=n.match(tSe);return e?e.map(eSe).join(" "):n}},nSe={...mee,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:NN,WebkitFilter:NN},Ez=n=>nSe[n];function Gee(n,e){let t=Ez(n);return t!==NN&&(t=Hf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const iSe=new Set(["auto","none","0"]);function rSe(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!iSe.has(s)&&hw(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=Gee(t,r)}class Vee extends Mz{constructor(e,t,i,r){super(e,t,i,r,r==null?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),mz(c))){const h=Iee(c,t.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!kAe.has(i)||e.length!==2)return;const[r,s]=e,o=v6(r),a=v6(s);if(o!==a)if(p6(o)&&p6(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)NAe(e[r])&&i.push(r);i.length&&rSe(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nx[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Nx[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jee(n){let e;return()=>(e===void 0&&(e=n()),e)}const x6=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Hf.test(n)||n==="0")&&!n.startsWith("url("));function sSe(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function oSe(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=x6(r,e),a=x6(s,e);return!o||!a?!1:sSe(n)||t==="spring"&&i}class Wee{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jAe(),this._resolved}onKeyframesResolved(e,t){this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!oSe(e,i,r,s))if(o)this.options.duration=0;else{l==null||l(FP(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,t);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...h},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function Xee(n,e){return e?n*(1e3/e):0}const aSe=5;function Jee(n,e,t){const i=Math.max(e-aSe,0);return Xee(t-n(i),e-i)}const kL=.001,lSe=.01,cSe=10,uSe=.05,hSe=1;function dSe({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s,o=1-e;o=zf(uSe,hSe,o),n=zf(lSe,cSe,Lh(n)),o<1?(r=c=>{const h=c*o,d=h*n,p=h-t,m=ON(c,o),v=Math.exp(-d);return kL-p/m*v},s=c=>{const h=c*o*n,d=h*t+t,p=Math.pow(o,2)*Math.pow(c,2)*n,m=Math.exp(-h),v=ON(Math.pow(c,2),o);return(-r(c)+kL>0?-1:1)*((d-p)*m)/v}):(r=c=>{const h=Math.exp(-c*n),d=(c-t)*n+1;return-kL+h*d},s=c=>{const h=Math.exp(-c*n),d=(t-c)*(n*n);return h*d});const a=5/n,l=pSe(r,s,a);if(n=wf(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const fSe=12;function pSe(n,e,t){let i=t;for(let r=1;r<fSe;r++)i=i-n(i)/e(i);return i}function ON(n,e){return n*Math.sqrt(1-e*e)}const mSe=["duration","bounce"],gSe=["stiffness","damping","mass"];function _6(n,e){return e.some(t=>n[t]!==void 0)}function vSe(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!_6(n,gSe)&&_6(n,mSe)){const t=dSe(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function Kee({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=vSe({...i,velocity:-Lh(i.velocity||0)}),m=d||0,v=l/(2*Math.sqrt(a*c)),x=s-r,y=Lh(Math.sqrt(a/c)),g=Math.abs(x)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let S;if(v<1){const w=ON(y,v);S=b=>{const P=Math.exp(-v*y*b);return s-P*((m+v*y*x)/w*Math.sin(w*b)+x*Math.cos(w*b))}}else if(v===1)S=w=>s-Math.exp(-y*w)*(x+(m+y*x)*w);else{const w=y*Math.sqrt(v*v-1);S=b=>{const P=Math.exp(-v*y*b),T=Math.min(w*b,300);return s-P*((m+v*y*x)*Math.sinh(T)+w*x*Math.cosh(T))/w}}return{calculatedDuration:p&&h||null,next:w=>{const b=S(w);if(p)o.done=w>=h;else{let P=m;w!==0&&(v<1?P=Jee(S,w,b):P=0);const T=Math.abs(P)<=t,B=Math.abs(s-b)<=e;o.done=T&&B}return o.value=o.done?s:b,o}}}function A6({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],p={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let x=t*e;const y=d+x,g=o===void 0?y:o(y);g!==y&&(x=g-d);const S=I=>-x*Math.exp(-I/i),w=I=>g+S(I),b=I=>{const R=S(I),C=w(I);p.done=Math.abs(R)<=c,p.value=p.done?g:C};let P,T;const B=I=>{m(p.value)&&(P=I,T=Kee({keyframes:[p.value,v(p.value)],velocity:Jee(w,I,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return B(0),{calculatedDuration:null,next:I=>{let R=!1;return!T&&P===void 0&&(R=!0,b(I),B(I)),P!==void 0&&I>=P?T.next(I-P):(!R&&b(I),p)}}}const Yee=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,ySe=1e-7,xSe=12;function _Se(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=Yee(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>ySe&&++a<xSe);return o}function wM(n,e,t,i){if(n===e&&t===i)return Vs;const r=s=>_Se(s,0,1,n,t);return s=>s===0||s===1?s:Yee(r(s),e,i)}const ASe=wM(.42,0,1,1),SSe=wM(0,0,.58,1),Qee=wM(.42,0,.58,1),wSe=n=>Array.isArray(n)&&typeof n[0]!="number",qee=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,$ee=n=>e=>1-n(1-e),Cz=n=>1-Math.sin(Math.acos(n)),Zee=$ee(Cz),MSe=qee(Cz),ete=wM(.33,1.53,.69,.99),Tz=$ee(ete),bSe=qee(Tz),ESe=n=>(n*=2)<1?.5*Tz(n):.5*(2-Math.pow(2,-10*(n-1))),S6={linear:Vs,easeIn:ASe,easeInOut:Qee,easeOut:SSe,circIn:Cz,circInOut:MSe,circOut:Zee,backIn:Tz,backInOut:bSe,backOut:ete,anticipate:ESe},w6=n=>{if(Array.isArray(n)){IN(n.length===4);const[e,t,i,r]=n;return wM(e,t,i,r)}else if(typeof n=="string")return IN(S6[n]!==void 0),S6[n];return n},dw=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Li=(n,e,t)=>n+(e-n)*t;function zL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function CSe({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=zL(l,a,n+1/3),s=zL(l,a,n),o=zL(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function FR(n,e){return t=>t>0?e:n}const HL=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},TSe=[FN,qm,Ry],RSe=n=>TSe.find(e=>e.test(n));function M6(n){const e=RSe(n);if(!e)return!1;let t=e.parse(n);return e===Ry&&(t=CSe(t)),t}const b6=(n,e)=>{const t=M6(n),i=M6(e);if(!t||!i)return FR(n,e);const r={...t};return s=>(r.red=HL(t.red,i.red,s),r.green=HL(t.green,i.green,s),r.blue=HL(t.blue,i.blue,s),r.alpha=Li(t.alpha,i.alpha,s),qm.transform(r))},UN=new Set(["none","hidden"]);function PSe(n,e){return UN.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function BSe(n,e){return t=>Li(n,e,t)}function Rz(n){return typeof n=="number"?BSe:typeof n=="string"?mz(n)?FR:Ds.test(n)?b6:DSe:Array.isArray(n)?tte:typeof n=="object"?Ds.test(n)?b6:ISe:FR}function tte(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>Rz(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function ISe(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Rz(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function LSe(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][r[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;i[s]=l,r[o]++}return i}const DSe=(n,e)=>{const t=Hf.createTransformer(e),i=hw(n),r=hw(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?UN.has(n)&&!r.values.length||UN.has(e)&&!i.values.length?PSe(n,e):Ih(tte(LSe(i,r),r.values),t):FR(n,e)};function nte(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Li(n,e,t):Rz(n)(n,e)}function FSe(n,e,t){const i=[],r=t||nte,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Vs:e;a=Ih(l,a)}i.push(a)}return i}function NSe(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(IN(s===e.length),s===1)return()=>e[0];if(s===2&&n[0]===n[1])return()=>e[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=FSe(e,i,r),a=o.length,l=c=>{let h=0;if(a>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=dw(n[h],n[h+1],c);return o[h](d)};return t?c=>l(zf(n[0],n[s-1],c)):l}function OSe(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=dw(0,e,i);n.push(Li(t,1,r))}}function USe(n){const e=[0];return OSe(e,n.length-1),e}function kSe(n,e){return n.map(t=>t*e)}function zSe(n,e){return n.map(()=>e||Qee).splice(0,n.length-1)}function NR({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=wSe(i)?i.map(w6):w6(i),s={done:!1,value:e[0]},o=kSe(t&&t.length===e.length?t:USe(e),n),a=NSe(o,e,{ease:Array.isArray(r)?r:zSe(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const E6=2e4;function HSe(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<E6;)e+=t,i=n.next(e);return e>=E6?1/0:e}const GSe=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ei.update(e,!0),stop:()=>Jh(e),now:()=>hs.isProcessing?hs.timestamp:Mf.now()}},VSe={decay:A6,inertia:A6,tween:NR,keyframes:NR,spring:Kee},jSe=n=>n/100;class Pz extends Wee{constructor({KeyframeResolver:e=Mz,...t}){super(t),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:i,motionValue:r,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);i&&r&&r.owner?this.resolver=r.owner.resolveKeyframes(s,o,i,r):this.resolver=new e(s,o,i,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=VSe[t]||NR;let l,c;a!==NR&&typeof e[0]!="number"&&(l=Ih(jSe,nte(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=HSe(h));const{calculatedDuration:d}=h,p=d+r,m=p*(i+1)-r;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:x,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,b=s;if(m){const I=Math.min(this.currentTime,h)/d;let R=Math.floor(I),C=I%1;!C&&I>=1&&(C=1),C===1&&R--,R=Math.min(R,m+1),R%2&&(v==="reverse"?(C=1-C,x&&(C-=x/d)):v==="mirror"&&(b=o)),w=zf(0,1,C)*d}const P=S?{done:!1,value:l[0]}:b.next(w);a&&(P.value=a(P.value));let{done:T}=P;!S&&c!==null&&(T=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return B&&r!==void 0&&(P.value=FP(l,this.options,r)),y&&y(P.value),B&&this.finish(),P}get duration(){const{resolved:e}=this;return e?Lh(e.calculatedDuration):0}get time(){return Lh(this.currentTime)}set time(e){e=wf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Lh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=GSe,onPlay:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=i),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ite=n=>Array.isArray(n)&&typeof n[0]=="number";function rte(n){return!!(!n||typeof n=="string"&&n in Bz||ite(n)||Array.isArray(n)&&n.every(rte))}const HA=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Bz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:HA([0,.65,.55,1]),circOut:HA([.55,0,1,.45]),backIn:HA([.31,.01,.66,-.59]),backOut:HA([.33,1.53,.69,.99])};function WSe(n){return ste(n)||Bz.easeOut}function ste(n){if(n)return ite(n)?HA(n):Array.isArray(n)?n.map(WSe):Bz[n]}function XSe(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const h=ste(a);return Array.isArray(h)&&(c.easing=h),n.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const JSe=jee(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),KSe=new Set(["opacity","clipPath","filter","transform"]),OR=10,YSe=2e4;function QSe(n){return n.type==="spring"||n.name==="backgroundColor"||!rte(n.ease)}function qSe(n,e){const t=new Pz({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<YSe;)i=t.sample(s),r.push(i.value),s+=OR;return{times:void 0,keyframes:r,duration:s-OR,ease:"linear"}}class C6 extends Wee{constructor(e){super(e);const{name:t,motionValue:i,keyframes:r}=this.options;this.resolver=new Vee(r,(s,o)=>this.onKeyframesResolved(s,o),t,i),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(QSe(this.options)){const{onComplete:d,onUpdate:p,motionValue:m,...v}=this.options,x=qSe(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,o=x.ease,a="keyframes"}const h=XSe(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return h.startTime=Mf.now(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(FP(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Lh(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Lh(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=wf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Vs;const{animation:i}=t;i.timeline=e,i.onfinish=null}return Vs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(!(t.playState==="idle"||t.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:h,...d}=this.options,p=new Pz({...d,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),m=wf(this.time);l.setWithVelocity(p.sample(m-OR).value,p.sample(m).value,OR)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return JSe()&&i&&KSe.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}function $Se(n,e){let t;const i=()=>{const{currentTime:r}=e,s=(r===null?0:r.value)/100;t!==s&&n(s),t=s};return ei.update(i,!0),()=>Jh(i)}const ZSe=jee(()=>window.ScrollTimeline!==void 0);class ewe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e){const t=this.animations.map(i=>{if(ZSe()&&i.attachTimeline)i.attachTimeline(e);else return i.pause(),$Se(r=>{i.time=i.duration*r},e)});return()=>{t.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Iz=(n,e,t,i={},r,s)=>o=>{const a=wz(i,n)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-wf(l);let h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};LAe(a)||(h={...h,...IAe(n,h)}),h.duration&&(h.duration=wf(h.duration)),h.repeatDelay&&(h.repeatDelay=wf(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=FP(h.keyframes,a);if(p!==void 0)return ei.update(()=>{h.onUpdate(p),h.onComplete()}),new ewe([])}return!s&&C6.supports(h)?new C6(h):new Pz(h)};function UR(n){return!!(Us(n)&&n.add)}function Lz(n,e){n.indexOf(e)===-1&&n.push(e)}function Dz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Fz{constructor(){this.subscriptions=[]}add(e){return Lz(this.subscriptions,e),()=>Dz(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const T6=30,twe=n=>!isNaN(parseFloat(n));class nwe{constructor(e,t={}){this.version="11.2.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Mf.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Mf.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=twe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fz);const i=this.events[e].add(t);return e==="change"?()=>{i(),ei.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mf.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T6)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,T6);return Xee(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fw(n,e){return new nwe(n,e)}function iwe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,fw(t))}function rwe(n,e){const t=DP(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=cAe(s[o]);iwe(n,o,a)}}function ote(n){return n.getProps()[aee]}function swe({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function ate(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;const c=n.getValue("willChange");i&&(o=i);const h=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const m=n.getValue(p,(s=n.latestValues[p])!==null&&s!==void 0?s:null),v=l[p];if(v===void 0||d&&swe(d,p))continue;const x={delay:t,elapsed:0,...wz(o||{},p)};let y=!1;if(window.HandoffAppearAnimations){const S=ote(n);if(S){const w=window.HandoffAppearAnimations(S,p,m,ei);w!==null&&(x.elapsed=w,y=!0)}}m.start(Iz(p,m,v,n.shouldReduceMotion&&d0.has(p)?{type:!1}:x,n,y));const g=m.animation;g&&(UR(c)&&(c.add(p),g.then(()=>c.remove(p))),h.push(g))}return a&&Promise.all(h).then(()=>{ei.update(()=>{a&&rwe(n,a)})}),h}function kN(n,e,t={}){var i;const r=DP(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(ate(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return owe(n,e,h+c,d,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(t.delay)])}function owe(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(awe).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(kN(c,e,{...s,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function awe(n,e){return n.sortNodePosition(e)}function lwe(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>kN(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=kN(n,e,t);else{const r=typeof e=="function"?DP(n,e,t.custom):e;i=Promise.all(ate(n,r,t))}return i.then(()=>{ei.postRender(()=>{n.notify("AnimationComplete",e)})})}const cwe=[...dz].reverse(),uwe=dz.length;function hwe(n){return e=>Promise.all(e.map(({animation:t,options:i})=>lwe(n,t,i)))}function dwe(n){let e=hwe(n);const t=pwe();let i=!0;const r=l=>(c,h)=>{var d;const p=DP(n,h,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:m,transitionEnd:v,...x}=p;c={...c,...x,...v}}return c};function s(l){e=l(n)}function o(l){const c=n.getProps(),h=n.getVariantContext(!0)||{},d=[],p=new Set;let m={},v=1/0;for(let y=0;y<uwe;y++){const g=cwe[y],S=t[g],w=c[g]!==void 0?c[g]:h[g],b=cw(w),P=g===l?S.isActive:null;P===!1&&(v=y);let T=w===h[g]&&w!==c[g]&&b;if(T&&i&&n.manuallyAnimateOnMount&&(T=!1),S.protectedKeys={...m},!S.isActive&&P===null||!w&&!S.prevProp||BP(w)||typeof w=="boolean")continue;let B=fwe(S.prevProp,w)||g===l&&S.isActive&&!T&&b||y>v&&b,I=!1;const R=Array.isArray(w)?w:[w];let C=R.reduce(r(g),{});P===!1&&(C={});const{prevResolvedValues:N={}}=S,j={...N,...C},W=X=>{B=!0,p.has(X)&&(I=!0,p.delete(X)),S.needsAnimating[X]=!0;const Q=n.getValue(X);Q&&(Q.liveStyle=!1)};for(const X in j){const Q=C[X],Y=N[X];if(m.hasOwnProperty(X))continue;let ie=!1;PN(Q)&&PN(Y)?ie=!Ree(Q,Y):ie=Q!==Y,ie?Q!=null?W(X):p.add(X):Q!==void 0&&p.has(X)?W(X):S.protectedKeys[X]=!0}S.prevProp=w,S.prevResolvedValues=C,S.isActive&&(m={...m,...C}),i&&n.blockInitialAnimation&&(B=!1),B&&(!T||I)&&d.push(...R.map(X=>({animation:X,options:{type:g}})))}if(p.size){const y={};p.forEach(g=>{const S=n.getBaseTarget(g),w=n.getValue(g);w&&(w.liveStyle=!0),y[g]=S??null}),d.push({animation:y})}let x=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(d):Promise.resolve()}function a(l,c){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const d=o(l);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function fwe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Ree(e,n):!1}function om(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pwe(){return{animate:om(!0),whileInView:om(),whileHover:om(),whileTap:om(),whileDrag:om(),whileFocus:om(),exit:om()}}class mwe extends sp{constructor(e){super(e),e.animationState||(e.animationState=dwe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),BP(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let gwe=0;class vwe extends sp{constructor(){super(...arguments),this.id=gwe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ywe={animation:{Feature:mwe},exit:{Feature:vwe}},R6=(n,e)=>Math.abs(n-e);function xwe(n,e){const t=R6(n.x,e.x),i=R6(n.y,e.y);return Math.sqrt(t**2+i**2)}class lte{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=VL(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=xwe(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=d,{timestamp:x}=hs;this.history.push({...v,timestamp:x});const{onStart:y,onMove:g}=this.handlers;p||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=GL(p,this.transformPagePoint),ei.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=VL(d.type==="pointercancel"?this.lastMoveEventInfo:GL(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),v&&v(d,y)},!Mee(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=LP(e),a=GL(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=hs;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=t;h&&h(e,VL(a,this.history)),this.removeListeners=Ih(Bh(this.contextWindow,"pointermove",this.handlePointerMove),Bh(this.contextWindow,"pointerup",this.handlePointerUp),Bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jh(this.updatePoint)}}function GL(n,e){return e?{point:e(n.point)}:n}function P6(n,e){return{x:n.x-e.x,y:n.y-e.y}}function VL({point:n},e){return{point:n,delta:P6(n,cte(e)),offset:P6(n,_we(e)),velocity:Awe(e,.1)}}function _we(n){return n[0]}function cte(n){return n[n.length-1]}function Awe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=cte(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>wf(e)));)t--;if(!i)return{x:0,y:0};const s=Lh(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wa(n){return n.max-n.min}function zN(n,e=0,t=.01){return Math.abs(n-e)<=t}function B6(n,e,t,i=.5){n.origin=i,n.originPoint=Li(e.min,e.max,n.origin),n.scale=wa(t)/wa(e),(zN(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Li(t.min,t.max,n.origin)-n.originPoint,(zN(n.translate)||isNaN(n.translate))&&(n.translate=0)}function uS(n,e,t,i){B6(n.x,e.x,t.x,i?i.originX:void 0),B6(n.y,e.y,t.y,i?i.originY:void 0)}function I6(n,e,t){n.min=t.min+e.min,n.max=n.min+wa(e)}function Swe(n,e,t){I6(n.x,e.x,t.x),I6(n.y,e.y,t.y)}function L6(n,e,t){n.min=e.min-t.min,n.max=n.min+wa(e)}function hS(n,e,t){L6(n.x,e.x,t.x),L6(n.y,e.y,t.y)}function wwe(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Li(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Li(t,n,i.max):Math.min(n,t)),n}function D6(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Mwe(n,{top:e,left:t,bottom:i,right:r}){return{x:D6(n.x,t,r),y:D6(n.y,e,i)}}function F6(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function bwe(n,e){return{x:F6(n.x,e.x),y:F6(n.y,e.y)}}function Ewe(n,e){let t=.5;const i=wa(n),r=wa(e);return r>i?t=dw(e.min,e.max-i,n.min):i>r&&(t=dw(n.min,n.max-r,e.min)),zf(0,1,t)}function Cwe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const HN=.35;function Twe(n=HN){return n===!1?n=0:n===!0&&(n=HN),{x:N6(n,"left","right"),y:N6(n,"top","bottom")}}function N6(n,e,t){return{min:O6(n,e),max:O6(n,t)}}function O6(n,e){return typeof n=="number"?n:n[e]||0}const U6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Py=()=>({x:U6(),y:U6()}),k6=()=>({min:0,max:0}),tr=()=>({x:k6(),y:k6()});function el(n){return[n("x"),n("y")]}function ute({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Rwe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Pwe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function jL(n){return n===void 0||n===1}function GN({scale:n,scaleX:e,scaleY:t}){return!jL(n)||!jL(e)||!jL(t)}function Tm(n){return GN(n)||hte(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function hte(n){return z6(n.x)||z6(n.y)}function z6(n){return n&&n!=="0%"}function kR(n,e,t){const i=n-t,r=e*i;return t+r}function H6(n,e,t,i,r){return r!==void 0&&(n=kR(n,r,i)),kR(n,t,i)+e}function VN(n,e=0,t=1,i,r){n.min=H6(n.min,e,t,i,r),n.max=H6(n.max,e,t,i,r)}function dte(n,{x:e,y:t}){VN(n.x,e.translate,e.scale,e.originPoint),VN(n.y,t.translate,t.scale,t.originPoint)}function Bwe(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&By(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,dte(n,o)),i&&Tm(s.latestValues)&&By(n,s.latestValues))}e.x=G6(e.x),e.y=G6(e.y)}function G6(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Zd(n,e){n.min=n.min+e,n.max=n.max+e}function V6(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Li(n.min,n.max,s);VN(n,e[t],e[i],o,e.scale)}const Iwe=["x","scaleX","originX"],Lwe=["y","scaleY","originY"];function By(n,e){V6(n.x,e,Iwe),V6(n.y,e,Lwe)}function fte(n,e){return ute(Pwe(n.getBoundingClientRect(),e))}function Dwe(n,e,t){const i=fte(n,t),{scroll:r}=e;return r&&(Zd(i.x,r.offset.x),Zd(i.y,r.offset.y)),i}const pte=({current:n})=>n?n.ownerDocument.defaultView:null,Fwe=new WeakMap;class Nwe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(LP(h,"page").point)},s=(h,d)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Eee(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),el(y=>{let g=this.getAxisMotionValue(y).get()||0;if(nu.test(g)){const{projection:S}=this.visualElement;if(S&&S.layout){const w=S.layout.layoutBox[y];w&&(g=wa(w)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&ei.postRender(()=>v(h,d));const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=Owe(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),x&&x(h,d)},a=(h,d)=>this.stop(h,d),l=()=>el(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new lte(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:pte(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ei.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!OE(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=wwe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Ty(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Mwe(r.layoutBox,t):this.constraints=!1,this.elastic=Twe(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&el(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Cwe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ty(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Dwe(i,r.root,this.visualElement.getTransformPagePoint());let o=bwe(r.layout.layoutBox,s);if(t){const a=t(Rwe(o));this.hasMutatedConstraints=!!a,a&&(o=ute(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=el(h=>{if(!OE(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(Iz(e,i,0,t,this.visualElement))}stopAnimation(){el(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){el(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){el(t=>{const{drag:i}=this.getProps();if(!OE(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Li(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ty(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};el(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=Ewe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),el(o=>{if(!OE(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Li(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Fwe.set(this.visualElement,this);const e=this.visualElement.current,t=Bh(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ty(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Ah(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(el(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=HN,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function OE(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Owe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Uwe extends sp{constructor(e){super(e),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new Nwe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const j6=n=>(e,t)=>{n&&ei.postRender(()=>n(e,t))};class kwe extends sp{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(e){this.session=new lte(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pte(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:j6(e),onStart:j6(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ei.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Bh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zwe(){const n=ue.useContext(lz);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=ue.useId();return ue.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const TT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W6(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const rA={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Qt.test(n))n=parseFloat(n);else return n;const t=W6(n,e.target.x),i=W6(n,e.target.y);return`${t}% ${i}%`}},Hwe={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Hf.parse(n);if(r.length>5)return i;const s=Hf.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Li(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class Gwe extends ue.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;U_e(Vwe),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),TT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ei.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hz.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mte(n){const[e,t]=zwe(),i=ue.useContext(uee);return Pe.jsx(Gwe,{...n,layoutGroup:i,switchLayoutGroup:ue.useContext(hee),isPresent:e,safeToRemove:t})}const Vwe={borderRadius:{...rA,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rA,borderTopRightRadius:rA,borderBottomLeftRadius:rA,borderBottomRightRadius:rA,boxShadow:Hwe},gte=["TopLeft","TopRight","BottomLeft","BottomRight"],jwe=gte.length,X6=n=>typeof n=="string"?parseFloat(n):n,J6=n=>typeof n=="number"||Qt.test(n);function Wwe(n,e,t,i,r,s){r?(n.opacity=Li(0,t.opacity!==void 0?t.opacity:1,Xwe(i)),n.opacityExit=Li(e.opacity!==void 0?e.opacity:1,0,Jwe(i))):s&&(n.opacity=Li(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<jwe;o++){const a=`border${gte[o]}Radius`;let l=K6(e,a),c=K6(t,a);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||J6(l)===J6(c)?(n[a]=Math.max(Li(X6(l),X6(c),i),0),(nu.test(c)||nu.test(l))&&(n[a]+="%")):n[a]=c)}(e.rotate||t.rotate)&&(n.rotate=Li(e.rotate||0,t.rotate||0,i))}function K6(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Xwe=vte(0,.5,Zee),Jwe=vte(.5,.95,Vs);function vte(n,e,t){return i=>i<n?0:i>e?1:t(dw(n,e,i))}function Y6(n,e){n.min=e.min,n.max=e.max}function Qa(n,e){Y6(n.x,e.x),Y6(n.y,e.y)}function Q6(n,e,t,i,r){return n-=e,n=kR(n,1/t,i),r!==void 0&&(n=kR(n,1/r,i)),n}function Kwe(n,e=0,t=1,i=.5,r,s=n,o=n){if(nu.test(e)&&(e=parseFloat(e),e=Li(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Li(s.min,s.max,i);n===s&&(a-=e),n.min=Q6(n.min,e,t,a,r),n.max=Q6(n.max,e,t,a,r)}function q6(n,e,[t,i,r],s,o){Kwe(n,e[t],e[i],e[r],e.scale,s,o)}const Ywe=["x","scaleX","originX"],Qwe=["y","scaleY","originY"];function $6(n,e,t,i){q6(n.x,e,Ywe,t?t.x:void 0,i?i.x:void 0),q6(n.y,e,Qwe,t?t.y:void 0,i?i.y:void 0)}function Z6(n){return n.translate===0&&n.scale===1}function yte(n){return Z6(n.x)&&Z6(n.y)}function qwe(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function xte(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function ej(n){return wa(n.x)/wa(n.y)}class $we{constructor(){this.members=[]}add(e){Lz(this.members,e),e.scheduleRender()}remove(e){if(Dz(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tj(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:m,skewY:v}=t;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Zwe=(n,e)=>n.depth-e.depth;class eMe{constructor(){this.children=[],this.isDirty=!1}add(e){Lz(this.children,e),this.isDirty=!0}remove(e){Dz(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zwe),this.isDirty=!1,this.children.forEach(e)}}function tMe(n,e){const t=Mf.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Jh(i),n(s-e))};return ei.read(i,!0),()=>Jh(i)}function nMe(n){window.MotionDebug&&window.MotionDebug.record(n)}function iMe(n){return n instanceof SVGElement&&n.tagName!=="svg"}function rMe(n,e,t){const i=Us(n)?n:fw(n);return i.start(Iz("",i,e,t)),i.animation}const WL=["","X","Y","Z"],sMe={visibility:"hidden"},nj=1e3;let oMe=0;const Rm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function XL(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function _te(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return!1;const{visualElement:e}=n.options;return e?ote(e)?!0:n.parent&&!n.parent.hasCheckedOptimisedAppear?_te(n.parent):!1:!1}function Ate({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},o=e==null?void 0:e()){this.id=oMe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rm.totalNodes=Rm.resolvedTargetDeltas=Rm.recalculatedProjection=0,this.nodes.forEach(cMe),this.nodes.forEach(pMe),this.nodes.forEach(mMe),this.nodes.forEach(uMe),nMe(Rm)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new eMe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Fz),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const a=this.eventHandlers.get(s);a&&a.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iMe(s),this.instance=s;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||a)&&(this.isLayoutDirty=!0),n){let h;const d=()=>this.root.updateBlockedByResize=!1;n(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=tMe(d,250),TT.hasAnimatedSinceResize&&(TT.hasAnimatedSinceResize=!1,this.nodes.forEach(rj))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||_Me,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!xte(this.targetLayout,m)||p,S=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const w={...wz(v,"layout"),onPlay:x,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else d||rj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gMe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&_te(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ij);return}this.isUpdating||this.nodes.forEach(dMe),this.isUpdating=!1,this.nodes.forEach(fMe),this.nodes.forEach(aMe),this.nodes.forEach(lMe),this.clearAllSnapshots();const s=Mf.now();hs.delta=zf(0,1e3/60,s-hs.timestamp),hs.timestamp=s,hs.isProcessing=!0,FL.update.process(hs),FL.preRender.process(hs),FL.render.process(hs),hs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hz.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(hMe),this.sharedNodes.forEach(vMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ei.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ei.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!yte(this.projectionDelta),a=this.getTransformTemplate(),l=a?a(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;s&&(o||Tm(this.latestValues)||c)&&(r(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return s&&(a=this.removeTransform(a)),AMe(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return tr();const o=s.measureViewportBox(),{scroll:a}=this.root;return a&&(Zd(o.x,a.offset.x),Zd(o.y,a.offset.y)),o}removeElementScroll(s){const o=tr();Qa(o,s);for(let a=0;a<this.path.length;a++){const l=this.path[a],{scroll:c,options:h}=l;if(l!==this.root&&c&&h.layoutScroll){if(c.isRoot){Qa(o,s);const{scroll:d}=this.root;d&&(Zd(o.x,-d.offset.x),Zd(o.y,-d.offset.y))}Zd(o.x,c.offset.x),Zd(o.y,c.offset.y)}}return o}applyTransform(s,o=!1){const a=tr();Qa(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&By(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Tm(c.latestValues)&&By(a,c.latestValues)}return Tm(this.latestValues)&&By(a,this.latestValues),a}removeTransform(s){const o=tr();Qa(o,s);for(let a=0;a<this.path.length;a++){const l=this.path[a];if(!l.instance||!Tm(l.latestValues))continue;GN(l.latestValues)&&l.updateSnapshot();const c=tr(),h=l.measurePageBox();Qa(c,h),$6(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Tm(this.latestValues)&&$6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=hs.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),hS(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Swe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qa(this.target,this.layout.layoutBox),dte(this.target,this.targetDelta)):Qa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),hS(this.relativeTargetOrigin,this.target,d.target),Qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||GN(this.parent.latestValues)||hte(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===hs.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Qa(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Bwe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tr());const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Py(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Py(),this.projectionDeltaWithTransform=Py());const v=this.projectionTransform;uS(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=tj(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Rm.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const a=this.snapshot,l=a?a.latestValues:{},c={...this.latestValues},h=Py();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=tr(),p=a?a.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,x=this.getStack(),y=!x||x.members.length<=1,g=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(xMe));this.animationProgress=0;let S;this.mixTargetDelta=w=>{const b=w/1e3;sj(h.x,s.x,b),sj(h.y,s.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hS(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yMe(this.relativeTarget,this.relativeTargetOrigin,d,b),S&&qwe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=tr()),Qa(S,this.relativeTarget)),v&&(this.animationValues=c,Wwe(c,l,this.latestValues,b,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ei.update(()=>{TT.hasAnimatedSinceResize=!0,this.currentAnimation=rMe(0,nj,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:a,layout:l,latestValues:c}=s;if(!(!o||!a||!l)){if(this!==s&&this.layout&&l&&Ste(this.options.animationType,this.layout.layoutBox,l.layoutBox)){a=this.target||tr();const h=wa(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+h;const d=wa(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+d}Qa(o,a),By(o,c),uS(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new $we),this.sharedNodes.get(s).add(o);const a=o.options.initialPromotionConfig;o.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:a}={}){const l=this.getStack();l&&l.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:a}=s;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(o=!0),!o)return;const l={};a.z&&XL("z",s,l,this.animationValues);for(let c=0;c<WL.length;c++)XL(`rotate${WL[c]}`,s,l,this.animationValues),XL(`skew${WL[c]}`,s,l,this.animationValues);s.render();for(const c in l)s.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);s.scheduleRender()}getProjectionStyles(s){var o,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sMe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ET(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ET(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Tm(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=tj(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(a=(o=d.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in LR){if(d[v]===void 0)continue;const{correct:x,applyTo:y}=LR[v],g=l.transform==="none"?d[v]:x(d[v],h);if(y){const S=y.length;for(let w=0;w<S;w++)l[y[w]]=g}else l[v]=g}return this.options.layoutId&&(l.pointerEvents=h===this?ET(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(ij),this.root.sharedNodes.clear()}}}function aMe(n){n.updateLayout()}function lMe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?el(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=wa(p);p.min=i[d].min,p.max=p.min+m}):Ste(s,t.layoutBox,i)&&el(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=wa(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=Py();uS(a,i,t.layoutBox);const l=Py();o?uS(l,n.applyTransform(r,!0),t.measuredBox):uS(l,i,t.layoutBox);const c=!yte(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=tr();hS(v,t.layoutBox,p.layoutBox);const x=tr();hS(x,i,m.layoutBox),xte(v,x)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function cMe(n){Rm.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function uMe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function hMe(n){n.clearSnapshot()}function ij(n){n.clearMeasurements()}function dMe(n){n.isLayoutDirty=!1}function fMe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function rj(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function pMe(n){n.resolveTargetDelta()}function mMe(n){n.calcProjection()}function gMe(n){n.resetSkewAndRotation()}function vMe(n){n.removeLeadSnapshot()}function sj(n,e,t){n.translate=Li(e.translate,0,t),n.scale=Li(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function oj(n,e,t,i){n.min=Li(e.min,t.min,i),n.max=Li(e.max,t.max,i)}function yMe(n,e,t,i){oj(n.x,e.x,t.x,i),oj(n.y,e.y,t.y,i)}function xMe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _Me={duration:.45,ease:[.4,0,.1,1]},aj=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),lj=aj("applewebkit/")&&!aj("chrome/")?Math.round:Vs;function cj(n){n.min=lj(n.min),n.max=lj(n.max)}function AMe(n){cj(n.x),cj(n.y)}function Ste(n,e,t){return n==="position"||n==="preserve-aspect"&&!zN(ej(e),ej(t),.2)}const SMe=Ate({attachResizeListener:(n,e)=>Ah(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JL={current:void 0},wte=Ate({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!JL.current){const n=new SMe({});n.mount(window),n.setOptions({layoutScroll:!0}),JL.current=n}return JL.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),wMe={pan:{Feature:kwe},drag:{Feature:Uwe,ProjectionNode:wte,MeasureLayout:mte}},jN={current:null},Mte={current:!1};function MMe(){if(Mte.current=!0,!!cz)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>jN.current=n.matches;n.addListener(e),e()}else jN.current=!1}function bMe(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Us(s))n.addValue(r,s),UR(i)&&i.add(r);else if(Us(o))n.addValue(r,fw(s,{owner:n})),UR(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,fw(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const uj=new WeakMap,EMe=[...Dee,Ds,Hf],CMe=n=>EMe.find(Lee(n)),bte=Object.keys(uw),TMe=bte.length,hj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],RMe=fz.length;function Ete(n){if(n)return n.options.allowProjection!==!1?n.projection:Ete(n.parent)}class PMe{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(p,m,v,x)=>new this.KeyframeResolver(p,m,v,x,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mz,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ei.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=IP(t),this.isVariantNode=cee(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in d){const m=d[p];l[p]!==void 0&&Us(m)&&(m.set(l[p],!1),UR(h)&&h.add(p))}}mount(e){this.current=e,uj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Mte.current||MMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;uj.delete(this.current),this.projection&&this.projection.unmount(),Jh(this.notifyUpdate),Jh(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)(e=this.features[t])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,t){const i=d0.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ei.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<TMe;l++){const c=bte[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=uw[c];p&&(o=p),h(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection=new o(this.latestValues,t["data-framer-portal-id"]?void 0:Ete(this.parent)),this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Ty(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<hj.length;i++){const r=hj[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=bMe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<RMe;i++){const r=fz[i],s=this.props[r];(cw(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=fw(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Bee(r)||Pee(r))?r=parseFloat(r):!CMe(r)&&Hf.test(t)&&(r=Gee(e,t)),this.setBaseTarget(e,Us(r)?r.get():r)),Us(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=Sz(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Us(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Fz),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Cte extends PMe{constructor(){super(...arguments),this.KeyframeResolver=Vee}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}}function BMe(n){return window.getComputedStyle(n)}class IMe extends Cte{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(d0.has(t)){const i=Ez(t);return i&&i.default||0}else{const i=BMe(e),r=(pee(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return fte(e,t)}build(e,t,i,r){vz(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Az(e,t,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Us(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){xee(e,t,i,r)}}class LMe extends Cte{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(d0.has(t)){const i=Ez(t);return i&&i.default||0}return t=_ee.has(t)?t:uz(t),e.getAttribute(t)}measureInstanceViewportBox(){return tr()}scrapeMotionValuesFromProps(e,t,i){return See(e,t,i)}build(e,t,i,r){xz(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){Aee(e,t,i,r)}mount(e){this.isSVGTag=_z(e.tagName),super.mount(e)}}const DMe=(n,e)=>pz(n)?new LMe(e,{enableHardwareAcceleration:!1}):new IMe(e,{allowProjection:n!==ue.Fragment,enableHardwareAcceleration:!0}),FMe={layout:{ProjectionNode:wte,MeasureLayout:mte}},NMe={...ywe,...CAe,...wMe,...FMe},Ma=N_e((n,e)=>pAe(n,e,NMe,DMe)),ks={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},OMe=()=>Pe.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[Pe.jsxs("div",{className:`${ks.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[Pe.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[Pe.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915eff]"}),Pe.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),Pe.jsxs("div",{children:[Pe.jsxs("h1",{className:`${ks.heroHeadText} text-white`,children:[" Hello there! I'm ",Pe.jsx("span",{className:"text-[#915eff]",children:"Divyarajsinh."})]}),Pe.jsx("p",{className:`${ks.heroSubText} mt-2 text-white-100`,children:"I am in love with CS!"})]})]}),Pe.jsx(__e,{}),Pe.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:Pe.jsx("a",{href:"#about",children:Pe.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:Pe.jsx(Ma.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),UMe="/assets/logo-CaBZvlbM.png",kMe="/assets/backend-hTXvHAtb.png",zMe="/assets/creator-B3dXWOt8.png",HMe="/assets/mobile-DOyYxxYf.png",GMe="/assets/web-08ko_qNY.png",VMe="/assets/github-BUfx7uqA.png",jMe="data:image/svg+xml,%3csvg%20width='20'%20height='12'%20viewBox='0%200%2020%2012'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202L19%202C19.2652%202%2019.5196%201.89464%2019.7071%201.70711C19.8946%201.51957%2020%201.26522%2020%201C20%200.734784%2019.8946%200.480429%2019.7071%200.292892C19.5196%200.105356%2019.2652%200%2019%200L9%200C8.73478%200%208.48043%200.105356%208.29289%200.292892C8.10536%200.480429%208%200.734784%208%201C8%201.26522%208.10536%201.51957%208.29289%201.70711C8.48043%201.89464%208.73478%202%209%202ZM19%2010L1%2010C0.734784%2010%200.480429%2010.1054%200.292892%2010.2929C0.105356%2010.4804%200%2010.7348%200%2011C0%2011.2652%200.105356%2011.5196%200.292892%2011.7071C0.480429%2011.8946%200.734784%2012%201%2012L19%2012C19.2652%2012%2019.5196%2011.8946%2019.7071%2011.7071C19.8946%2011.5196%2020%2011.2652%2020%2011C20%2010.7348%2019.8946%2010.4804%2019.7071%2010.2929C19.5196%2010.1054%2019.2652%2010%2019%2010V10ZM1%207L19%207C19.2652%207%2019.5196%206.89464%2019.7071%206.70711C19.8946%206.51957%2020%206.26522%2020%206C20%205.73478%2019.8946%205.48043%2019.7071%205.29289C19.5196%205.10536%2019.2652%205%2019%205L1%205C0.734784%205%200.480429%205.10536%200.292892%205.29289C0.105356%205.48043%200%205.73478%200%206C0%206.26522%200.105356%206.51957%200.292892%206.70711C0.480429%206.89464%200.734784%207%201%207Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",WMe="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4099%209L16.7099%202.71C16.8982%202.5217%2017.004%202.2663%2017.004%202C17.004%201.7337%2016.8982%201.47831%2016.7099%201.29C16.5216%201.1017%2016.2662%200.995911%2015.9999%200.995911C15.7336%200.995911%2015.4782%201.1017%2015.2899%201.29L8.99994%207.59L2.70994%201.29C2.52164%201.1017%202.26624%200.995911%201.99994%200.995911C1.73364%200.995911%201.47824%201.1017%201.28994%201.29C1.10164%201.47831%200.995847%201.7337%200.995847%202C0.995847%202.2663%201.10164%202.5217%201.28994%202.71L7.58994%209L1.28994%2015.29C1.19621%2015.383%201.12182%2015.4936%201.07105%2015.6154C1.02028%2015.7373%200.994141%2015.868%200.994141%2016C0.994141%2016.132%201.02028%2016.2627%201.07105%2016.3846C1.12182%2016.5064%201.19621%2016.617%201.28994%2016.71C1.3829%2016.8037%201.4935%2016.8781%201.61536%2016.9289C1.73722%2016.9797%201.86793%2017.0058%201.99994%2017.0058C2.13195%2017.0058%202.26266%2016.9797%202.38452%2016.9289C2.50638%2016.8781%202.61698%2016.8037%202.70994%2016.71L8.99994%2010.41L15.2899%2016.71C15.3829%2016.8037%2015.4935%2016.8781%2015.6154%2016.9289C15.7372%2016.9797%2015.8679%2017.0058%2015.9999%2017.0058C16.132%2017.0058%2016.2627%2016.9797%2016.3845%2016.9289C16.5064%2016.8781%2016.617%2016.8037%2016.7099%2016.71C16.8037%2016.617%2016.8781%2016.5064%2016.9288%2016.3846C16.9796%2016.2627%2017.0057%2016.132%2017.0057%2016C17.0057%2015.868%2016.9796%2015.7373%2016.9288%2015.6154C16.8781%2015.4936%2016.8037%2015.383%2016.7099%2015.29L10.4099%209Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",XMe="/assets/css-DlZE0Yf0.png",JMe="/assets/docker-DrQKSZ7f.png",KMe="/assets/figma-V-jssYD-.png",YMe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",QMe="/assets/html-BlhLRGzY.png",qMe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",$Me="/assets/mongodb-DnU9EL9s.png",ZMe="/assets/nodejs-BctxLIqp.png",ebe="/assets/reactjs-LYxsbuPE.png",tbe="/assets/tailwind-CLR6e3yI.png",nbe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20fill='none'%20stroke-linecap='square'%20stroke-miterlimit='10'%20version='1.1'%20viewBox='0%200%20226.77%20226.77'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(8.964%204.2527)'%20fill-rule='evenodd'%20stroke='%23000'%20stroke-linecap='butt'%20stroke-linejoin='round'%20stroke-width='4'%3e%3cpath%20d='m63.02%20200.61-43.213-174.94%20173.23%2049.874z'/%3e%3cpath%20d='m106.39%2050.612%2021.591%2087.496-86.567-24.945z'/%3e%3cpath%20d='m84.91%20125.03-10.724-43.465%2043.008%2012.346z'/%3e%3cpath%20d='m63.458%2038.153%2010.724%2043.465-43.008-12.346z'/%3e%3cpath%20d='m149.47%2062.93%2010.724%2043.465-43.008-12.346z'/%3e%3cpath%20d='m84.915%20125.06%2010.724%2043.465-43.008-12.346z'/%3e%3c/g%3e%3c/svg%3e",ibe="/assets/COE-B6bS9TU8.png",rbe="/assets/sglogo-BUPXZsxl.png",dj="/assets/USF-3CeHFK67.png",sbe="/assets/OpenCVShow-DPTlN3Uq.png",obe="/assets/DNSFinalProjectShow-CjBxPh0q.png",abe="/assets/PortfolioWebsiteShow-vIswDXxw.png",lbe="/assets/LinkedInLogo-WTsSmV9f.png",cbe="/assets/GithubLogo-hJjCtujl.png",fj=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"},{id:"linkedin",title:"LinkedIn",href:"https://www.linkedin.com/in/dkarmariya/",imgSrc:lbe},{id:"github",title:"GitHub",href:"https://github.com/Iamdk25",imgSrc:cbe}],ube=[{title:"Web Developer",icon:GMe},{title:"React Native Developer",icon:HMe},{title:"iOS Developer",icon:kMe},{title:"Interactive Dashboard Designer",icon:zMe}],hbe=[{name:"HTML 5",icon:QMe},{name:"CSS 3",icon:XMe},{name:"JavaScript",icon:qMe},{name:"React JS",icon:ebe},{name:"Tailwind CSS",icon:tbe},{name:"Node JS",icon:ZMe},{name:"MongoDB",icon:$Me},{name:"Three JS",icon:nbe},{name:"git",icon:YMe},{name:"figma",icon:KMe},{name:"docker",icon:JMe}],dbe=[{title:"Procurement Card Student Assistant",company_name:"College of Engineering - Resource Management",icon:ibe,iconBg:"#008631",date:"September 2023 - Present",points:["Conducting PCard verifications for 350+ professors, and maintaining financial resource management at ERM.","Collaborating with JP Morgan and Chase and decrease statement processing time by 10%.","Assisting in reconciling bank statements for professors, and managing multiple budgets across several departments."]},{title:"Campus Council Representative",company_name:"USF Student Government",icon:rbe,iconBg:"#E6DEDD",date:"May 2023 - Sept 2023",points:["Overlooked 1000+ student organization interim budget requests, travel grants, events requests, for etc.","Ensured smooth conduct of fund distribution and fair assessment to all organizations.","Validated the safe and fair conduct of elections while adhering to both ethical codes and procedural norms."]},{title:"Peer Mentor",company_name:"ACE, Office of Undergraduate Studies",icon:dj,iconBg:"#383E56",date:"May 2023 - Present",points:["Conducted group meetings with 30+ students and provided them with necessary information to succeed in college.","Hosted office hours and offered 1 on 1 mentorship for student facing academic challenges.","Gained valuable crowd management abilities and cultivated crucial leadership and mentoring skills."]},{title:"Student Housing Assistant",company_name:"Housing and Residential Education, USF",icon:dj,iconBg:"#E6DEDD",date:"April 2023 - Present",points:["Acted as a first line of response by ensuring the safety of students by conducting safe management of keys and access cards.","Created a positive residential experience for students, guests, and visitors.","Handled over 150 packages and mails per day at the campus mailing center."]}],fbe=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but Rick proved me wrong.",name:"Sara Lee",designation:"CFO",company:"Acme Co",image:"https://randomuser.me/api/portraits/women/4.jpg"},{testimonial:"I've never met a web developer who truly cares about their clients' success like Rick does.",name:"Chris Brown",designation:"COO",company:"DEF Corp",image:"https://randomuser.me/api/portraits/men/5.jpg"},{testimonial:"After Rick optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Lisa Wang",designation:"CTO",company:"456 Enterprises",image:"https://randomuser.me/api/portraits/women/6.jpg"}],pbe=[{name:"Python-Based Object Detector Using OpenCV",description:"An advanced Python-based object detection system for images and videos using OpenCV and GoogleNet Frameworks.",tags:[{name:"Python",color:"blue-text-gradient"},{name:"OpenCV",color:"green-text-gradient"},{name:"Machine Learning",color:"pink-text-gradient"}],image:sbe,source_code_link:"https://github.com/Iamdk25/Open-CV-Python-project"},{name:"Parking & Offense Management System",description:"A project to manage, and keep track of all the final parking citation appeals that come to the USF Student Government Supreme Court.",tags:[{name:"DataStructures",color:"blue-text-gradient"},{name:"BFSDFS",color:"green-text-gradient"},{name:"C++",color:"pink-text-gradient"}],image:obe,source_code_link:"https://github.com/Iamdk25/DNS_Final_Project"},{name:"Personal 3D Portfolio Website",description:"A visually striking 3D portfolio website that showcases my skills and projects using 3D environments, rendering, camera controls and advanced lighting effects.",tags:[{name:"threeJS",color:"blue-text-gradient"},{name:"ReactJS",color:"green-text-gradient"},{name:"TailwindCSS",color:"pink-text-gradient"}],image:abe,source_code_link:"https://github.com/"}],mbe=()=>{const[n,e]=ue.useState(""),[t,i]=ue.useState(!1),[r,s]=ue.useState(window.scrollY),[o,a]=ue.useState(!0),l=()=>{const c=window.scrollY,h=r>c||c<10;a(h),s(c)};return ue.useEffect(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[r,o]),Pe.jsx("nav",{className:`px-4 md:px-8 w-full flex items-center py-5 fixed top-0 z-20 transition-opacity duration-300 ${o?"opacity-100":"opacity-0 h-0"}`,children:Pe.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[Pe.jsxs(lde,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[Pe.jsx("img",{src:UMe,alt:"logo",style:{cursor:"pointer",width:"50px",height:"50px"}}),Pe.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["Divyarajsinh Karmariya  ",Pe.jsx("span",{className:"sm:block hidden",children:" | Software Developer"})]})]}),Pe.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:fj.map(c=>Pe.jsx("li",{className:`${n===c.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(c.title),children:c.imgSrc?Pe.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:Pe.jsx("img",{src:c.imgSrc,alt:c.title,style:{position:"relative",top:"-15px",width:"53px",height:"50px"}})}):Pe.jsx("a",{href:`#${c.id}`,children:c.title})},c.id))}),Pe.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[Pe.jsx("img",{src:t?WMe:jMe,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>i(!t)}),Pe.jsx("div",{className:`${t?"flex":"hidden"} p-6 background-gradient bg-tertiary rounded-2xl absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-2xl`,children:Pe.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:fj.map(c=>Pe.jsx("li",{className:`${n===c.title?"text-white":"text-secondary"} font-poppins font-medium cursor-pointer text-[16px]`,onClick:()=>{i(!t),e(c.title)},children:c.imgSrc?Pe.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:Pe.jsx("img",{src:c.imgSrc,alt:c.title,style:{position:"relative",left:"6px",width:"30px",height:"30px"}})}):Pe.jsx("a",{href:`#${c.id}`,children:c.title})},c.id))})})]})]})})};var gbe=Object.defineProperty,vbe=Object.defineProperties,ybe=Object.getOwnPropertyDescriptors,pj=Object.getOwnPropertySymbols,xbe=Object.prototype.hasOwnProperty,_be=Object.prototype.propertyIsEnumerable,mj=(n,e,t)=>e in n?gbe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sA=(n,e)=>{for(var t in e||(e={}))xbe.call(e,t)&&mj(n,t,e[t]);if(pj)for(var t of pj(e))_be.call(e,t)&&mj(n,t,e[t]);return n},oA=(n,e)=>vbe(n,ybe(e)),Tte=class extends ue.Component{constructor(n){super(n),this.ref=Kc.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:oA(sA({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:oA(sA({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:oA(sA({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:oA(sA({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=i*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:oA(sA({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return Pe.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const NP=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),MM=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),gj=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),Abe=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),v1=(n,e)=>function(){return Pe.jsxs(Ma.section,{variants:Abe(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${ks.padding} max-w-7xl mx-auto relative z-0`,children:[Pe.jsx("span",{className:"hash-span",id:e,children:" "}),Pe.jsx(n,{})]})},Sbe=({index:n,title:e,icon:t})=>Pe.jsx(Tte,{className:"xs:w-[250px] w-full",children:Pe.jsx(Ma.div,{variants:MM("right","spring",n*.5,.5),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:Pe.jsxs("div",{options:{max:90,scale:100,speed:1e3},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[Pe.jsx("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),Pe.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),wbe=()=>Pe.jsxs(Pe.Fragment,{children:[Pe.jsxs(Ma.div,{variants:NP(),children:[Pe.jsx("p",{className:`${ks.sectionHeadText} text-center`,children:"Introduction"}),Pe.jsx("h2",{className:`${ks.sectionSubText} mt-4 text-center`,children:"Overview"})]}),Pe.jsx(Ma.p,{variants:MM("","",.1,1),className:"mt-4 text-secondary text-center text-[17px] max-w-10xl leading-[30px]",children:"I am a Computer Science student. I love to code. I have done projects on multiple platforms."}),Pe.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:ube.map((n,e)=>Pe.jsx(Sbe,{index:e,...n},e))})]}),Mbe=v1(wbe,"about"),bbe=()=>Pe.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:hbe.map(n=>Pe.jsx("div",{className:"w-28 h-28",children:Pe.jsx(y_e,{icon:n.icon})},n.name))}),Ebe=v1(bbe,"");var OP={},Rte={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Rte);var Nz=Rte.exports;const WN=N2(Nz);OP.__esModule=!0;OP.default=void 0;var Cbe=Oz(ue),Fd=Oz(ree),Tbe=Oz(Nz);function Oz(n){return n&&n.__esModule?n:{default:n}}const Pte=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),Cbe.default.createElement("div",{className:(0,Tbe.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));Pte.propTypes={children:Fd.default.oneOfType([Fd.default.arrayOf(Fd.default.node),Fd.default.node]).isRequired,className:Fd.default.string,animate:Fd.default.bool,layout:Fd.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Fd.default.string};var Rbe=Pte;OP.default=Rbe;var UP={};function XN(){return XN=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XN.apply(this,arguments)}function Pbe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,JN(n,e)}function JN(n,e){return JN=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},JN(n,e)}function Bbe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var KN=new Map,KL=new WeakMap,vj=0,Bte=void 0;function Ibe(n){Bte=n}function Lbe(n){return n?(KL.has(n)||(vj+=1,KL.set(n,vj.toString())),KL.get(n)):"0"}function Dbe(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?Lbe(n.root):n[e])}).toString()}function Fbe(n){var e=Dbe(n),t=KN.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(h){h(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},KN.set(e,t)}return t}function Uz(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=Bte),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=Fbe(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),KN.delete(o))}}var Nbe=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function yj(n){return typeof n.children!="function"}var zR=function(n){Pbe(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),yj(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,r=i.threshold,s=i.root,o=i.rootMargin,a=i.trackVisibility,l=i.delay,c=i.fallbackInView;this._unobserveCb=Uz(this.node,this.handleChange,{threshold:r,root:s,rootMargin:o,trackVisibility:a,delay:l},c)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!yj(this.props)){var i=this.state,r=i.inView,s=i.entry;return this.props.children({inView:r,entry:s,ref:this.handleNode})}var o=this.props,a=o.children,l=o.as,c=Bbe(o,Nbe);return ue.createElement(l||"div",XN({ref:this.handleNode},c),a)},e}(ue.Component);zR.displayName="InView";zR.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function Obe(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,h=e.fallbackInView,d=ue.useRef(),p=ue.useState({inView:!!c}),m=p[0],v=p[1],x=ue.useCallback(function(g){d.current!==void 0&&(d.current(),d.current=void 0),!l&&g&&(d.current=Uz(g,function(S,w){v({inView:S,entry:w}),w.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,h,i]);ue.useEffect(function(){!d.current&&m.entry&&!a&&!l&&v({inView:!!c})});var y=[x,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const Ube=Object.freeze(Object.defineProperty({__proto__:null,InView:zR,default:zR,defaultFallbackInView:Ibe,observe:Uz,useInView:Obe},Symbol.toStringTag,{value:"Module"})),kbe=lce(Ube);UP.__esModule=!0;UP.default=void 0;var Nd=kz(ue),Mi=kz(ree),UE=kz(Nz),zbe=kbe;function kz(n){return n&&n.__esModule?n:{default:n}}const Ite=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:h=null,id:d="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:x={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:y=!1})=>Nd.default.createElement(zbe.InView,x,({inView:g,ref:S})=>Nd.default.createElement("div",{ref:S,id:d,className:(0,UE.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Nd.default.createElement(Nd.default.Fragment,null,Nd.default.createElement("span",{style:h,onClick:l,className:(0,UE.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||y,"is-hidden":!(g||y)})},o),Nd.default.createElement("div",{style:i,onClick:c,className:(0,UE.default)(v,"vertical-timeline-element-content",{"bounce-in":g||y,"is-hidden":!(g||y)})},Nd.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Nd.default.createElement("span",{className:(0,UE.default)(s,"vertical-timeline-element-date")},r)))));Ite.propTypes={children:Mi.default.oneOfType([Mi.default.arrayOf(Mi.default.node),Mi.default.node]),className:Mi.default.string,contentArrowStyle:Mi.default.shape({}),contentStyle:Mi.default.shape({}),date:Mi.default.node,dateClassName:Mi.default.string,icon:Mi.default.element,iconClassName:Mi.default.string,iconStyle:Mi.default.shape({}),iconOnClick:Mi.default.func,onTimelineElementClick:Mi.default.func,id:Mi.default.string,position:Mi.default.string,style:Mi.default.shape({}),textClassName:Mi.default.string,visible:Mi.default.bool,intersectionObserverProps:Mi.default.shape({root:Mi.default.object,rootMargin:Mi.default.string,threshold:Mi.default.number,triggerOnce:Mi.default.bool})};var Hbe=Ite;UP.default=Hbe;var Lte={VerticalTimeline:OP.default,VerticalTimelineElement:UP.default};const Gbe=({experience:n})=>Pe.jsxs(Lte.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:Pe.jsx("div",{className:"flex justify-center items-center w-full h-full",children:Pe.jsx("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[Pe.jsxs("div",{children:[Pe.jsx("h3",{className:"text-white text-[24px] font-bold",children:n.title}),Pe.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),Pe.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>Pe.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),Vbe=()=>Pe.jsxs(Pe.Fragment,{children:[Pe.jsxs(Ma.div,{variants:NP(),children:[Pe.jsx("p",{className:`${ks.sectionHeadText} text-center`,children:"Experience"}),Pe.jsx("h2",{className:`${ks.sectionSubText} mt-4 text-center`,children:"What I have done so far"})]}),Pe.jsx("div",{className:"mt-20 flex flex-col",children:Pe.jsx(Lte.VerticalTimeline,{children:dbe.map((n,e)=>Pe.jsx(Gbe,{experience:n},e))})})]}),jbe=v1(Vbe,"work"),Ox=Math.min,xg=Math.max,HR=Math.round,kE=Math.floor,Gf=n=>({x:n,y:n}),Wbe={left:"right",right:"left",bottom:"top",top:"bottom"},Xbe={start:"end",end:"start"};function YN(n,e,t){return xg(n,Ox(e,t))}function bM(n,e){return typeof n=="function"?n(e):n}function Vg(n){return n.split("-")[0]}function EM(n){return n.split("-")[1]}function Dte(n){return n==="x"?"y":"x"}function zz(n){return n==="y"?"height":"width"}function Ux(n){return["top","bottom"].includes(Vg(n))?"y":"x"}function Hz(n){return Dte(Ux(n))}function Jbe(n,e,t){t===void 0&&(t=!1);const i=EM(n),r=Hz(n),s=zz(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=GR(o)),[o,GR(o)]}function Kbe(n){const e=GR(n);return[QN(n),e,QN(e)]}function QN(n){return n.replace(/start|end/g,e=>Xbe[e])}function Ybe(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function Qbe(n,e,t,i){const r=EM(n);let s=Ybe(Vg(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(QN)))),s}function GR(n){return n.replace(/left|right|bottom|top/g,e=>Wbe[e])}function qbe(n){return{top:0,right:0,bottom:0,left:0,...n}}function Fte(n){return typeof n!="number"?qbe(n):{top:n,right:n,bottom:n,left:n}}function VR(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function xj(n,e,t){let{reference:i,floating:r}=n;const s=Ux(e),o=Hz(e),a=zz(o),l=Vg(e),c=s==="y",h=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:h,y:i.y-r.height};break;case"bottom":m={x:h,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:d};break;case"left":m={x:i.x-r.width,y:d};break;default:m={x:i.x,y:i.y}}switch(EM(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const $be=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:h,y:d}=xj(c,i,l),p=i,m={},v=0;for(let x=0;x<a.length;x++){const{name:y,fn:g}=a[x],{x:S,y:w,data:b,reset:P}=await g({x:h,y:d,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});h=S??h,d=w??d,m={...m,[y]:{...m[y],...b}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):P.rects),{x:h,y:d}=xj(c,p,l)),x=-1)}return{x:h,y:d,placement:p,strategy:r,middlewareData:m}};async function Nte(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=bM(e,n),v=Fte(m),x=a[p?d==="floating"?"reference":"floating":d],y=VR(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),g=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},b=VR(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:S,strategy:l}):g);return{top:(y.top-b.top+v.top)/w.y,bottom:(b.bottom-y.bottom+v.bottom)/w.y,left:(y.left-b.left+v.left)/w.x,right:(b.right-y.right+v.right)/w.x}}const Zbe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=bM(n,e)||{};if(c==null)return{};const d=Fte(h),p={x:t,y:i},m=Hz(r),v=zz(m),x=await o.getDimensions(c),y=m==="y",g=y?"top":"left",S=y?"bottom":"right",w=y?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[m]-p[m]-s.floating[v],P=p[m]-s.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let B=T?T[w]:0;(!B||!await(o.isElement==null?void 0:o.isElement(T)))&&(B=a.floating[w]||s.floating[v]);const I=b/2-P/2,R=B/2-x[v]/2-1,C=Ox(d[g],R),N=Ox(d[S],R),j=C,W=B-x[v]-N,X=B/2-x[v]/2+I,Q=YN(j,X,W),Y=!l.arrow&&EM(r)!=null&&X!==Q&&s.reference[v]/2-(X<j?C:N)-x[v]/2<0,ie=Y?X<j?X-j:X-W:0;return{[m]:p[m]+ie,data:{[m]:Q,centerOffset:X-Q-ie,...Y&&{alignmentOffset:ie}},reset:Y}}}),eEe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=bM(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Vg(r),S=Ux(a),w=Vg(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(w||!x?[GR(a)]:Kbe(a)),T=v!=="none";!p&&T&&P.push(...Qbe(a,x,v,b));const B=[a,...P],I=await Nte(e,y),R=[];let C=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&R.push(I[g]),d){const X=Jbe(r,o,b);R.push(I[X[0]],I[X[1]])}if(C=[...C,{placement:r,overflows:R}],!R.every(X=>X<=0)){var N,j;const X=(((N=s.flip)==null?void 0:N.index)||0)+1,Q=B[X];if(Q)return{data:{index:X,overflows:C},reset:{placement:Q}};let Y=(j=C.filter(ie=>ie.overflows[0]<=0).sort((ie,D)=>ie.overflows[1]-D.overflows[1])[0])==null?void 0:j.placement;if(!Y)switch(m){case"bestFit":{var W;const ie=(W=C.filter(D=>{if(T){const z=Ux(D.placement);return z===S||z==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(z=>z>0).reduce((z,H)=>z+H,0)]).sort((D,z)=>D[1]-z[1])[0])==null?void 0:W[0];ie&&(Y=ie);break}case"initialPlacement":Y=a;break}if(r!==Y)return{reset:{placement:Y}}}return{}}}};async function tEe(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Vg(t),a=EM(t),l=Ux(t)==="y",c=["left","top"].includes(o)?-1:1,h=s&&l?-1:1,d=bM(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*h,y:p*c}:{x:p*c,y:m*h}}const nEe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await tEe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},iEe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:S}=y;return{x:g,y:S}}},...l}=bM(n,e),c={x:t,y:i},h=await Nte(e,l),d=Ux(Vg(r)),p=Dte(d);let m=c[p],v=c[d];if(s){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",S=m+h[y],w=m-h[g];m=YN(S,m,w)}if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",S=v+h[y],w=v-h[g];v=YN(S,v,w)}const x=a.fn({...e,[p]:m,[d]:v});return{...x,data:{x:x.x-t,y:x.y-i}}}}};function y1(n){return Ote(n)?(n.nodeName||"").toLowerCase():"#document"}function ga(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function id(n){var e;return(e=(Ote(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Ote(n){return n instanceof Node||n instanceof ga(n).Node}function hu(n){return n instanceof Element||n instanceof ga(n).Element}function du(n){return n instanceof HTMLElement||n instanceof ga(n).HTMLElement}function _j(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ga(n).ShadowRoot}function CM(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=cc(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function rEe(n){return["table","td","th"].includes(y1(n))}function kP(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Gz(n){const e=Vz(),t=cc(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function sEe(n){let e=Vf(n);for(;du(e)&&!kx(e);){if(kP(e))return null;if(Gz(e))return e;e=Vf(e)}return null}function Vz(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kx(n){return["html","body","#document"].includes(y1(n))}function cc(n){return ga(n).getComputedStyle(n)}function zP(n){return hu(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Vf(n){if(y1(n)==="html")return n;const e=n.assignedSlot||n.parentNode||_j(n)&&n.host||id(n);return _j(e)?e.host:e}function Ute(n){const e=Vf(n);return kx(e)?n.ownerDocument?n.ownerDocument.body:n.body:du(e)&&CM(e)?e:Ute(e)}function pw(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=Ute(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=ga(r);return s?e.concat(o,o.visualViewport||[],CM(r)?r:[],o.frameElement&&t?pw(o.frameElement):[]):e.concat(r,pw(r,[],t))}function kte(n){const e=cc(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=du(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=HR(t)!==s||HR(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function jz(n){return hu(n)?n:n.contextElement}function cx(n){const e=jz(n);if(!du(e))return Gf(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=kte(e);let o=(s?HR(t.width):t.width)/i,a=(s?HR(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oEe=Gf(0);function zte(n){const e=ga(n);return!Vz()||!e.visualViewport?oEe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aEe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ga(n)?!1:e}function jg(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=jz(n);let o=Gf(1);e&&(i?hu(i)&&(o=cx(i)):o=cx(n));const a=aEe(s,t,i)?zte(s):Gf(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,h=r.width/o.x,d=r.height/o.y;if(s){const p=ga(s),m=i&&hu(i)?ga(i):i;let v=p,x=v.frameElement;for(;x&&i&&m!==v;){const y=cx(x),g=x.getBoundingClientRect(),S=cc(x),w=g.left+(x.clientLeft+parseFloat(S.paddingLeft))*y.x,b=g.top+(x.clientTop+parseFloat(S.paddingTop))*y.y;l*=y.x,c*=y.y,h*=y.x,d*=y.y,l+=w,c+=b,v=ga(x),x=v.frameElement}}return VR({width:h,height:d,x:l,y:c})}function lEe(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=id(i),a=e?kP(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Gf(1);const h=Gf(0),d=du(i);if((d||!d&&!s)&&((y1(i)!=="body"||CM(o))&&(l=zP(i)),du(i))){const p=jg(i);c=cx(i),h.x=p.x+i.clientLeft,h.y=p.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+h.x,y:t.y*c.y-l.scrollTop*c.y+h.y}}function cEe(n){return Array.from(n.getClientRects())}function Hte(n){return jg(id(n)).left+zP(n).scrollLeft}function uEe(n){const e=id(n),t=zP(n),i=n.ownerDocument.body,r=xg(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=xg(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+Hte(n);const a=-t.scrollTop;return cc(i).direction==="rtl"&&(o+=xg(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function hEe(n,e){const t=ga(n),i=id(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=Vz();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function dEe(n,e){const t=jg(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=du(n)?cx(n):Gf(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function Aj(n,e,t){let i;if(e==="viewport")i=hEe(n,t);else if(e==="document")i=uEe(id(n));else if(hu(e))i=dEe(e,t);else{const r=zte(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return VR(i)}function Gte(n,e){const t=Vf(n);return t===e||!hu(t)||kx(t)?!1:cc(t).position==="fixed"||Gte(t,e)}function fEe(n,e){const t=e.get(n);if(t)return t;let i=pw(n,[],!1).filter(a=>hu(a)&&y1(a)!=="body"),r=null;const s=cc(n).position==="fixed";let o=s?Vf(n):n;for(;hu(o)&&!kx(o);){const a=cc(o),l=Gz(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&r&&["absolute","fixed"].includes(r.position)||CM(o)&&!l&&Gte(n,o))?i=i.filter(c=>c!==o):r=a,o=Vf(o)}return e.set(n,i),i}function pEe(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?kP(e)?[]:fEe(e,this._c):[].concat(t),i],o=s[0],a=s.reduce((l,c)=>{const h=Aj(e,c,r);return l.top=xg(h.top,l.top),l.right=Ox(h.right,l.right),l.bottom=Ox(h.bottom,l.bottom),l.left=xg(h.left,l.left),l},Aj(e,o,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function mEe(n){const{width:e,height:t}=kte(n);return{width:e,height:t}}function gEe(n,e,t){const i=du(e),r=id(e),s=t==="fixed",o=jg(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Gf(0);if(i||!i&&!s)if((y1(e)!=="body"||CM(r))&&(a=zP(e)),i){const d=jg(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else r&&(l.x=Hte(r));const c=o.left+a.scrollLeft-l.x,h=o.top+a.scrollTop-l.y;return{x:c,y:h,width:o.width,height:o.height}}function YL(n){return cc(n).position==="static"}function Sj(n,e){return!du(n)||cc(n).position==="fixed"?null:e?e(n):n.offsetParent}function Vte(n,e){const t=ga(n);if(kP(n))return t;if(!du(n)){let r=Vf(n);for(;r&&!kx(r);){if(hu(r)&&!YL(r))return r;r=Vf(r)}return t}let i=Sj(n,e);for(;i&&rEe(i)&&YL(i);)i=Sj(i,e);return i&&kx(i)&&YL(i)&&!Gz(i)?t:i||sEe(n)||t}const vEe=async function(n){const e=this.getOffsetParent||Vte,t=this.getDimensions,i=await t(n.floating);return{reference:gEe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function yEe(n){return cc(n).direction==="rtl"}const xEe={convertOffsetParentRelativeRectToViewportRelativeRect:lEe,getDocumentElement:id,getClippingRect:pEe,getOffsetParent:Vte,getElementRects:vEe,getClientRects:cEe,getDimensions:mEe,getScale:cx,isElement:hu,isRTL:yEe};function _Ee(n,e){let t=null,i;const r=id(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:h,width:d,height:p}=n.getBoundingClientRect();if(a||e(),!d||!p)return;const m=kE(h),v=kE(r.clientWidth-(c+d)),x=kE(r.clientHeight-(h+p)),y=kE(c),g={rootMargin:-m+"px "+-v+"px "+-x+"px "+-y+"px",threshold:xg(0,Ox(1,l))||1};let S=!0;function w(b){const P=b[0].intersectionRatio;if(P!==l){if(!S)return o();P?o(!1,P):i=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver(w,{...g,root:r.ownerDocument})}catch{t=new IntersectionObserver(w,g)}t.observe(n)}return o(!0),s}function AEe(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=jz(n),h=r||s?[...c?pw(c):[],...pw(e)]:[];h.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const d=c&&a?_Ee(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[S]=g;S&&S.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,x=l?jg(n):null;l&&y();function y(){const g=jg(n);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&t(),x=g,v=requestAnimationFrame(y)}return t(),()=>{var g;h.forEach(S=>{r&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const SEe=nEe,wEe=iEe,MEe=eEe,bEe=Zbe,wj=(n,e,t)=>{const i=new Map,r={platform:xEe,...t},s={...r.platform,_c:i};return $be(n,e,{...r,platform:s})};var Mj={};const EEe="react-tooltip-core-styles",CEe="react-tooltip-base-styles",bj={core:!1,base:!1};function Ej({css:n,id:e=CEe,type:t="base",ref:i}){var r,s;if(!n||typeof document>"u"||bj[t]||t==="core"&&typeof process<"u"&&!((r=process==null?void 0:Mj)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_CORE_STYLES||t!=="base"&&typeof process<"u"&&!((s=process==null?void 0:Mj)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES)return;t==="core"&&(e=EEe),i||(i={});const{insertAt:o}=i;if(document.getElementById(e))return void console.warn(`[react-tooltip] Element with id '${e}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=e,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n)),bj[t]=!0}const Cj=async({elementReference:n=null,tooltipReference:e=null,tooltipArrowReference:t=null,place:i="top",offset:r=10,strategy:s="absolute",middlewares:o=[SEe(Number(r)),MEe({fallbackAxisSideDirection:"start"}),wEe({padding:5})],border:a})=>{if(!n)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const l=o;return t?(l.push(bEe({element:t,padding:5})),wj(n,e,{placement:i,strategy:s,middleware:l}).then(({x:c,y:h,placement:d,middlewareData:p})=>{var m,v;const x={left:`${c}px`,top:`${h}px`,border:a},{x:y,y:g}=(m=p.arrow)!==null&&m!==void 0?m:{x:0,y:0},S=(v={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&v!==void 0?v:"bottom",w=a&&{borderBottom:a,borderRight:a};let b=0;if(a){const P=`${a}`.match(/(\d+)px/);b=P!=null&&P[1]?Number(P[1]):1}return{tooltipStyles:x,tooltipArrowStyles:{left:y!=null?`${y}px`:"",top:g!=null?`${g}px`:"",right:"",bottom:"",...w,[S]:`-${4+b}px`},place:d}})):wj(n,e,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:h,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${h}px`},tooltipArrowStyles:{},place:d}))},Tj=(n,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(n,e),Rj=(n,e,t)=>{let i=null;const r=function(...s){const o=()=>{i=null};!i&&(n.apply(this,s),i=setTimeout(o,e))};return r.cancel=()=>{i&&(clearTimeout(i),i=null)},r},Pj=n=>n!==null&&!Array.isArray(n)&&typeof n=="object",qN=(n,e)=>{if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e))return n.length===e.length&&n.every((r,s)=>qN(r,e[s]));if(Array.isArray(n)!==Array.isArray(e))return!1;if(!Pj(n)||!Pj(e))return n===e;const t=Object.keys(n),i=Object.keys(e);return t.length===i.length&&t.every(r=>qN(n[r],e[r]))},TEe=n=>{if(!(n instanceof HTMLElement||n instanceof SVGElement))return!1;const e=getComputedStyle(n);return["overflow","overflow-x","overflow-y"].some(t=>{const i=e.getPropertyValue(t);return i==="auto"||i==="scroll"})},Bj=n=>{if(!n)return null;let e=n.parentElement;for(;e;){if(TEe(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},REe=typeof window<"u"?ue.useLayoutEffect:ue.useEffect,PEe="DEFAULT_TOOLTIP_ID",BEe={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},IEe=ue.createContext({getTooltipData:()=>BEe});function jte(n=PEe){return ue.useContext(IEe).getTooltipData(n)}var Fv={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},QL={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const LEe=({forwardRef:n,id:e,className:t,classNameArrow:i,variant:r="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:h=!1,positionStrategy:d="absolute",middlewares:p,wrapper:m,delayShow:v=0,delayHide:x=0,float:y=!1,hidden:g=!1,noArrow:S=!1,clickable:w=!1,closeOnEsc:b=!1,closeOnScroll:P=!1,closeOnResize:T=!1,openEvents:B,closeEvents:I,globalCloseEvents:R,imperativeModeOnly:C,style:N,position:j,afterShow:W,afterHide:X,content:Q,contentWrapperRef:Y,isOpen:ie,defaultIsOpen:D=!1,setIsOpen:z,activeAnchor:H,setActiveAnchor:ee,border:pe,opacity:ke,arrowColor:ne,role:ve="tooltip"})=>{var be;const xe=ue.useRef(null),st=ue.useRef(null),Ke=ue.useRef(null),Ge=ue.useRef(null),U=ue.useRef(null),[fe,me]=ue.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Ce,_e]=ue.useState(!1),[Ne,Oe]=ue.useState(!1),[Re,at]=ue.useState(null),k=ue.useRef(!1),F=ue.useRef(null),{anchorRefs:se,setActiveAnchor:ge}=jte(e),Ae=ue.useRef(!1),[Se,qe]=ue.useState([]),Ie=ue.useRef(!1),ze=h||c.includes("click"),ct=ze||(B==null?void 0:B.click)||(B==null?void 0:B.dblclick)||(B==null?void 0:B.mousedown),Te=B?{...B}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!B&&ze&&Object.assign(Te,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const $e=I?{...I}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!I&&ze&&Object.assign($e,{mouseleave:!1,blur:!1,mouseout:!1});const ht=R?{...R}:{escape:b||!1,scroll:P||!1,resize:T||!1,clickOutsideAnchor:ct||!1};C&&(Object.assign(Te,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign($e,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ht,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),REe(()=>(Ie.current=!0,()=>{Ie.current=!1}),[]);const Ye=Ue=>{Ie.current&&(Ue&&Oe(!0),setTimeout(()=>{Ie.current&&(z==null||z(Ue),ie===void 0&&_e(Ue))},10))};ue.useEffect(()=>{if(ie===void 0)return()=>null;ie&&Oe(!0);const Ue=setTimeout(()=>{_e(ie)},10);return()=>{clearTimeout(Ue)}},[ie]),ue.useEffect(()=>{if(Ce!==k.current)if(U.current&&clearTimeout(U.current),k.current=Ce,Ce)W==null||W();else{const Ue=(ot=>{const gt=ot.match(/^([\d.]+)(ms|s)$/);if(!gt)return 0;const[,nn,on]=gt;return Number(nn)*(on==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));U.current=setTimeout(()=>{Oe(!1),at(null),X==null||X()},Ue+25)}},[Ce]);const te=Ue=>{me(ot=>qN(ot,Ue)?ot:Ue)},$=(Ue=v)=>{Ke.current&&clearTimeout(Ke.current),Ne?Ye(!0):Ke.current=setTimeout(()=>{Ye(!0)},Ue)},Me=(Ue=x)=>{Ge.current&&clearTimeout(Ge.current),Ge.current=setTimeout(()=>{Ae.current||Ye(!1)},Ue)},Qe=Ue=>{var ot;if(!Ue)return;const gt=(ot=Ue.currentTarget)!==null&&ot!==void 0?ot:Ue.target;if(!(gt!=null&&gt.isConnected))return ee(null),void ge({current:null});v?$():Ye(!0),ee(gt),ge({current:gt}),Ge.current&&clearTimeout(Ge.current)},G=()=>{w?Me(x||100):x?Me():Ye(!1),Ke.current&&clearTimeout(Ke.current)},De=({x:Ue,y:ot})=>{var gt;const nn={getBoundingClientRect:()=>({x:Ue,y:ot,width:0,height:0,top:ot,left:Ue,right:Ue,bottom:ot})};Cj({place:(gt=Re==null?void 0:Re.place)!==null&&gt!==void 0?gt:a,offset:l,elementReference:nn,tooltipReference:xe.current,tooltipArrowReference:st.current,strategy:d,middlewares:p,border:pe}).then(on=>{te(on)})},de=Ue=>{if(!Ue)return;const ot=Ue,gt={x:ot.clientX,y:ot.clientY};De(gt),F.current=gt},ye=Ue=>{var ot;if(!Ce)return;const gt=Ue.target;gt.isConnected&&(!((ot=xe.current)===null||ot===void 0)&&ot.contains(gt)||[document.querySelector(`[id='${s}']`),...Se].some(nn=>nn==null?void 0:nn.contains(gt))||(Ye(!1),Ke.current&&clearTimeout(Ke.current)))},Le=Rj(Qe,50),Xe=Rj(G,50),dt=Ue=>{Xe.cancel(),Le(Ue)},Ve=()=>{Le.cancel(),Xe()},rt=ue.useCallback(()=>{var Ue,ot;const gt=(Ue=Re==null?void 0:Re.position)!==null&&Ue!==void 0?Ue:j;gt?De(gt):y?F.current&&De(F.current):H!=null&&H.isConnected&&Cj({place:(ot=Re==null?void 0:Re.place)!==null&&ot!==void 0?ot:a,offset:l,elementReference:H,tooltipReference:xe.current,tooltipArrowReference:st.current,strategy:d,middlewares:p,border:pe}).then(nn=>{Ie.current&&te(nn)})},[Ce,H,Q,N,a,Re==null?void 0:Re.place,l,d,j,Re==null?void 0:Re.position,y]);ue.useEffect(()=>{var Ue,ot;const gt=new Set(se);Se.forEach(q=>{gt.add({current:q})});const nn=document.querySelector(`[id='${s}']`);nn&&gt.add({current:nn});const on=()=>{Ye(!1)},_n=Bj(H),En=Bj(xe.current);ht.scroll&&(window.addEventListener("scroll",on),_n==null||_n.addEventListener("scroll",on),En==null||En.addEventListener("scroll",on));let Zt=null;ht.resize?window.addEventListener("resize",on):H&&xe.current&&(Zt=AEe(H,xe.current,rt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Bn=q=>{q.key==="Escape"&&Ye(!1)};ht.escape&&window.addEventListener("keydown",Bn),ht.clickOutsideAnchor&&window.addEventListener("click",ye);const Gt=[],xr=q=>{Ce&&(q==null?void 0:q.target)===H||Qe(q)},El=q=>{Ce&&(q==null?void 0:q.target)===H&&G()},Oo=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],O=["click","dblclick","mousedown","mouseup"];Object.entries(Te).forEach(([q,K])=>{K&&(Oo.includes(q)?Gt.push({event:q,listener:dt}):O.includes(q)&&Gt.push({event:q,listener:xr}))}),Object.entries($e).forEach(([q,K])=>{K&&(Oo.includes(q)?Gt.push({event:q,listener:Ve}):O.includes(q)&&Gt.push({event:q,listener:El}))}),y&&Gt.push({event:"pointermove",listener:de});const J=()=>{Ae.current=!0},ae=()=>{Ae.current=!1,G()};return w&&!ct&&((Ue=xe.current)===null||Ue===void 0||Ue.addEventListener("mouseenter",J),(ot=xe.current)===null||ot===void 0||ot.addEventListener("mouseleave",ae)),Gt.forEach(({event:q,listener:K})=>{gt.forEach(Fe=>{var Je;(Je=Fe.current)===null||Je===void 0||Je.addEventListener(q,K)})}),()=>{var q,K;ht.scroll&&(window.removeEventListener("scroll",on),_n==null||_n.removeEventListener("scroll",on),En==null||En.removeEventListener("scroll",on)),ht.resize?window.removeEventListener("resize",on):Zt==null||Zt(),ht.clickOutsideAnchor&&window.removeEventListener("click",ye),ht.escape&&window.removeEventListener("keydown",Bn),w&&!ct&&((q=xe.current)===null||q===void 0||q.removeEventListener("mouseenter",J),(K=xe.current)===null||K===void 0||K.removeEventListener("mouseleave",ae)),Gt.forEach(({event:Fe,listener:Je})=>{gt.forEach(Ze=>{var et;(et=Ze.current)===null||et===void 0||et.removeEventListener(Fe,Je)})})}},[H,rt,Ne,se,Se,B,I,R,ze,v,x]),ue.useEffect(()=>{var Ue,ot;let gt=(ot=(Ue=Re==null?void 0:Re.anchorSelect)!==null&&Ue!==void 0?Ue:o)!==null&&ot!==void 0?ot:"";!gt&&e&&(gt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const nn=new MutationObserver(on=>{const _n=[],En=[];on.forEach(Zt=>{if(Zt.type==="attributes"&&Zt.attributeName==="data-tooltip-id"&&(Zt.target.getAttribute("data-tooltip-id")===e?_n.push(Zt.target):Zt.oldValue===e&&En.push(Zt.target)),Zt.type==="childList"){if(H){const Bn=[...Zt.removedNodes].filter(Gt=>Gt.nodeType===1);if(gt)try{En.push(...Bn.filter(Gt=>Gt.matches(gt))),En.push(...Bn.flatMap(Gt=>[...Gt.querySelectorAll(gt)]))}catch{}Bn.some(Gt=>{var xr;return!!(!((xr=Gt==null?void 0:Gt.contains)===null||xr===void 0)&&xr.call(Gt,H))&&(Oe(!1),Ye(!1),ee(null),Ke.current&&clearTimeout(Ke.current),Ge.current&&clearTimeout(Ge.current),!0)})}if(gt)try{const Bn=[...Zt.addedNodes].filter(Gt=>Gt.nodeType===1);_n.push(...Bn.filter(Gt=>Gt.matches(gt))),_n.push(...Bn.flatMap(Gt=>[...Gt.querySelectorAll(gt)]))}catch{}}}),(_n.length||En.length)&&qe(Zt=>[...Zt.filter(Bn=>!En.includes(Bn)),..._n])});return nn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{nn.disconnect()}},[e,o,Re==null?void 0:Re.anchorSelect,H]),ue.useEffect(()=>{rt()},[rt]),ue.useEffect(()=>{if(!(Y!=null&&Y.current))return()=>null;const Ue=new ResizeObserver(()=>{setTimeout(()=>rt())});return Ue.observe(Y.current),()=>{Ue.disconnect()}},[Q,Y==null?void 0:Y.current]),ue.useEffect(()=>{var Ue;const ot=document.querySelector(`[id='${s}']`),gt=[...Se,ot];H&&gt.includes(H)||ee((Ue=Se[0])!==null&&Ue!==void 0?Ue:ot)},[s,Se,H]),ue.useEffect(()=>(D&&Ye(!0),()=>{Ke.current&&clearTimeout(Ke.current),Ge.current&&clearTimeout(Ge.current)}),[]),ue.useEffect(()=>{var Ue;let ot=(Ue=Re==null?void 0:Re.anchorSelect)!==null&&Ue!==void 0?Ue:o;if(!ot&&e&&(ot=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),ot)try{const gt=Array.from(document.querySelectorAll(ot));qe(gt)}catch{qe([])}},[e,o,Re==null?void 0:Re.anchorSelect]),ue.useEffect(()=>{Ke.current&&(clearTimeout(Ke.current),$(v))},[v]);const pt=(be=Re==null?void 0:Re.content)!==null&&be!==void 0?be:Q,$t=Ce&&Object.keys(fe.tooltipStyles).length>0;return ue.useImperativeHandle(n,()=>({open:Ue=>{if(Ue!=null&&Ue.anchorSelect)try{document.querySelector(Ue.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ue.anchorSelect}" is not a valid CSS selector`)}at(Ue??null),Ue!=null&&Ue.delay?$(Ue.delay):Ye(!0)},close:Ue=>{Ue!=null&&Ue.delay?Me(Ue.delay):Ye(!1)},activeAnchor:H,place:fe.place,isOpen:!!(Ne&&!g&&pt&&$t)})),Ne&&!g&&pt?Kc.createElement(m,{id:e,role:ve,className:WN("react-tooltip",Fv.tooltip,QL.tooltip,QL[r],t,`react-tooltip__place-${fe.place}`,Fv[$t?"show":"closing"],$t?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&Fv.fixed,w&&Fv.clickable),onTransitionEnd:Ue=>{U.current&&clearTimeout(U.current),Ce||Ue.propertyName!=="opacity"||(Oe(!1),at(null),X==null||X())},style:{...N,...fe.tooltipStyles,opacity:ke!==void 0&&$t?ke:void 0},ref:xe},pt,Kc.createElement(m,{className:WN("react-tooltip-arrow",Fv.arrow,QL.arrow,i,S&&Fv.noArrow),style:{...fe.tooltipArrowStyles,background:ne?`linear-gradient(to right bottom, transparent 50%, ${ne} 50%)`:void 0},ref:st})):null},DEe=({content:n})=>Kc.createElement("span",{dangerouslySetInnerHTML:{__html:n}});Kc.forwardRef(({id:n,anchorId:e,anchorSelect:t,content:i,html:r,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:h=10,wrapper:d="div",children:p=null,events:m=["hover"],openOnClick:v=!1,positionStrategy:x="absolute",middlewares:y,delayShow:g=0,delayHide:S=0,float:w=!1,hidden:b=!1,noArrow:P=!1,clickable:T=!1,closeOnEsc:B=!1,closeOnScroll:I=!1,closeOnResize:R=!1,openEvents:C,closeEvents:N,globalCloseEvents:j,imperativeModeOnly:W=!1,style:X,position:Q,isOpen:Y,defaultIsOpen:ie=!1,disableStyleInjection:D=!1,border:z,opacity:H,arrowColor:ee,setIsOpen:pe,afterShow:ke,afterHide:ne,role:ve="tooltip"},be)=>{const[xe,st]=ue.useState(i),[Ke,Ge]=ue.useState(r),[U,fe]=ue.useState(c),[me,Ce]=ue.useState(l),[_e,Ne]=ue.useState(h),[Oe,Re]=ue.useState(g),[at,k]=ue.useState(S),[F,se]=ue.useState(w),[ge,Ae]=ue.useState(b),[Se,qe]=ue.useState(d),[Ie,ze]=ue.useState(m),[ct,Te]=ue.useState(x),[$e,ht]=ue.useState(null),[Ye,te]=ue.useState(null),$=ue.useRef(D),{anchorRefs:Me,activeAnchor:Qe}=jte(n),G=Xe=>Xe==null?void 0:Xe.getAttributeNames().reduce((dt,Ve)=>{var rt;return Ve.startsWith("data-tooltip-")&&(dt[Ve.replace(/^data-tooltip-/,"")]=(rt=Xe==null?void 0:Xe.getAttribute(Ve))!==null&&rt!==void 0?rt:null),dt},{}),De=Xe=>{const dt={place:Ve=>{var rt;fe((rt=Ve)!==null&&rt!==void 0?rt:c)},content:Ve=>{st(Ve??i)},html:Ve=>{Ge(Ve??r)},variant:Ve=>{var rt;Ce((rt=Ve)!==null&&rt!==void 0?rt:l)},offset:Ve=>{Ne(Ve===null?h:Number(Ve))},wrapper:Ve=>{var rt;qe((rt=Ve)!==null&&rt!==void 0?rt:d)},events:Ve=>{const rt=Ve==null?void 0:Ve.split(" ");ze(rt??m)},"position-strategy":Ve=>{var rt;Te((rt=Ve)!==null&&rt!==void 0?rt:x)},"delay-show":Ve=>{Re(Ve===null?g:Number(Ve))},"delay-hide":Ve=>{k(Ve===null?S:Number(Ve))},float:Ve=>{se(Ve===null?w:Ve==="true")},hidden:Ve=>{Ae(Ve===null?b:Ve==="true")},"class-name":Ve=>{ht(Ve)}};Object.values(dt).forEach(Ve=>Ve(null)),Object.entries(Xe).forEach(([Ve,rt])=>{var pt;(pt=dt[Ve])===null||pt===void 0||pt.call(dt,rt)})};ue.useEffect(()=>{st(i)},[i]),ue.useEffect(()=>{Ge(r)},[r]),ue.useEffect(()=>{fe(c)},[c]),ue.useEffect(()=>{Ce(l)},[l]),ue.useEffect(()=>{Ne(h)},[h]),ue.useEffect(()=>{Re(g)},[g]),ue.useEffect(()=>{k(S)},[S]),ue.useEffect(()=>{se(w)},[w]),ue.useEffect(()=>{Ae(b)},[b]),ue.useEffect(()=>{Te(x)},[x]),ue.useEffect(()=>{$.current!==D&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[D]),ue.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:D==="core",disableBase:D}}))},[]),ue.useEffect(()=>{var Xe;const dt=new Set(Me);let Ve=t;if(!Ve&&n&&(Ve=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),Ve)try{document.querySelectorAll(Ve).forEach(ot=>{dt.add({current:ot})})}catch{console.warn(`[react-tooltip] "${Ve}" is not a valid CSS selector`)}const rt=document.querySelector(`[id='${e}']`);if(rt&&dt.add({current:rt}),!dt.size)return()=>null;const pt=(Xe=Ye??rt)!==null&&Xe!==void 0?Xe:Qe.current,$t=new MutationObserver(ot=>{ot.forEach(gt=>{var nn;if(!pt||gt.type!=="attributes"||!(!((nn=gt.attributeName)===null||nn===void 0)&&nn.startsWith("data-tooltip-")))return;const on=G(pt);De(on)})}),Ue={attributes:!0,childList:!1,subtree:!1};if(pt){const ot=G(pt);De(ot),$t.observe(pt,Ue)}return()=>{$t.disconnect()}},[Me,Qe,Ye,e,t]),ue.useEffect(()=>{X!=null&&X.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),z&&!Tj("border",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`border\`.`),X!=null&&X.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),H&&!Tj("opacity",`${H}`)&&console.warn(`[react-tooltip] "${H}" is not a valid \`opacity\`.`)},[]);let de=p;const ye=ue.useRef(null);if(s){const Xe=s({content:(Ye==null?void 0:Ye.getAttribute("data-tooltip-content"))||xe||null,activeAnchor:Ye});de=Xe?Kc.createElement("div",{ref:ye,className:"react-tooltip-content-wrapper"},Xe):null}else xe&&(de=xe);Ke&&(de=Kc.createElement(DEe,{content:Ke}));const Le={forwardRef:be,id:n,anchorId:e,anchorSelect:t,className:WN(o,$e),classNameArrow:a,content:de,contentWrapperRef:ye,place:U,variant:me,offset:_e,wrapper:Se,events:Ie,openOnClick:v,positionStrategy:ct,middlewares:y,delayShow:Oe,delayHide:at,float:F,hidden:ge,noArrow:P,clickable:T,closeOnEsc:B,closeOnScroll:I,closeOnResize:R,openEvents:C,closeEvents:N,globalCloseEvents:j,imperativeModeOnly:W,style:X,position:Q,isOpen:Y,defaultIsOpen:ie,border:z,opacity:H,arrowColor:ee,setIsOpen:pe,afterShow:ke,afterHide:ne,activeAnchor:Ye,setActiveAnchor:Xe=>te(Xe),role:ve};return Kc.createElement(LEe,{...Le})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",n=>{n.detail.disableCore||Ej({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),n.detail.disableBase||Ej({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const FEe=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s})=>Pe.jsx(Ma.div,{variants:MM("up","spring",n*.5,.75),children:Pe.jsxs(Tte,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[Pe.jsxs("div",{className:"relative w-full h-[230px]",children:[Pe.jsx("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),Pe.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:Pe.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:Pe.jsx("img",{src:VMe,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),Pe.jsxs("div",{className:"mt-5",children:[Pe.jsx("h3",{className:"text-white font-bold text-[24px]",children:e}),Pe.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),Pe.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>Pe.jsxs("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})}),NEe=()=>Pe.jsxs(Pe.Fragment,{children:[Pe.jsxs(Ma.div,{variants:NP(),children:[Pe.jsx("p",{className:`${ks.sectionHeadText} text-center`,children:"Projects"}),Pe.jsx("h2",{className:`${ks.sectionSubText} mt-4 text-center`,children:"What I have done so far"})]}),Pe.jsx("div",{className:"w-full flex",children:Pe.jsx(Ma.p,{variants:MM("","",.1,1),className:"mt-4 text-secondary text-center font-medium text-[17px] max-w-6xl leading-[30px]",children:"I am currently working on my upcoming projects. Here, I have showcased some of my favourite projects which deal with different disciplines in Computer Science. I am always open to new projects. If you have any suggestions, feel free to message me on my LinkedIn."})}),Pe.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:pbe.map((n,e)=>Pe.jsx(FEe,{index:e,...n},e))})]}),OEe=v1(NEe,""),UEe=({index:n,testimonial:e,name:t,designation:i,company:r,image:s})=>Pe.jsxs(Ma.div,{variants:MM("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[Pe.jsx("p",{className:"text-white font-black text-[48px]",children:'"'}),Pe.jsxs("div",{className:"mt-1",children:[Pe.jsx("p",{className:"text-white tracking-wider text-[18px]",children:e}),Pe.jsxs("div",{className:"mt-7 flex justify-between items-center gap-1",children:[Pe.jsxs("div",{className:"flex-1 flex flex-col",children:[Pe.jsxs("p",{className:"text-white font-medium text-[16px]",children:[Pe.jsx("span",{className:"blue-text-gradient",children:"@"})," ",t]}),Pe.jsxs("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),Pe.jsx("img",{src:s,alt:`feedback_by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),kEe=()=>Pe.jsxs("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[Pe.jsx("div",{className:`bg-tertiary rounded-2xl ${ks.padding} min-h-[300px]`,children:Pe.jsxs(Ma.div,{variants:NP(),children:[Pe.jsx("p",{className:ks.sectionSubText,children:"What others say"}),Pe.jsx("h2",{className:ks.sectionHeadText,children:"Testimonials."})]})}),Pe.jsx("div",{className:`-mt-20 pb-14 ${ks.paddingX} flex flex-wrap gap-7`,children:fbe.map((n,e)=>Pe.jsx(UEe,{index:e,...n},n.name))})]}),zEe=v1(kEe,"");let TM=class{constructor(e=0,t="Network Error"){this.status=e,this.text=t}};const HEe=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},fs={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:HEe()},Wz=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},GEe=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=Wz(n);fs.publicKey=t.publicKey,fs.blockHeadless=t.blockHeadless,fs.storageProvider=t.storageProvider,fs.blockList=t.blockList,fs.limitRate=t.limitRate,fs.origin=t.origin||e},Wte=async(n,e,t={})=>{const i=await fetch(fs.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),s=new TM(i.status,r);if(i.ok)return s;throw s},Xte=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},VEe=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Jte=n=>n.webdriver||!n.languages||n.languages.length===0,Kte=()=>new TM(451,"Unavailable For Headless Browser"),jEe=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},WEe=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},XEe=(n,e)=>n instanceof FormData?n.get(e):n[e],Yte=(n,e)=>{if(WEe(n))return!1;jEe(n.list,n.watchVariable);const t=XEe(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},Qte=()=>new TM(403,"Forbidden"),JEe=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},KEe=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},qte=async(n,e,t)=>{if(!e.throttle||!t)return!1;JEe(e.throttle,e.id);const i=e.id||n;return await KEe(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},$te=()=>new TM(429,"Too Many Requests"),YEe=async(n,e,t,i)=>{const r=Wz(i),s=r.publicKey||fs.publicKey,o=r.blockHeadless||fs.blockHeadless,a=fs.storageProvider||r.storageProvider,l={...fs.blockList,...r.blockList},c={...fs.limitRate,...r.limitRate};return o&&Jte(navigator)?Promise.reject(Kte()):(Xte(s,n,e),VEe(t),t&&Yte(l,t)?Promise.reject(Qte()):await qte(location.pathname,c,a)?Promise.reject($te()):Wte("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},QEe=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},qEe=n=>typeof n=="string"?document.querySelector(n):n,$Ee=async(n,e,t,i)=>{const r=Wz(i),s=r.publicKey||fs.publicKey,o=r.blockHeadless||fs.blockHeadless,a=fs.storageProvider||r.storageProvider,l={...fs.blockList,...r.blockList},c={...fs.limitRate,...r.limitRate};if(o&&Jte(navigator))return Promise.reject(Kte());const h=qEe(t);Xte(s,n,e),QEe(h);const d=new FormData(h);return Yte(l,d)?Promise.reject(Qte()):await qte(location.pathname,c,a)?Promise.reject($te()):(d.append("lib_version","4.3.3"),d.append("service_id",n),d.append("template_id",e),d.append("user_id",s),Wte("/api/v1.0/email/send-form",d))},ZEe={init:GEe,send:YEe,sendForm:$Ee,EmailJSResponseStatus:TM},eCe=()=>{const n=ue.useRef(),[e,t]=ue.useState({name:"",email:"",message:""}),[i,r]=ue.useState(!1),s=a=>{const{target:l}=a,{name:c,value:h}=l;t({...e,[c]:h})},o=a=>{a.preventDefault(),r(!0),ZEe.send("service_raibf13","template_pkulou1",{from_name:e.name,to_name:"Divyarajsinh Karmariya",from_email:e.email,to_email:"divyarajsinhkarmariya@gmail.com",message:e.message},"BXpAYvRhlMHHbpQ1x").then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return Pe.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[Pe.jsxs(Ma.div,{variants:gj("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[Pe.jsx("p",{className:ks.sectionSubText,children:"Get in touch"}),Pe.jsx("h3",{className:ks.sectionHeadText,children:"Contact."}),Pe.jsxs("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[Pe.jsxs("label",{className:"flex flex-col",children:[Pe.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),Pe.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your good name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Pe.jsxs("label",{className:"flex flex-col",children:[Pe.jsx("span",{className:"text-white font-medium mb-4",children:"Your email"}),Pe.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your web address?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Pe.jsxs("label",{className:"flex flex-col",children:[Pe.jsx("span",{className:"text-white font-medium mb-4",children:"Your Message"}),Pe.jsx("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What you want to say?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Pe.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]}),Pe.jsx("p",{className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:" or email me at:"}),Pe.jsx("a",{href:"mailto:divyarajsinhkarmariya@gmail.com",children:"divyarajsinhkarmariya@gmail.com"})]}),Pe.jsx(Ma.div,{variants:gj("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:Pe.jsx(g_e,{})})]})},tCe=v1(eCe,"contact"),nCe=()=>Pe.jsxs(sde,{children:[Pe.jsx("div",{className:"relative z-0 bg-primary"}),Pe.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[Pe.jsx(mbe,{}),Pe.jsx(OMe,{})]}),Pe.jsxs("div",{className:"relative z-0",children:[Pe.jsx(Mbe,{}),Pe.jsx(jbe,{}),Pe.jsx(Ebe,{}),Pe.jsx(OEe,{}),Pe.jsx(zEe,{}),Pe.jsx(tCe,{}),Pe.jsx(S_e,{})]})]});V3.createRoot(document.getElementById("root")).render(Pe.jsx(Kc.StrictMode,{children:Pe.jsx(nCe,{})}));function HP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function iCe(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Zte={exports:{}},GP={},ene={exports:{}},Mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM=Symbol.for("react.element"),rCe=Symbol.for("react.portal"),sCe=Symbol.for("react.fragment"),oCe=Symbol.for("react.strict_mode"),aCe=Symbol.for("react.profiler"),lCe=Symbol.for("react.provider"),cCe=Symbol.for("react.context"),uCe=Symbol.for("react.forward_ref"),hCe=Symbol.for("react.suspense"),dCe=Symbol.for("react.memo"),fCe=Symbol.for("react.lazy"),Ij=Symbol.iterator;function pCe(n){return n===null||typeof n!="object"?null:(n=Ij&&n[Ij]||n["@@iterator"],typeof n=="function"?n:null)}var tne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nne=Object.assign,ine={};function x1(n,e,t){this.props=n,this.context=e,this.refs=ine,this.updater=t||tne}x1.prototype.isReactComponent={};x1.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};x1.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function rne(){}rne.prototype=x1.prototype;function Xz(n,e,t){this.props=n,this.context=e,this.refs=ine,this.updater=t||tne}var Jz=Xz.prototype=new rne;Jz.constructor=Xz;nne(Jz,x1.prototype);Jz.isPureReactComponent=!0;var Lj=Array.isArray,sne=Object.prototype.hasOwnProperty,Kz={current:null},one={key:!0,ref:!0,__self:!0,__source:!0};function ane(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sne.call(e,i)&&!one.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:RM,type:n,key:s,ref:o,props:r,_owner:Kz.current}}function mCe(n,e){return{$$typeof:RM,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Yz(n){return typeof n=="object"&&n!==null&&n.$$typeof===RM}function gCe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Dj=/\/+/g;function qL(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gCe(""+n.key):e.toString(36)}function RT(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case RM:case rCe:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+qL(o,0):i,Lj(r)?(t="",n!=null&&(t=n.replace(Dj,"$&/")+"/"),RT(r,e,t,"",function(c){return c})):r!=null&&(Yz(r)&&(r=mCe(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Dj,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Lj(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+qL(s,a);o+=RT(s,e,t,l,r)}else if(l=pCe(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+qL(s,a++),o+=RT(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zE(n,e,t){if(n==null)return n;var i=[],r=0;return RT(n,i,"","",function(s){return e.call(t,s,r++)}),i}function vCe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var xo={current:null},PT={transition:null},yCe={ReactCurrentDispatcher:xo,ReactCurrentBatchConfig:PT,ReactCurrentOwner:Kz};function lne(){throw Error("act(...) is not supported in production builds of React.")}Mn.Children={map:zE,forEach:function(n,e,t){zE(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return zE(n,function(){e++}),e},toArray:function(n){return zE(n,function(e){return e})||[]},only:function(n){if(!Yz(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Mn.Component=x1;Mn.Fragment=sCe;Mn.Profiler=aCe;Mn.PureComponent=Xz;Mn.StrictMode=oCe;Mn.Suspense=hCe;Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yCe;Mn.act=lne;Mn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=nne({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kz.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)sne.call(e,l)&&!one.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:RM,type:n.type,key:r,ref:s,props:i,_owner:o}};Mn.createContext=function(n){return n={$$typeof:cCe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lCe,_context:n},n.Consumer=n};Mn.createElement=ane;Mn.createFactory=function(n){var e=ane.bind(null,n);return e.type=n,e};Mn.createRef=function(){return{current:null}};Mn.forwardRef=function(n){return{$$typeof:uCe,render:n}};Mn.isValidElement=Yz;Mn.lazy=function(n){return{$$typeof:fCe,_payload:{_status:-1,_result:n},_init:vCe}};Mn.memo=function(n,e){return{$$typeof:dCe,type:n,compare:e===void 0?null:e}};Mn.startTransition=function(n){var e=PT.transition;PT.transition={};try{n()}finally{PT.transition=e}};Mn.unstable_act=lne;Mn.useCallback=function(n,e){return xo.current.useCallback(n,e)};Mn.useContext=function(n){return xo.current.useContext(n)};Mn.useDebugValue=function(){};Mn.useDeferredValue=function(n){return xo.current.useDeferredValue(n)};Mn.useEffect=function(n,e){return xo.current.useEffect(n,e)};Mn.useId=function(){return xo.current.useId()};Mn.useImperativeHandle=function(n,e,t){return xo.current.useImperativeHandle(n,e,t)};Mn.useInsertionEffect=function(n,e){return xo.current.useInsertionEffect(n,e)};Mn.useLayoutEffect=function(n,e){return xo.current.useLayoutEffect(n,e)};Mn.useMemo=function(n,e){return xo.current.useMemo(n,e)};Mn.useReducer=function(n,e,t){return xo.current.useReducer(n,e,t)};Mn.useRef=function(n){return xo.current.useRef(n)};Mn.useState=function(n){return xo.current.useState(n)};Mn.useSyncExternalStore=function(n,e,t){return xo.current.useSyncExternalStore(n,e,t)};Mn.useTransition=function(){return xo.current.useTransition()};Mn.version="18.3.1";ene.exports=Mn;var he=ene.exports;const Qc=HP(he),xCe=oce({__proto__:null,default:Qc},[he]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _Ce=he,ACe=Symbol.for("react.element"),SCe=Symbol.for("react.fragment"),wCe=Object.prototype.hasOwnProperty,MCe=_Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bCe={key:!0,ref:!0,__self:!0,__source:!0};function cne(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)wCe.call(e,i)&&!bCe.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:ACe,type:n,key:s,ref:o,props:r,_owner:MCe.current}}GP.Fragment=SCe;GP.jsx=cne;GP.jsxs=cne;Zte.exports=GP;var Be=Zte.exports,$N={},une={exports:{}},Ba={},hne={exports:{}},dne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,z){var H=D.length;D.push(z);e:for(;0<H;){var ee=H-1>>>1,pe=D[ee];if(0<r(pe,z))D[ee]=z,D[H]=pe,H=ee;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var ee=0,pe=D.length,ke=pe>>>1;ee<ke;){var ne=2*(ee+1)-1,ve=D[ne],be=ne+1,xe=D[be];if(0>r(ve,H))be<pe&&0>r(xe,ve)?(D[ee]=xe,D[be]=H,ee=be):(D[ee]=ve,D[ne]=H,ee=ne);else if(be<pe&&0>r(xe,H))D[ee]=xe,D[be]=H,ee=be;else break e}}return z}function r(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=D)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function b(D){if(x=!1,w(D),!v)if(t(l)!==null)v=!0,Y(P);else{var z=t(c);z!==null&&ie(b,z.startTime-D)}}function P(D,z){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var H=p;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var pe=ee(d.expirationTime<=z);z=n.unstable_now(),typeof pe=="function"?d.callback=pe:d===t(l)&&i(l),w(z)}else i(l);d=t(l)}if(d!==null)var ke=!0;else{var ne=t(c);ne!==null&&ie(b,ne.startTime-z),ke=!1}return ke}finally{d=null,p=H,m=!1}}var T=!1,B=null,I=-1,R=5,C=-1;function N(){return!(n.unstable_now()-C<R)}function j(){if(B!==null){var D=n.unstable_now();C=D;var z=!0;try{z=B(!0,D)}finally{z?W():(T=!1,B=null)}}else T=!1}var W;if(typeof S=="function")W=function(){S(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){y(j,0)};function Y(D){B=D,T||(T=!0,W())}function ie(D,z){I=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Y(P))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var H=p;p=z;try{return D()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return z()}finally{p=H}},n.unstable_scheduleCallback=function(D,z,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:h++,callback:z,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ee?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(x?(g(I),I=-1):x=!0,ie(b,H-ee))):(D.sortIndex=pe,e(l,D),v||m||(v=!0,Y(P))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var z=p;return function(){var H=p;p=z;try{return D.apply(this,arguments)}finally{p=H}}}})(dne);hne.exports=dne;var ECe=hne.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CCe=he,ba=ECe;function _t(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fne=new Set,mw={};function f0(n,e){zx(n,e),zx(n+"Capture",e)}function zx(n,e){for(mw[n]=e,n=0;n<e.length;n++)fne.add(e[n])}var Kh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZN=Object.prototype.hasOwnProperty,TCe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fj={},Nj={};function RCe(n){return ZN.call(Nj,n)?!0:ZN.call(Fj,n)?!1:TCe.test(n)?Nj[n]=!0:(Fj[n]=!0,!1)}function PCe(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function BCe(n,e,t,i){if(e===null||typeof e>"u"||PCe(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _o(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_s[n]=new _o(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];_s[e]=new _o(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_s[n]=new _o(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_s[n]=new _o(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_s[n]=new _o(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_s[n]=new _o(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_s[n]=new _o(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_s[n]=new _o(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_s[n]=new _o(n,5,!1,n.toLowerCase(),null,!1,!1)});var Qz=/[\-:]([a-z])/g;function qz(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Qz,qz);_s[e]=new _o(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Qz,qz);_s[e]=new _o(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Qz,qz);_s[e]=new _o(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_s[n]=new _o(n,1,!1,n.toLowerCase(),null,!1,!1)});_s.xlinkHref=new _o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_s[n]=new _o(n,1,!1,n.toLowerCase(),null,!0,!0)});function $z(n,e,t,i){var r=_s.hasOwnProperty(e)?_s[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BCe(e,t,r,i)&&(t=null),i||r===null?RCe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var rd=CCe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,HE=Symbol.for("react.element"),Iy=Symbol.for("react.portal"),Ly=Symbol.for("react.fragment"),Zz=Symbol.for("react.strict_mode"),eO=Symbol.for("react.profiler"),pne=Symbol.for("react.provider"),mne=Symbol.for("react.context"),eH=Symbol.for("react.forward_ref"),tO=Symbol.for("react.suspense"),nO=Symbol.for("react.suspense_list"),tH=Symbol.for("react.memo"),ef=Symbol.for("react.lazy"),gne=Symbol.for("react.offscreen"),Oj=Symbol.iterator;function aA(n){return n===null||typeof n!="object"?null:(n=Oj&&n[Oj]||n["@@iterator"],typeof n=="function"?n:null)}var ki=Object.assign,$L;function GA(n){if($L===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);$L=e&&e[1]||""}return`
`+$L+n}var ZL=!1;function eD(n,e){if(!n||ZL)return"";ZL=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{ZL=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?GA(n):""}function ICe(n){switch(n.tag){case 5:return GA(n.type);case 16:return GA("Lazy");case 13:return GA("Suspense");case 19:return GA("SuspenseList");case 0:case 2:case 15:return n=eD(n.type,!1),n;case 11:return n=eD(n.type.render,!1),n;case 1:return n=eD(n.type,!0),n;default:return""}}function iO(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ly:return"Fragment";case Iy:return"Portal";case eO:return"Profiler";case Zz:return"StrictMode";case tO:return"Suspense";case nO:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case mne:return(n.displayName||"Context")+".Consumer";case pne:return(n._context.displayName||"Context")+".Provider";case eH:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tH:return e=n.displayName||null,e!==null?e:iO(n.type)||"Memo";case ef:e=n._payload,n=n._init;try{return iO(n(e))}catch{}}return null}function LCe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iO(e);case 8:return e===Zz?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vne(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DCe(n){var e=vne(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function GE(n){n._valueTracker||(n._valueTracker=DCe(n))}function yne(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=vne(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function jR(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function rO(n,e){var t=e.checked;return ki({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Uj(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=jf(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xne(n,e){e=e.checked,e!=null&&$z(n,"checked",e,!1)}function sO(n,e){xne(n,e);var t=jf(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?oO(n,e.type,t):e.hasOwnProperty("defaultValue")&&oO(n,e.type,jf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function kj(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function oO(n,e,t){(e!=="number"||jR(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var VA=Array.isArray;function ux(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+jf(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function aO(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_t(91));return ki({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zj(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(_t(92));if(VA(t)){if(1<t.length)throw Error(_t(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:jf(t)}}function _ne(n,e){var t=jf(e.value),i=jf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Hj(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Ane(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lO(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Ane(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var VE,Sne=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(VE=VE||document.createElement("div"),VE.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=VE.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function gw(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var dS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FCe=["Webkit","ms","Moz","O"];Object.keys(dS).forEach(function(n){FCe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),dS[e]=dS[n]})});function wne(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||dS.hasOwnProperty(n)&&dS[n]?(""+e).trim():e+"px"}function Mne(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=wne(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var NCe=ki({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cO(n,e){if(e){if(NCe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_t(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_t(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_t(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_t(62))}}function uO(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hO=null;function nH(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dO=null,hx=null,dx=null;function Gj(n){if(n=IM(n)){if(typeof dO!="function")throw Error(_t(280));var e=n.stateNode;e&&(e=JP(e),dO(n.stateNode,n.type,e))}}function bne(n){hx?dx?dx.push(n):dx=[n]:hx=n}function Ene(){if(hx){var n=hx,e=dx;if(dx=hx=null,Gj(n),e)for(n=0;n<e.length;n++)Gj(e[n])}}function Cne(n,e){return n(e)}function Tne(){}var tD=!1;function Rne(n,e,t){if(tD)return n(e,t);tD=!0;try{return Cne(n,e,t)}finally{tD=!1,(hx!==null||dx!==null)&&(Tne(),Ene())}}function vw(n,e){var t=n.stateNode;if(t===null)return null;var i=JP(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(_t(231,e,typeof t));return t}var fO=!1;if(Kh)try{var lA={};Object.defineProperty(lA,"passive",{get:function(){fO=!0}}),window.addEventListener("test",lA,lA),window.removeEventListener("test",lA,lA)}catch{fO=!1}function OCe(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var fS=!1,WR=null,XR=!1,pO=null,UCe={onError:function(n){fS=!0,WR=n}};function kCe(n,e,t,i,r,s,o,a,l){fS=!1,WR=null,OCe.apply(UCe,arguments)}function zCe(n,e,t,i,r,s,o,a,l){if(kCe.apply(this,arguments),fS){if(fS){var c=WR;fS=!1,WR=null}else throw Error(_t(198));XR||(XR=!0,pO=c)}}function p0(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Pne(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Vj(n){if(p0(n)!==n)throw Error(_t(188))}function HCe(n){var e=n.alternate;if(!e){if(e=p0(n),e===null)throw Error(_t(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Vj(r),n;if(s===i)return Vj(r),e;s=s.sibling}throw Error(_t(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(_t(189))}}if(t.alternate!==i)throw Error(_t(190))}if(t.tag!==3)throw Error(_t(188));return t.stateNode.current===t?n:e}function Bne(n){return n=HCe(n),n!==null?Ine(n):null}function Ine(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Ine(n);if(e!==null)return e;n=n.sibling}return null}var Lne=ba.unstable_scheduleCallback,jj=ba.unstable_cancelCallback,GCe=ba.unstable_shouldYield,VCe=ba.unstable_requestPaint,rr=ba.unstable_now,jCe=ba.unstable_getCurrentPriorityLevel,iH=ba.unstable_ImmediatePriority,Dne=ba.unstable_UserBlockingPriority,JR=ba.unstable_NormalPriority,WCe=ba.unstable_LowPriority,Fne=ba.unstable_IdlePriority,VP=null,iu=null;function XCe(n){if(iu&&typeof iu.onCommitFiberRoot=="function")try{iu.onCommitFiberRoot(VP,n,void 0,(n.current.flags&128)===128)}catch{}}var ic=Math.clz32?Math.clz32:YCe,JCe=Math.log,KCe=Math.LN2;function YCe(n){return n>>>=0,n===0?32:31-(JCe(n)/KCe|0)|0}var jE=64,WE=4194304;function jA(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function KR(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=jA(a):(s&=o,s!==0&&(i=jA(s)))}else o=t&~r,o!==0?i=jA(o):s!==0&&(i=jA(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ic(e),r=1<<t,i|=n[t],e&=~r;return i}function QCe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qCe(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ic(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=QCe(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function mO(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Nne(){var n=jE;return jE<<=1,!(jE&4194240)&&(jE=64),n}function nD(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function PM(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ic(e),n[e]=t}function $Ce(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ic(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function rH(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ic(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var $n=0;function One(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Une,sH,kne,zne,Hne,gO=!1,XE=[],bf=null,Ef=null,Cf=null,yw=new Map,xw=new Map,af=[],ZCe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wj(n,e){switch(n){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":Ef=null;break;case"mouseover":case"mouseout":Cf=null;break;case"pointerover":case"pointerout":yw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xw.delete(e.pointerId)}}function cA(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=IM(e),e!==null&&sH(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function eTe(n,e,t,i,r){switch(e){case"focusin":return bf=cA(bf,n,e,t,i,r),!0;case"dragenter":return Ef=cA(Ef,n,e,t,i,r),!0;case"mouseover":return Cf=cA(Cf,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return yw.set(s,cA(yw.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,xw.set(s,cA(xw.get(s)||null,n,e,t,i,r)),!0}return!1}function Gne(n){var e=$m(n.target);if(e!==null){var t=p0(e);if(t!==null){if(e=t.tag,e===13){if(e=Pne(t),e!==null){n.blockedOn=e,Hne(n.priority,function(){kne(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function BT(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=vO(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);hO=i,t.target.dispatchEvent(i),hO=null}else return e=IM(t),e!==null&&sH(e),n.blockedOn=t,!1;e.shift()}return!0}function Xj(n,e,t){BT(n)&&t.delete(e)}function tTe(){gO=!1,bf!==null&&BT(bf)&&(bf=null),Ef!==null&&BT(Ef)&&(Ef=null),Cf!==null&&BT(Cf)&&(Cf=null),yw.forEach(Xj),xw.forEach(Xj)}function uA(n,e){n.blockedOn===e&&(n.blockedOn=null,gO||(gO=!0,ba.unstable_scheduleCallback(ba.unstable_NormalPriority,tTe)))}function _w(n){function e(r){return uA(r,n)}if(0<XE.length){uA(XE[0],n);for(var t=1;t<XE.length;t++){var i=XE[t];i.blockedOn===n&&(i.blockedOn=null)}}for(bf!==null&&uA(bf,n),Ef!==null&&uA(Ef,n),Cf!==null&&uA(Cf,n),yw.forEach(e),xw.forEach(e),t=0;t<af.length;t++)i=af[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<af.length&&(t=af[0],t.blockedOn===null);)Gne(t),t.blockedOn===null&&af.shift()}var fx=rd.ReactCurrentBatchConfig,YR=!0;function nTe(n,e,t,i){var r=$n,s=fx.transition;fx.transition=null;try{$n=1,oH(n,e,t,i)}finally{$n=r,fx.transition=s}}function iTe(n,e,t,i){var r=$n,s=fx.transition;fx.transition=null;try{$n=4,oH(n,e,t,i)}finally{$n=r,fx.transition=s}}function oH(n,e,t,i){if(YR){var r=vO(n,e,t,i);if(r===null)dD(n,e,i,QR,t),Wj(n,i);else if(eTe(r,n,e,t,i))i.stopPropagation();else if(Wj(n,i),e&4&&-1<ZCe.indexOf(n)){for(;r!==null;){var s=IM(r);if(s!==null&&Une(s),s=vO(n,e,t,i),s===null&&dD(n,e,i,QR,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else dD(n,e,i,null,t)}}var QR=null;function vO(n,e,t,i){if(QR=null,n=nH(i),n=$m(n),n!==null)if(e=p0(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Pne(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return QR=n,null}function Vne(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jCe()){case iH:return 1;case Dne:return 4;case JR:case WCe:return 16;case Fne:return 536870912;default:return 16}default:return 16}}var df=null,aH=null,IT=null;function jne(){if(IT)return IT;var n,e=aH,t=e.length,i,r="value"in df?df.value:df.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return IT=r.slice(n,1<i?1-i:void 0)}function LT(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function JE(){return!0}function Jj(){return!1}function Ia(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?JE:Jj,this.isPropagationStopped=Jj,this}return ki(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=JE)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=JE)},persist:function(){},isPersistent:JE}),e}var _1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lH=Ia(_1),BM=ki({},_1,{view:0,detail:0}),rTe=Ia(BM),iD,rD,hA,jP=ki({},BM,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cH,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hA&&(hA&&n.type==="mousemove"?(iD=n.screenX-hA.screenX,rD=n.screenY-hA.screenY):rD=iD=0,hA=n),iD)},movementY:function(n){return"movementY"in n?n.movementY:rD}}),Kj=Ia(jP),sTe=ki({},jP,{dataTransfer:0}),oTe=Ia(sTe),aTe=ki({},BM,{relatedTarget:0}),sD=Ia(aTe),lTe=ki({},_1,{animationName:0,elapsedTime:0,pseudoElement:0}),cTe=Ia(lTe),uTe=ki({},_1,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hTe=Ia(uTe),dTe=ki({},_1,{data:0}),Yj=Ia(dTe),fTe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pTe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mTe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gTe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=mTe[n])?!!e[n]:!1}function cH(){return gTe}var vTe=ki({},BM,{key:function(n){if(n.key){var e=fTe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=LT(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pTe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cH,charCode:function(n){return n.type==="keypress"?LT(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?LT(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yTe=Ia(vTe),xTe=ki({},jP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qj=Ia(xTe),_Te=ki({},BM,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cH}),ATe=Ia(_Te),STe=ki({},_1,{propertyName:0,elapsedTime:0,pseudoElement:0}),wTe=Ia(STe),MTe=ki({},jP,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),bTe=Ia(MTe),ETe=[9,13,27,32],uH=Kh&&"CompositionEvent"in window,pS=null;Kh&&"documentMode"in document&&(pS=document.documentMode);var CTe=Kh&&"TextEvent"in window&&!pS,Wne=Kh&&(!uH||pS&&8<pS&&11>=pS),qj=" ",$j=!1;function Xne(n,e){switch(n){case"keyup":return ETe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jne(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Dy=!1;function TTe(n,e){switch(n){case"compositionend":return Jne(e);case"keypress":return e.which!==32?null:($j=!0,qj);case"textInput":return n=e.data,n===qj&&$j?null:n;default:return null}}function RTe(n,e){if(Dy)return n==="compositionend"||!uH&&Xne(n,e)?(n=jne(),IT=aH=df=null,Dy=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wne&&e.locale!=="ko"?null:e.data;default:return null}}var PTe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zj(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!PTe[n.type]:e==="textarea"}function Kne(n,e,t,i){bne(i),e=qR(e,"onChange"),0<e.length&&(t=new lH("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var mS=null,Aw=null;function BTe(n){sie(n,0)}function WP(n){var e=Oy(n);if(yne(e))return n}function ITe(n,e){if(n==="change")return e}var Yne=!1;if(Kh){var oD;if(Kh){var aD="oninput"in document;if(!aD){var eW=document.createElement("div");eW.setAttribute("oninput","return;"),aD=typeof eW.oninput=="function"}oD=aD}else oD=!1;Yne=oD&&(!document.documentMode||9<document.documentMode)}function tW(){mS&&(mS.detachEvent("onpropertychange",Qne),Aw=mS=null)}function Qne(n){if(n.propertyName==="value"&&WP(Aw)){var e=[];Kne(e,Aw,n,nH(n)),Rne(BTe,e)}}function LTe(n,e,t){n==="focusin"?(tW(),mS=e,Aw=t,mS.attachEvent("onpropertychange",Qne)):n==="focusout"&&tW()}function DTe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return WP(Aw)}function FTe(n,e){if(n==="click")return WP(e)}function NTe(n,e){if(n==="input"||n==="change")return WP(e)}function OTe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var uc=typeof Object.is=="function"?Object.is:OTe;function Sw(n,e){if(uc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!ZN.call(e,r)||!uc(n[r],e[r]))return!1}return!0}function nW(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iW(n,e){var t=nW(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nW(t)}}function qne(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qne(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function $ne(){for(var n=window,e=jR();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=jR(n.document)}return e}function hH(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function UTe(n){var e=$ne(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&qne(t.ownerDocument.documentElement,t)){if(i!==null&&hH(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=iW(t,s);var o=iW(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var kTe=Kh&&"documentMode"in document&&11>=document.documentMode,Fy=null,yO=null,gS=null,xO=!1;function rW(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;xO||Fy==null||Fy!==jR(i)||(i=Fy,"selectionStart"in i&&hH(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gS&&Sw(gS,i)||(gS=i,i=qR(yO,"onSelect"),0<i.length&&(e=new lH("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Fy)))}function KE(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ny={animationend:KE("Animation","AnimationEnd"),animationiteration:KE("Animation","AnimationIteration"),animationstart:KE("Animation","AnimationStart"),transitionend:KE("Transition","TransitionEnd")},lD={},Zne={};Kh&&(Zne=document.createElement("div").style,"AnimationEvent"in window||(delete Ny.animationend.animation,delete Ny.animationiteration.animation,delete Ny.animationstart.animation),"TransitionEvent"in window||delete Ny.transitionend.transition);function XP(n){if(lD[n])return lD[n];if(!Ny[n])return n;var e=Ny[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Zne)return lD[n]=e[t];return n}var eie=XP("animationend"),tie=XP("animationiteration"),nie=XP("animationstart"),iie=XP("transitionend"),rie=new Map,sW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function op(n,e){rie.set(n,e),f0(e,[n])}for(var cD=0;cD<sW.length;cD++){var uD=sW[cD],zTe=uD.toLowerCase(),HTe=uD[0].toUpperCase()+uD.slice(1);op(zTe,"on"+HTe)}op(eie,"onAnimationEnd");op(tie,"onAnimationIteration");op(nie,"onAnimationStart");op("dblclick","onDoubleClick");op("focusin","onFocus");op("focusout","onBlur");op(iie,"onTransitionEnd");zx("onMouseEnter",["mouseout","mouseover"]);zx("onMouseLeave",["mouseout","mouseover"]);zx("onPointerEnter",["pointerout","pointerover"]);zx("onPointerLeave",["pointerout","pointerover"]);f0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));f0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));f0("onBeforeInput",["compositionend","keypress","textInput","paste"]);f0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));f0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));f0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var WA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GTe=new Set("cancel close invalid load scroll toggle".split(" ").concat(WA));function oW(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,zCe(i,e,void 0,n),n.currentTarget=null}function sie(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;oW(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;oW(r,a,c),s=l}}}if(XR)throw n=pO,XR=!1,pO=null,n}function gi(n,e){var t=e[MO];t===void 0&&(t=e[MO]=new Set);var i=n+"__bubble";t.has(i)||(oie(e,n,2,!1),t.add(i))}function hD(n,e,t){var i=0;e&&(i|=4),oie(t,n,i,e)}var YE="_reactListening"+Math.random().toString(36).slice(2);function ww(n){if(!n[YE]){n[YE]=!0,fne.forEach(function(t){t!=="selectionchange"&&(GTe.has(t)||hD(t,!1,n),hD(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[YE]||(e[YE]=!0,hD("selectionchange",!1,e))}}function oie(n,e,t,i){switch(Vne(e)){case 1:var r=nTe;break;case 4:r=iTe;break;default:r=oH}t=r.bind(null,e,t,n),r=void 0,!fO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function dD(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=$m(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Rne(function(){var c=s,h=nH(t),d=[];e:{var p=rie.get(n);if(p!==void 0){var m=lH,v=n;switch(n){case"keypress":if(LT(t)===0)break e;case"keydown":case"keyup":m=yTe;break;case"focusin":v="focus",m=sD;break;case"focusout":v="blur",m=sD;break;case"beforeblur":case"afterblur":m=sD;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oTe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ATe;break;case eie:case tie:case nie:m=cTe;break;case iie:m=wTe;break;case"scroll":m=rTe;break;case"wheel":m=bTe;break;case"copy":case"cut":case"paste":m=hTe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qj}var x=(e&4)!==0,y=!x&&n==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var S=c,w;S!==null;){w=S;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=vw(S,g),b!=null&&x.push(Mw(S,b,w)))),y)break;S=S.return}0<x.length&&(p=new m(p,v,null,t,h),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==hO&&(v=t.relatedTarget||t.fromElement)&&($m(v)||v[Yh]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?$m(v):null,v!==null&&(y=p0(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=Kj,b="onMouseLeave",g="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(x=Qj,b="onPointerLeave",g="onPointerEnter",S="pointer"),y=m==null?p:Oy(m),w=v==null?p:Oy(v),p=new x(b,S+"leave",m,t,h),p.target=y,p.relatedTarget=w,b=null,$m(h)===c&&(x=new x(g,S+"enter",v,t,h),x.target=w,x.relatedTarget=y,b=x),y=b,m&&v)t:{for(x=m,g=v,S=0,w=x;w;w=Nv(w))S++;for(w=0,b=g;b;b=Nv(b))w++;for(;0<S-w;)x=Nv(x),S--;for(;0<w-S;)g=Nv(g),w--;for(;S--;){if(x===g||g!==null&&x===g.alternate)break t;x=Nv(x),g=Nv(g)}x=null}else x=null;m!==null&&aW(d,p,m,x,!1),v!==null&&y!==null&&aW(d,y,v,x,!0)}}e:{if(p=c?Oy(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=ITe;else if(Zj(p))if(Yne)P=NTe;else{P=DTe;var T=LTe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=FTe);if(P&&(P=P(n,c))){Kne(d,P,t,h);break e}T&&T(n,p,c),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&oO(p,"number",p.value)}switch(T=c?Oy(c):window,n){case"focusin":(Zj(T)||T.contentEditable==="true")&&(Fy=T,yO=c,gS=null);break;case"focusout":gS=yO=Fy=null;break;case"mousedown":xO=!0;break;case"contextmenu":case"mouseup":case"dragend":xO=!1,rW(d,t,h);break;case"selectionchange":if(kTe)break;case"keydown":case"keyup":rW(d,t,h)}var B;if(uH)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Dy?Xne(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(Wne&&t.locale!=="ko"&&(Dy||I!=="onCompositionStart"?I==="onCompositionEnd"&&Dy&&(B=jne()):(df=h,aH="value"in df?df.value:df.textContent,Dy=!0)),T=qR(c,I),0<T.length&&(I=new Yj(I,n,null,t,h),d.push({event:I,listeners:T}),B?I.data=B:(B=Jne(t),B!==null&&(I.data=B)))),(B=CTe?TTe(n,t):RTe(n,t))&&(c=qR(c,"onBeforeInput"),0<c.length&&(h=new Yj("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=B))}sie(d,e)})}function Mw(n,e,t){return{instance:n,listener:e,currentTarget:t}}function qR(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=vw(n,t),s!=null&&i.unshift(Mw(n,s,r)),s=vw(n,e),s!=null&&i.push(Mw(n,s,r))),n=n.return}return i}function Nv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function aW(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=vw(t,s),l!=null&&o.unshift(Mw(t,l,a))):r||(l=vw(t,s),l!=null&&o.push(Mw(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var VTe=/\r\n?/g,jTe=/\u0000|\uFFFD/g;function lW(n){return(typeof n=="string"?n:""+n).replace(VTe,`
`).replace(jTe,"")}function QE(n,e,t){if(e=lW(e),lW(n)!==e&&t)throw Error(_t(425))}function $R(){}var _O=null,AO=null;function SO(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wO=typeof setTimeout=="function"?setTimeout:void 0,WTe=typeof clearTimeout=="function"?clearTimeout:void 0,cW=typeof Promise=="function"?Promise:void 0,XTe=typeof queueMicrotask=="function"?queueMicrotask:typeof cW<"u"?function(n){return cW.resolve(null).then(n).catch(JTe)}:wO;function JTe(n){setTimeout(function(){throw n})}function fD(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),_w(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);_w(e)}function Tf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function uW(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var A1=Math.random().toString(36).slice(2),Jc="__reactFiber$"+A1,bw="__reactProps$"+A1,Yh="__reactContainer$"+A1,MO="__reactEvents$"+A1,KTe="__reactListeners$"+A1,YTe="__reactHandles$"+A1;function $m(n){var e=n[Jc];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Yh]||t[Jc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=uW(n);n!==null;){if(t=n[Jc])return t;n=uW(n)}return e}n=t,t=n.parentNode}return null}function IM(n){return n=n[Jc]||n[Yh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Oy(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(_t(33))}function JP(n){return n[bw]||null}var bO=[],Uy=-1;function ap(n){return{current:n}}function Si(n){0>Uy||(n.current=bO[Uy],bO[Uy]=null,Uy--)}function ui(n,e){Uy++,bO[Uy]=n.current,n.current=e}var Wf={},Js=ap(Wf),Do=ap(!1),Wg=Wf;function Hx(n,e){var t=n.type.contextTypes;if(!t)return Wf;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Fo(n){return n=n.childContextTypes,n!=null}function ZR(){Si(Do),Si(Js)}function hW(n,e,t){if(Js.current!==Wf)throw Error(_t(168));ui(Js,e),ui(Do,t)}function aie(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(_t(108,LCe(n)||"Unknown",r));return ki({},t,i)}function e2(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wf,Wg=Js.current,ui(Js,n),ui(Do,Do.current),!0}function dW(n,e,t){var i=n.stateNode;if(!i)throw Error(_t(169));t?(n=aie(n,e,Wg),i.__reactInternalMemoizedMergedChildContext=n,Si(Do),Si(Js),ui(Js,n)):Si(Do),ui(Do,t)}var hh=null,KP=!1,pD=!1;function lie(n){hh===null?hh=[n]:hh.push(n)}function QTe(n){KP=!0,lie(n)}function lp(){if(!pD&&hh!==null){pD=!0;var n=0,e=$n;try{var t=hh;for($n=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}hh=null,KP=!1}catch(r){throw hh!==null&&(hh=hh.slice(n+1)),Lne(iH,lp),r}finally{$n=e,pD=!1}}return null}var ky=[],zy=0,t2=null,n2=0,ll=[],cl=0,Xg=null,Sh=1,wh="";function Pm(n,e){ky[zy++]=n2,ky[zy++]=t2,t2=n,n2=e}function cie(n,e,t){ll[cl++]=Sh,ll[cl++]=wh,ll[cl++]=Xg,Xg=n;var i=Sh;n=wh;var r=32-ic(i)-1;i&=~(1<<r),t+=1;var s=32-ic(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Sh=1<<32-ic(e)+r|t<<r|i,wh=s+n}else Sh=1<<s|t<<r|i,wh=n}function dH(n){n.return!==null&&(Pm(n,1),cie(n,1,0))}function fH(n){for(;n===t2;)t2=ky[--zy],ky[zy]=null,n2=ky[--zy],ky[zy]=null;for(;n===Xg;)Xg=ll[--cl],ll[cl]=null,wh=ll[--cl],ll[cl]=null,Sh=ll[--cl],ll[cl]=null}var va=null,ua=null,Ci=!1,$l=null;function uie(n,e){var t=ml(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fW(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,va=n,ua=Tf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,va=n,ua=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Xg!==null?{id:Sh,overflow:wh}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ml(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,va=n,ua=null,!0):!1;default:return!1}}function EO(n){return(n.mode&1)!==0&&(n.flags&128)===0}function CO(n){if(Ci){var e=ua;if(e){var t=e;if(!fW(n,e)){if(EO(n))throw Error(_t(418));e=Tf(t.nextSibling);var i=va;e&&fW(n,e)?uie(i,t):(n.flags=n.flags&-4097|2,Ci=!1,va=n)}}else{if(EO(n))throw Error(_t(418));n.flags=n.flags&-4097|2,Ci=!1,va=n}}}function pW(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;va=n}function qE(n){if(n!==va)return!1;if(!Ci)return pW(n),Ci=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!SO(n.type,n.memoizedProps)),e&&(e=ua)){if(EO(n))throw hie(),Error(_t(418));for(;e;)uie(n,e),e=Tf(e.nextSibling)}if(pW(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(_t(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ua=Tf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ua=null}}else ua=va?Tf(n.stateNode.nextSibling):null;return!0}function hie(){for(var n=ua;n;)n=Tf(n.nextSibling)}function Gx(){ua=va=null,Ci=!1}function pH(n){$l===null?$l=[n]:$l.push(n)}var qTe=rd.ReactCurrentBatchConfig;function dA(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(_t(309));var i=t.stateNode}if(!i)throw Error(_t(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(_t(284));if(!t._owner)throw Error(_t(290,n))}return n}function $E(n,e){throw n=Object.prototype.toString.call(e),Error(_t(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function mW(n){var e=n._init;return e(n._payload)}function die(n){function e(g,S){if(n){var w=g.deletions;w===null?(g.deletions=[S],g.flags|=16):w.push(S)}}function t(g,S){if(!n)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function i(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function r(g,S){return g=If(g,S),g.index=0,g.sibling=null,g}function s(g,S,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<S?(g.flags|=2,S):w):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,S,w,b){return S===null||S.tag!==6?(S=AD(w,g.mode,b),S.return=g,S):(S=r(S,w),S.return=g,S)}function l(g,S,w,b){var P=w.type;return P===Ly?h(g,S,w.props.children,b,w.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ef&&mW(P)===S.type)?(b=r(S,w.props),b.ref=dA(g,S,w),b.return=g,b):(b=zT(w.type,w.key,w.props,null,g.mode,b),b.ref=dA(g,S,w),b.return=g,b)}function c(g,S,w,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=SD(w,g.mode,b),S.return=g,S):(S=r(S,w.children||[]),S.return=g,S)}function h(g,S,w,b,P){return S===null||S.tag!==7?(S=Ag(w,g.mode,b,P),S.return=g,S):(S=r(S,w),S.return=g,S)}function d(g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=AD(""+S,g.mode,w),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case HE:return w=zT(S.type,S.key,S.props,null,g.mode,w),w.ref=dA(g,null,S),w.return=g,w;case Iy:return S=SD(S,g.mode,w),S.return=g,S;case ef:var b=S._init;return d(g,b(S._payload),w)}if(VA(S)||aA(S))return S=Ag(S,g.mode,w,null),S.return=g,S;$E(g,S)}return null}function p(g,S,w,b){var P=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:a(g,S,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case HE:return w.key===P?l(g,S,w,b):null;case Iy:return w.key===P?c(g,S,w,b):null;case ef:return P=w._init,p(g,S,P(w._payload),b)}if(VA(w)||aA(w))return P!==null?null:h(g,S,w,b,null);$E(g,w)}return null}function m(g,S,w,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(S,g,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case HE:return g=g.get(b.key===null?w:b.key)||null,l(S,g,b,P);case Iy:return g=g.get(b.key===null?w:b.key)||null,c(S,g,b,P);case ef:var T=b._init;return m(g,S,w,T(b._payload),P)}if(VA(b)||aA(b))return g=g.get(w)||null,h(S,g,b,P,null);$E(S,b)}return null}function v(g,S,w,b){for(var P=null,T=null,B=S,I=S=0,R=null;B!==null&&I<w.length;I++){B.index>I?(R=B,B=null):R=B.sibling;var C=p(g,B,w[I],b);if(C===null){B===null&&(B=R);break}n&&B&&C.alternate===null&&e(g,B),S=s(C,S,I),T===null?P=C:T.sibling=C,T=C,B=R}if(I===w.length)return t(g,B),Ci&&Pm(g,I),P;if(B===null){for(;I<w.length;I++)B=d(g,w[I],b),B!==null&&(S=s(B,S,I),T===null?P=B:T.sibling=B,T=B);return Ci&&Pm(g,I),P}for(B=i(g,B);I<w.length;I++)R=m(B,g,I,w[I],b),R!==null&&(n&&R.alternate!==null&&B.delete(R.key===null?I:R.key),S=s(R,S,I),T===null?P=R:T.sibling=R,T=R);return n&&B.forEach(function(N){return e(g,N)}),Ci&&Pm(g,I),P}function x(g,S,w,b){var P=aA(w);if(typeof P!="function")throw Error(_t(150));if(w=P.call(w),w==null)throw Error(_t(151));for(var T=P=null,B=S,I=S=0,R=null,C=w.next();B!==null&&!C.done;I++,C=w.next()){B.index>I?(R=B,B=null):R=B.sibling;var N=p(g,B,C.value,b);if(N===null){B===null&&(B=R);break}n&&B&&N.alternate===null&&e(g,B),S=s(N,S,I),T===null?P=N:T.sibling=N,T=N,B=R}if(C.done)return t(g,B),Ci&&Pm(g,I),P;if(B===null){for(;!C.done;I++,C=w.next())C=d(g,C.value,b),C!==null&&(S=s(C,S,I),T===null?P=C:T.sibling=C,T=C);return Ci&&Pm(g,I),P}for(B=i(g,B);!C.done;I++,C=w.next())C=m(B,g,I,C.value,b),C!==null&&(n&&C.alternate!==null&&B.delete(C.key===null?I:C.key),S=s(C,S,I),T===null?P=C:T.sibling=C,T=C);return n&&B.forEach(function(j){return e(g,j)}),Ci&&Pm(g,I),P}function y(g,S,w,b){if(typeof w=="object"&&w!==null&&w.type===Ly&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case HE:e:{for(var P=w.key,T=S;T!==null;){if(T.key===P){if(P=w.type,P===Ly){if(T.tag===7){t(g,T.sibling),S=r(T,w.props.children),S.return=g,g=S;break e}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ef&&mW(P)===T.type){t(g,T.sibling),S=r(T,w.props),S.ref=dA(g,T,w),S.return=g,g=S;break e}t(g,T);break}else e(g,T);T=T.sibling}w.type===Ly?(S=Ag(w.props.children,g.mode,b,w.key),S.return=g,g=S):(b=zT(w.type,w.key,w.props,null,g.mode,b),b.ref=dA(g,S,w),b.return=g,g=b)}return o(g);case Iy:e:{for(T=w.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){t(g,S.sibling),S=r(S,w.children||[]),S.return=g,g=S;break e}else{t(g,S);break}else e(g,S);S=S.sibling}S=SD(w,g.mode,b),S.return=g,g=S}return o(g);case ef:return T=w._init,y(g,S,T(w._payload),b)}if(VA(w))return v(g,S,w,b);if(aA(w))return x(g,S,w,b);$E(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(t(g,S.sibling),S=r(S,w),S.return=g,g=S):(t(g,S),S=AD(w,g.mode,b),S.return=g,g=S),o(g)):t(g,S)}return y}var Vx=die(!0),fie=die(!1),i2=ap(null),r2=null,Hy=null,mH=null;function gH(){mH=Hy=r2=null}function vH(n){var e=i2.current;Si(i2),n._currentValue=e}function TO(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function px(n,e){r2=n,mH=Hy=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Po=!0),n.firstContext=null)}function Sl(n){var e=n._currentValue;if(mH!==n)if(n={context:n,memoizedValue:e,next:null},Hy===null){if(r2===null)throw Error(_t(308));Hy=n,r2.dependencies={lanes:0,firstContext:n}}else Hy=Hy.next=n;return e}var Zm=null;function yH(n){Zm===null?Zm=[n]:Zm.push(n)}function pie(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,yH(e)):(t.next=r.next,r.next=t),e.interleaved=t,Qh(n,i)}function Qh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var tf=!1;function xH(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mie(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Dh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Rf(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Un&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Qh(n,t)}return r=i.interleaved,r===null?(e.next=e,yH(i)):(e.next=r.next,r.next=e),i.interleaved=e,Qh(n,t)}function DT(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,rH(n,t)}}function gW(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function s2(n,e,t,i){var r=n.updateQueue;tf=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,m=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=ki({},d,p);break e;case 2:tf=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Kg|=o,n.lanes=o,n.memoizedState=d}}function vW(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(_t(191,r));r.call(i)}}}var LM={},ru=ap(LM),Ew=ap(LM),Cw=ap(LM);function eg(n){if(n===LM)throw Error(_t(174));return n}function _H(n,e){switch(ui(Cw,e),ui(Ew,n),ui(ru,LM),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lO(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=lO(e,n)}Si(ru),ui(ru,e)}function jx(){Si(ru),Si(Ew),Si(Cw)}function gie(n){eg(Cw.current);var e=eg(ru.current),t=lO(e,n.type);e!==t&&(ui(Ew,n),ui(ru,t))}function AH(n){Ew.current===n&&(Si(ru),Si(Ew))}var Bi=ap(0);function o2(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mD=[];function SH(){for(var n=0;n<mD.length;n++)mD[n]._workInProgressVersionPrimary=null;mD.length=0}var FT=rd.ReactCurrentDispatcher,gD=rd.ReactCurrentBatchConfig,Jg=0,Oi=null,Cr=null,Kr=null,a2=!1,vS=!1,Tw=0,$Te=0;function Rs(){throw Error(_t(321))}function wH(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!uc(n[t],e[t]))return!1;return!0}function MH(n,e,t,i,r,s){if(Jg=s,Oi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,FT.current=n===null||n.memoizedState===null?nRe:iRe,n=t(i,r),vS){s=0;do{if(vS=!1,Tw=0,25<=s)throw Error(_t(301));s+=1,Kr=Cr=null,e.updateQueue=null,FT.current=rRe,n=t(i,r)}while(vS)}if(FT.current=l2,e=Cr!==null&&Cr.next!==null,Jg=0,Kr=Cr=Oi=null,a2=!1,e)throw Error(_t(300));return n}function bH(){var n=Tw!==0;return Tw=0,n}function Vc(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Oi.memoizedState=Kr=n:Kr=Kr.next=n,Kr}function wl(){if(Cr===null){var n=Oi.alternate;n=n!==null?n.memoizedState:null}else n=Cr.next;var e=Kr===null?Oi.memoizedState:Kr.next;if(e!==null)Kr=e,Cr=n;else{if(n===null)throw Error(_t(310));Cr=n,n={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Kr===null?Oi.memoizedState=Kr=n:Kr=Kr.next=n}return Kr}function Rw(n,e){return typeof e=="function"?e(n):e}function vD(n){var e=wl(),t=e.queue;if(t===null)throw Error(_t(311));t.lastRenderedReducer=n;var i=Cr,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Jg&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Oi.lanes|=h,Kg|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,uc(i,e.memoizedState)||(Po=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Oi.lanes|=s,Kg|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function yD(n){var e=wl(),t=e.queue;if(t===null)throw Error(_t(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);uc(s,e.memoizedState)||(Po=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function vie(){}function yie(n,e){var t=Oi,i=wl(),r=e(),s=!uc(i.memoizedState,r);if(s&&(i.memoizedState=r,Po=!0),i=i.queue,EH(Aie.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Kr!==null&&Kr.memoizedState.tag&1){if(t.flags|=2048,Pw(9,_ie.bind(null,t,i,r,e),void 0,null),qr===null)throw Error(_t(349));Jg&30||xie(t,e,r)}return r}function xie(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Oi.updateQueue,e===null?(e={lastEffect:null,stores:null},Oi.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function _ie(n,e,t,i){e.value=t,e.getSnapshot=i,Sie(e)&&wie(n)}function Aie(n,e,t){return t(function(){Sie(e)&&wie(n)})}function Sie(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!uc(n,t)}catch{return!0}}function wie(n){var e=Qh(n,1);e!==null&&rc(e,n,1,-1)}function yW(n){var e=Vc();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rw,lastRenderedState:n},e.queue=n,n=n.dispatch=tRe.bind(null,Oi,n),[e.memoizedState,n]}function Pw(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Oi.updateQueue,e===null?(e={lastEffect:null,stores:null},Oi.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Mie(){return wl().memoizedState}function NT(n,e,t,i){var r=Vc();Oi.flags|=n,r.memoizedState=Pw(1|e,t,void 0,i===void 0?null:i)}function YP(n,e,t,i){var r=wl();i=i===void 0?null:i;var s=void 0;if(Cr!==null){var o=Cr.memoizedState;if(s=o.destroy,i!==null&&wH(i,o.deps)){r.memoizedState=Pw(e,t,s,i);return}}Oi.flags|=n,r.memoizedState=Pw(1|e,t,s,i)}function xW(n,e){return NT(8390656,8,n,e)}function EH(n,e){return YP(2048,8,n,e)}function bie(n,e){return YP(4,2,n,e)}function Eie(n,e){return YP(4,4,n,e)}function Cie(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Tie(n,e,t){return t=t!=null?t.concat([n]):null,YP(4,4,Cie.bind(null,e,n),t)}function CH(){}function Rie(n,e){var t=wl();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&wH(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Pie(n,e){var t=wl();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&wH(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Bie(n,e,t){return Jg&21?(uc(t,e)||(t=Nne(),Oi.lanes|=t,Kg|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Po=!0),n.memoizedState=t)}function ZTe(n,e){var t=$n;$n=t!==0&&4>t?t:4,n(!0);var i=gD.transition;gD.transition={};try{n(!1),e()}finally{$n=t,gD.transition=i}}function Iie(){return wl().memoizedState}function eRe(n,e,t){var i=Bf(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Lie(n))Die(e,t);else if(t=pie(n,e,t,i),t!==null){var r=po();rc(t,n,i,r),Fie(t,e,i)}}function tRe(n,e,t){var i=Bf(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Lie(n))Die(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,uc(a,o)){var l=e.interleaved;l===null?(r.next=r,yH(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=pie(n,e,r,i),t!==null&&(r=po(),rc(t,n,i,r),Fie(t,e,i))}}function Lie(n){var e=n.alternate;return n===Oi||e!==null&&e===Oi}function Die(n,e){vS=a2=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Fie(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,rH(n,t)}}var l2={readContext:Sl,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},nRe={readContext:Sl,useCallback:function(n,e){return Vc().memoizedState=[n,e===void 0?null:e],n},useContext:Sl,useEffect:xW,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,NT(4194308,4,Cie.bind(null,e,n),t)},useLayoutEffect:function(n,e){return NT(4194308,4,n,e)},useInsertionEffect:function(n,e){return NT(4,2,n,e)},useMemo:function(n,e){var t=Vc();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Vc();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=eRe.bind(null,Oi,n),[i.memoizedState,n]},useRef:function(n){var e=Vc();return n={current:n},e.memoizedState=n},useState:yW,useDebugValue:CH,useDeferredValue:function(n){return Vc().memoizedState=n},useTransition:function(){var n=yW(!1),e=n[0];return n=ZTe.bind(null,n[1]),Vc().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Oi,r=Vc();if(Ci){if(t===void 0)throw Error(_t(407));t=t()}else{if(t=e(),qr===null)throw Error(_t(349));Jg&30||xie(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,xW(Aie.bind(null,i,s,n),[n]),i.flags|=2048,Pw(9,_ie.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Vc(),e=qr.identifierPrefix;if(Ci){var t=wh,i=Sh;t=(i&~(1<<32-ic(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Tw++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=$Te++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},iRe={readContext:Sl,useCallback:Rie,useContext:Sl,useEffect:EH,useImperativeHandle:Tie,useInsertionEffect:bie,useLayoutEffect:Eie,useMemo:Pie,useReducer:vD,useRef:Mie,useState:function(){return vD(Rw)},useDebugValue:CH,useDeferredValue:function(n){var e=wl();return Bie(e,Cr.memoizedState,n)},useTransition:function(){var n=vD(Rw)[0],e=wl().memoizedState;return[n,e]},useMutableSource:vie,useSyncExternalStore:yie,useId:Iie,unstable_isNewReconciler:!1},rRe={readContext:Sl,useCallback:Rie,useContext:Sl,useEffect:EH,useImperativeHandle:Tie,useInsertionEffect:bie,useLayoutEffect:Eie,useMemo:Pie,useReducer:yD,useRef:Mie,useState:function(){return yD(Rw)},useDebugValue:CH,useDeferredValue:function(n){var e=wl();return Cr===null?e.memoizedState=n:Bie(e,Cr.memoizedState,n)},useTransition:function(){var n=yD(Rw)[0],e=wl().memoizedState;return[n,e]},useMutableSource:vie,useSyncExternalStore:yie,useId:Iie,unstable_isNewReconciler:!1};function Xl(n,e){if(n&&n.defaultProps){e=ki({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function RO(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ki({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var QP={isMounted:function(n){return(n=n._reactInternals)?p0(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=po(),r=Bf(n),s=Dh(i,r);s.payload=e,t!=null&&(s.callback=t),e=Rf(n,s,r),e!==null&&(rc(e,n,r,i),DT(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=po(),r=Bf(n),s=Dh(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Rf(n,s,r),e!==null&&(rc(e,n,r,i),DT(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=po(),i=Bf(n),r=Dh(t,i);r.tag=2,e!=null&&(r.callback=e),e=Rf(n,r,i),e!==null&&(rc(e,n,i,t),DT(e,n,i))}};function _W(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sw(t,i)||!Sw(r,s):!0}function Nie(n,e,t){var i=!1,r=Wf,s=e.contextType;return typeof s=="object"&&s!==null?s=Sl(s):(r=Fo(e)?Wg:Js.current,i=e.contextTypes,s=(i=i!=null)?Hx(n,r):Wf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=QP,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function AW(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&QP.enqueueReplaceState(e,e.state,null)}function PO(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},xH(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Sl(s):(s=Fo(e)?Wg:Js.current,r.context=Hx(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(RO(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&QP.enqueueReplaceState(r,r.state,null),s2(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Wx(n,e){try{var t="",i=e;do t+=ICe(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function xD(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function BO(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var sRe=typeof WeakMap=="function"?WeakMap:Map;function Oie(n,e,t){t=Dh(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){u2||(u2=!0,HO=i),BO(n,e)},t}function Uie(n,e,t){t=Dh(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){BO(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){BO(n,e),typeof i!="function"&&(Pf===null?Pf=new Set([this]):Pf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function SW(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new sRe;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=xRe.bind(null,n,e,t),e.then(n,n))}function wW(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function MW(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Dh(-1,1),e.tag=2,Rf(t,e,1))),t.lanes|=1),n)}var oRe=rd.ReactCurrentOwner,Po=!1;function oo(n,e,t,i){e.child=n===null?fie(e,null,t,i):Vx(e,n.child,t,i)}function bW(n,e,t,i,r){t=t.render;var s=e.ref;return px(e,r),i=MH(n,e,t,i,s,r),t=bH(),n!==null&&!Po?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,qh(n,e,r)):(Ci&&t&&dH(e),e.flags|=1,oo(n,e,i,r),e.child)}function EW(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!FH(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,kie(n,e,s,i,r)):(n=zT(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Sw,t(o,i)&&n.ref===e.ref)return qh(n,e,r)}return e.flags|=1,n=If(s,i),n.ref=e.ref,n.return=e,e.child=n}function kie(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Sw(s,i)&&n.ref===e.ref)if(Po=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Po=!0);else return e.lanes=n.lanes,qh(n,e,r)}return IO(n,e,t,i,r)}function zie(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ui(Vy,na),na|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ui(Vy,na),na|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,ui(Vy,na),na|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,ui(Vy,na),na|=i;return oo(n,e,r,t),e.child}function Hie(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function IO(n,e,t,i,r){var s=Fo(t)?Wg:Js.current;return s=Hx(e,s),px(e,r),t=MH(n,e,t,i,s,r),i=bH(),n!==null&&!Po?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,qh(n,e,r)):(Ci&&i&&dH(e),e.flags|=1,oo(n,e,t,r),e.child)}function CW(n,e,t,i,r){if(Fo(t)){var s=!0;e2(e)}else s=!1;if(px(e,r),e.stateNode===null)OT(n,e),Nie(e,t,i),PO(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Sl(c):(c=Fo(t)?Wg:Js.current,c=Hx(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&AW(e,o,i,c),tf=!1;var p=e.memoizedState;o.state=p,s2(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Do.current||tf?(typeof h=="function"&&(RO(e,t,h,i),l=e.memoizedState),(a=tf||_W(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,mie(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xl(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Sl(l):(l=Fo(t)?Wg:Js.current,l=Hx(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&AW(e,o,i,l),tf=!1,p=e.memoizedState,o.state=p,s2(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||Do.current||tf?(typeof m=="function"&&(RO(e,t,m,i),v=e.memoizedState),(c=tf||_W(e,t,c,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return LO(n,e,t,i,s,r)}function LO(n,e,t,i,r,s){Hie(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&dW(e,t,!1),qh(n,e,s);i=e.stateNode,oRe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Vx(e,n.child,null,s),e.child=Vx(e,null,a,s)):oo(n,e,a,s),e.memoizedState=i.state,r&&dW(e,t,!0),e.child}function Gie(n){var e=n.stateNode;e.pendingContext?hW(n,e.pendingContext,e.pendingContext!==e.context):e.context&&hW(n,e.context,!1),_H(n,e.containerInfo)}function TW(n,e,t,i,r){return Gx(),pH(r),e.flags|=256,oo(n,e,t,i),e.child}var DO={dehydrated:null,treeContext:null,retryLane:0};function FO(n){return{baseLanes:n,cachePool:null,transitions:null}}function Vie(n,e,t){var i=e.pendingProps,r=Bi.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),ui(Bi,r&1),n===null)return CO(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ZP(o,i,0,null),n=Ag(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=FO(t),e.memoizedState=DO,n):TH(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return aRe(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=If(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=If(a,s):(s=Ag(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?FO(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=DO,i}return s=n.child,n=s.sibling,i=If(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function TH(n,e){return e=ZP({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ZE(n,e,t,i){return i!==null&&pH(i),Vx(e,n.child,null,t),n=TH(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function aRe(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=xD(Error(_t(422))),ZE(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ZP({mode:"visible",children:i.children},r,0,null),s=Ag(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Vx(e,n.child,null,o),e.child.memoizedState=FO(o),e.memoizedState=DO,s);if(!(e.mode&1))return ZE(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(_t(419)),i=xD(s,i,void 0),ZE(n,e,o,i)}if(a=(o&n.childLanes)!==0,Po||a){if(i=qr,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Qh(n,r),rc(i,n,r,-1))}return DH(),i=xD(Error(_t(421))),ZE(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=_Re.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ua=Tf(r.nextSibling),va=e,Ci=!0,$l=null,n!==null&&(ll[cl++]=Sh,ll[cl++]=wh,ll[cl++]=Xg,Sh=n.id,wh=n.overflow,Xg=e),e=TH(e,i.children),e.flags|=4096,e)}function RW(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),TO(n.return,e,t)}function _D(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function jie(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(oo(n,e,i.children,t),i=Bi.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&RW(n,t,e);else if(n.tag===19)RW(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ui(Bi,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&o2(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),_D(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&o2(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}_D(e,!0,t,null,s);break;case"together":_D(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function OT(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function qh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Kg|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(_t(153));if(e.child!==null){for(n=e.child,t=If(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=If(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function lRe(n,e,t){switch(e.tag){case 3:Gie(e),Gx();break;case 5:gie(e);break;case 1:Fo(e.type)&&e2(e);break;case 4:_H(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ui(i2,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ui(Bi,Bi.current&1),e.flags|=128,null):t&e.child.childLanes?Vie(n,e,t):(ui(Bi,Bi.current&1),n=qh(n,e,t),n!==null?n.sibling:null);ui(Bi,Bi.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return jie(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ui(Bi,Bi.current),i)break;return null;case 22:case 23:return e.lanes=0,zie(n,e,t)}return qh(n,e,t)}var Wie,NO,Xie,Jie;Wie=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};NO=function(){};Xie=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,eg(ru.current);var s=null;switch(t){case"input":r=rO(n,r),i=rO(n,i),s=[];break;case"select":r=ki({},r,{value:void 0}),i=ki({},i,{value:void 0}),s=[];break;case"textarea":r=aO(n,r),i=aO(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=$R)}cO(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mw.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mw.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gi("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Jie=function(n,e,t,i){t!==i&&(e.flags|=4)};function fA(n,e){if(!Ci)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ps(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function cRe(n,e,t){var i=e.pendingProps;switch(fH(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(e),null;case 1:return Fo(e.type)&&ZR(),Ps(e),null;case 3:return i=e.stateNode,jx(),Si(Do),Si(Js),SH(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(qE(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$l!==null&&(jO($l),$l=null))),NO(n,e),Ps(e),null;case 5:AH(e);var r=eg(Cw.current);if(t=e.type,n!==null&&e.stateNode!=null)Xie(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(_t(166));return Ps(e),null}if(n=eg(ru.current),qE(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Jc]=e,i[bw]=s,n=(e.mode&1)!==0,t){case"dialog":gi("cancel",i),gi("close",i);break;case"iframe":case"object":case"embed":gi("load",i);break;case"video":case"audio":for(r=0;r<WA.length;r++)gi(WA[r],i);break;case"source":gi("error",i);break;case"img":case"image":case"link":gi("error",i),gi("load",i);break;case"details":gi("toggle",i);break;case"input":Uj(i,s),gi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},gi("invalid",i);break;case"textarea":zj(i,s),gi("invalid",i)}cO(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&QE(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&QE(i.textContent,a,n),r=["children",""+a]):mw.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gi("scroll",i)}switch(t){case"input":GE(i),kj(i,s,!0);break;case"textarea":GE(i),Hj(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=$R)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ane(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Jc]=e,n[bw]=i,Wie(n,e,!1,!1),e.stateNode=n;e:{switch(o=uO(t,i),t){case"dialog":gi("cancel",n),gi("close",n),r=i;break;case"iframe":case"object":case"embed":gi("load",n),r=i;break;case"video":case"audio":for(r=0;r<WA.length;r++)gi(WA[r],n);r=i;break;case"source":gi("error",n),r=i;break;case"img":case"image":case"link":gi("error",n),gi("load",n),r=i;break;case"details":gi("toggle",n),r=i;break;case"input":Uj(n,i),r=rO(n,i),gi("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ki({},i,{value:void 0}),gi("invalid",n);break;case"textarea":zj(n,i),r=aO(n,i),gi("invalid",n);break;default:r=i}cO(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Mne(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sne(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&gw(n,l):typeof l=="number"&&gw(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mw.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gi("scroll",n):l!=null&&$z(n,s,l,o))}switch(t){case"input":GE(n),kj(n,i,!1);break;case"textarea":GE(n),Hj(n);break;case"option":i.value!=null&&n.setAttribute("value",""+jf(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?ux(n,!!i.multiple,s,!1):i.defaultValue!=null&&ux(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=$R)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ps(e),null;case 6:if(n&&e.stateNode!=null)Jie(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(_t(166));if(t=eg(Cw.current),eg(ru.current),qE(e)){if(i=e.stateNode,t=e.memoizedProps,i[Jc]=e,(s=i.nodeValue!==t)&&(n=va,n!==null))switch(n.tag){case 3:QE(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&QE(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Jc]=e,e.stateNode=i}return Ps(e),null;case 13:if(Si(Bi),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ci&&ua!==null&&e.mode&1&&!(e.flags&128))hie(),Gx(),e.flags|=98560,s=!1;else if(s=qE(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(_t(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_t(317));s[Jc]=e}else Gx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ps(e),s=!1}else $l!==null&&(jO($l),$l=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Bi.current&1?Pr===0&&(Pr=3):DH())),e.updateQueue!==null&&(e.flags|=4),Ps(e),null);case 4:return jx(),NO(n,e),n===null&&ww(e.stateNode.containerInfo),Ps(e),null;case 10:return vH(e.type._context),Ps(e),null;case 17:return Fo(e.type)&&ZR(),Ps(e),null;case 19:if(Si(Bi),s=e.memoizedState,s===null)return Ps(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)fA(s,!1);else{if(Pr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=o2(n),o!==null){for(e.flags|=128,fA(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ui(Bi,Bi.current&1|2),e.child}n=n.sibling}s.tail!==null&&rr()>Xx&&(e.flags|=128,i=!0,fA(s,!1),e.lanes=4194304)}else{if(!i)if(n=o2(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),fA(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ci)return Ps(e),null}else 2*rr()-s.renderingStartTime>Xx&&t!==1073741824&&(e.flags|=128,i=!0,fA(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rr(),e.sibling=null,t=Bi.current,ui(Bi,i?t&1|2:t&1),e):(Ps(e),null);case 22:case 23:return LH(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?na&1073741824&&(Ps(e),e.subtreeFlags&6&&(e.flags|=8192)):Ps(e),null;case 24:return null;case 25:return null}throw Error(_t(156,e.tag))}function uRe(n,e){switch(fH(e),e.tag){case 1:return Fo(e.type)&&ZR(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return jx(),Si(Do),Si(Js),SH(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return AH(e),null;case 13:if(Si(Bi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(_t(340));Gx()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Si(Bi),null;case 4:return jx(),null;case 10:return vH(e.type._context),null;case 22:case 23:return LH(),null;case 24:return null;default:return null}}var eC=!1,Os=!1,hRe=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Gy(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Wi(n,e,i)}else t.current=null}function OO(n,e,t){try{t()}catch(i){Wi(n,e,i)}}var PW=!1;function dRe(n,e){if(_O=YR,n=$ne(),hH(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(AO={focusedElem:n,selectionRange:t},YR=!1,Ft=e;Ft!==null;)if(e=Ft,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ft=n;else for(;Ft!==null;){e=Ft;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Xl(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_t(163))}}catch(b){Wi(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Ft=n;break}Ft=e.return}return v=PW,PW=!1,v}function yS(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&OO(e,t,s)}r=r.next}while(r!==i)}}function qP(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function UO(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Kie(n){var e=n.alternate;e!==null&&(n.alternate=null,Kie(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Jc],delete e[bw],delete e[MO],delete e[KTe],delete e[YTe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Yie(n){return n.tag===5||n.tag===3||n.tag===4}function BW(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yie(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kO(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=$R));else if(i!==4&&(n=n.child,n!==null))for(kO(n,e,t),n=n.sibling;n!==null;)kO(n,e,t),n=n.sibling}function zO(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(zO(n,e,t),n=n.sibling;n!==null;)zO(n,e,t),n=n.sibling}var us=null,Yl=!1;function Od(n,e,t){for(t=t.child;t!==null;)Qie(n,e,t),t=t.sibling}function Qie(n,e,t){if(iu&&typeof iu.onCommitFiberUnmount=="function")try{iu.onCommitFiberUnmount(VP,t)}catch{}switch(t.tag){case 5:Os||Gy(t,e);case 6:var i=us,r=Yl;us=null,Od(n,e,t),us=i,Yl=r,us!==null&&(Yl?(n=us,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):us.removeChild(t.stateNode));break;case 18:us!==null&&(Yl?(n=us,t=t.stateNode,n.nodeType===8?fD(n.parentNode,t):n.nodeType===1&&fD(n,t),_w(n)):fD(us,t.stateNode));break;case 4:i=us,r=Yl,us=t.stateNode.containerInfo,Yl=!0,Od(n,e,t),us=i,Yl=r;break;case 0:case 11:case 14:case 15:if(!Os&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&OO(t,e,o),r=r.next}while(r!==i)}Od(n,e,t);break;case 1:if(!Os&&(Gy(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Wi(t,e,a)}Od(n,e,t);break;case 21:Od(n,e,t);break;case 22:t.mode&1?(Os=(i=Os)||t.memoizedState!==null,Od(n,e,t),Os=i):Od(n,e,t);break;default:Od(n,e,t)}}function IW(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new hRe),e.forEach(function(i){var r=ARe.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function zl(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:us=a.stateNode,Yl=!1;break e;case 3:us=a.stateNode.containerInfo,Yl=!0;break e;case 4:us=a.stateNode.containerInfo,Yl=!0;break e}a=a.return}if(us===null)throw Error(_t(160));Qie(s,o,r),us=null,Yl=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Wi(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qie(e,n),e=e.sibling}function qie(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zl(e,n),Hc(n),i&4){try{yS(3,n,n.return),qP(3,n)}catch(x){Wi(n,n.return,x)}try{yS(5,n,n.return)}catch(x){Wi(n,n.return,x)}}break;case 1:zl(e,n),Hc(n),i&512&&t!==null&&Gy(t,t.return);break;case 5:if(zl(e,n),Hc(n),i&512&&t!==null&&Gy(t,t.return),n.flags&32){var r=n.stateNode;try{gw(r,"")}catch(x){Wi(n,n.return,x)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xne(r,s),uO(a,o);var c=uO(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Mne(r,d):h==="dangerouslySetInnerHTML"?Sne(r,d):h==="children"?gw(r,d):$z(r,h,d,c)}switch(a){case"input":sO(r,s);break;case"textarea":_ne(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ux(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ux(r,!!s.multiple,s.defaultValue,!0):ux(r,!!s.multiple,s.multiple?[]:"",!1))}r[bw]=s}catch(x){Wi(n,n.return,x)}}break;case 6:if(zl(e,n),Hc(n),i&4){if(n.stateNode===null)throw Error(_t(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(x){Wi(n,n.return,x)}}break;case 3:if(zl(e,n),Hc(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{_w(e.containerInfo)}catch(x){Wi(n,n.return,x)}break;case 4:zl(e,n),Hc(n);break;case 13:zl(e,n),Hc(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(BH=rr())),i&4&&IW(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Os=(c=Os)||h,zl(e,n),Os=c):zl(e,n),Hc(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(Ft=n,h=n.child;h!==null;){for(d=Ft=h;Ft!==null;){switch(p=Ft,m=p.child,p.tag){case 0:case 11:case 14:case 15:yS(4,p,p.return);break;case 1:Gy(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Wi(i,t,x)}}break;case 5:Gy(p,p.return);break;case 22:if(p.memoizedState!==null){DW(d);continue}}m!==null?(m.return=p,Ft=m):DW(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wne("display",o))}catch(x){Wi(n,n.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Wi(n,n.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zl(e,n),Hc(n),i&4&&IW(n);break;case 21:break;default:zl(e,n),Hc(n)}}function Hc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Yie(t)){var i=t;break e}t=t.return}throw Error(_t(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(gw(r,""),i.flags&=-33);var s=BW(n);zO(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=BW(n);kO(n,a,o);break;default:throw Error(_t(161))}}catch(l){Wi(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function fRe(n,e,t){Ft=n,$ie(n)}function $ie(n,e,t){for(var i=(n.mode&1)!==0;Ft!==null;){var r=Ft,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||eC;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Os;a=eC;var c=Os;if(eC=o,(Os=l)&&!c)for(Ft=r;Ft!==null;)o=Ft,l=o.child,o.tag===22&&o.memoizedState!==null?FW(r):l!==null?(l.return=o,Ft=l):FW(r);for(;s!==null;)Ft=s,$ie(s),s=s.sibling;Ft=r,eC=a,Os=c}LW(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ft=s):LW(n)}}function LW(n){for(;Ft!==null;){var e=Ft;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Os||qP(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Os)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Xl(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vW(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}vW(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&_w(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_t(163))}Os||e.flags&512&&UO(e)}catch(p){Wi(e,e.return,p)}}if(e===n){Ft=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}}function DW(n){for(;Ft!==null;){var e=Ft;if(e===n){Ft=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ft=t;break}Ft=e.return}}function FW(n){for(;Ft!==null;){var e=Ft;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{qP(4,e)}catch(l){Wi(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Wi(e,r,l)}}var s=e.return;try{UO(e)}catch(l){Wi(e,s,l)}break;case 5:var o=e.return;try{UO(e)}catch(l){Wi(e,o,l)}}}catch(l){Wi(e,e.return,l)}if(e===n){Ft=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ft=a;break}Ft=e.return}}var pRe=Math.ceil,c2=rd.ReactCurrentDispatcher,RH=rd.ReactCurrentOwner,xl=rd.ReactCurrentBatchConfig,Un=0,qr=null,gr=null,vs=0,na=0,Vy=ap(0),Pr=0,Bw=null,Kg=0,$P=0,PH=0,xS=null,To=null,BH=0,Xx=1/0,ah=null,u2=!1,HO=null,Pf=null,tC=!1,ff=null,h2=0,_S=0,GO=null,UT=-1,kT=0;function po(){return Un&6?rr():UT!==-1?UT:UT=rr()}function Bf(n){return n.mode&1?Un&2&&vs!==0?vs&-vs:qTe.transition!==null?(kT===0&&(kT=Nne()),kT):(n=$n,n!==0||(n=window.event,n=n===void 0?16:Vne(n.type)),n):1}function rc(n,e,t,i){if(50<_S)throw _S=0,GO=null,Error(_t(185));PM(n,t,i),(!(Un&2)||n!==qr)&&(n===qr&&(!(Un&2)&&($P|=t),Pr===4&&lf(n,vs)),No(n,i),t===1&&Un===0&&!(e.mode&1)&&(Xx=rr()+500,KP&&lp()))}function No(n,e){var t=n.callbackNode;qCe(n,e);var i=KR(n,n===qr?vs:0);if(i===0)t!==null&&jj(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&jj(t),e===1)n.tag===0?QTe(NW.bind(null,n)):lie(NW.bind(null,n)),XTe(function(){!(Un&6)&&lp()}),t=null;else{switch(One(i)){case 1:t=iH;break;case 4:t=Dne;break;case 16:t=JR;break;case 536870912:t=Fne;break;default:t=JR}t=ore(t,Zie.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Zie(n,e){if(UT=-1,kT=0,Un&6)throw Error(_t(327));var t=n.callbackNode;if(mx()&&n.callbackNode!==t)return null;var i=KR(n,n===qr?vs:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=d2(n,i);else{e=i;var r=Un;Un|=2;var s=tre();(qr!==n||vs!==e)&&(ah=null,Xx=rr()+500,_g(n,e));do try{vRe();break}catch(a){ere(n,a)}while(!0);gH(),c2.current=s,Un=r,gr!==null?e=0:(qr=null,vs=0,e=Pr)}if(e!==0){if(e===2&&(r=mO(n),r!==0&&(i=r,e=VO(n,r))),e===1)throw t=Bw,_g(n,0),lf(n,i),No(n,rr()),t;if(e===6)lf(n,i);else{if(r=n.current.alternate,!(i&30)&&!mRe(r)&&(e=d2(n,i),e===2&&(s=mO(n),s!==0&&(i=s,e=VO(n,s))),e===1))throw t=Bw,_g(n,0),lf(n,i),No(n,rr()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(_t(345));case 2:Bm(n,To,ah);break;case 3:if(lf(n,i),(i&130023424)===i&&(e=BH+500-rr(),10<e)){if(KR(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){po(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=wO(Bm.bind(null,n,To,ah),e);break}Bm(n,To,ah);break;case 4:if(lf(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ic(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=rr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*pRe(i/1960))-i,10<i){n.timeoutHandle=wO(Bm.bind(null,n,To,ah),i);break}Bm(n,To,ah);break;case 5:Bm(n,To,ah);break;default:throw Error(_t(329))}}}return No(n,rr()),n.callbackNode===t?Zie.bind(null,n):null}function VO(n,e){var t=xS;return n.current.memoizedState.isDehydrated&&(_g(n,e).flags|=256),n=d2(n,e),n!==2&&(e=To,To=t,e!==null&&jO(e)),n}function jO(n){To===null?To=n:To.push.apply(To,n)}function mRe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!uc(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lf(n,e){for(e&=~PH,e&=~$P,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ic(e),i=1<<t;n[t]=-1,e&=~i}}function NW(n){if(Un&6)throw Error(_t(327));mx();var e=KR(n,0);if(!(e&1))return No(n,rr()),null;var t=d2(n,e);if(n.tag!==0&&t===2){var i=mO(n);i!==0&&(e=i,t=VO(n,i))}if(t===1)throw t=Bw,_g(n,0),lf(n,e),No(n,rr()),t;if(t===6)throw Error(_t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Bm(n,To,ah),No(n,rr()),null}function IH(n,e){var t=Un;Un|=1;try{return n(e)}finally{Un=t,Un===0&&(Xx=rr()+500,KP&&lp())}}function Yg(n){ff!==null&&ff.tag===0&&!(Un&6)&&mx();var e=Un;Un|=1;var t=xl.transition,i=$n;try{if(xl.transition=null,$n=1,n)return n()}finally{$n=i,xl.transition=t,Un=e,!(Un&6)&&lp()}}function LH(){na=Vy.current,Si(Vy)}function _g(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,WTe(t)),gr!==null)for(t=gr.return;t!==null;){var i=t;switch(fH(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ZR();break;case 3:jx(),Si(Do),Si(Js),SH();break;case 5:AH(i);break;case 4:jx();break;case 13:Si(Bi);break;case 19:Si(Bi);break;case 10:vH(i.type._context);break;case 22:case 23:LH()}t=t.return}if(qr=n,gr=n=If(n.current,null),vs=na=e,Pr=0,Bw=null,PH=$P=Kg=0,To=xS=null,Zm!==null){for(e=0;e<Zm.length;e++)if(t=Zm[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Zm=null}return n}function ere(n,e){do{var t=gr;try{if(gH(),FT.current=l2,a2){for(var i=Oi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}a2=!1}if(Jg=0,Kr=Cr=Oi=null,vS=!1,Tw=0,RH.current=null,t===null||t.return===null){Pr=1,Bw=e,gr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=vs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=wW(o);if(m!==null){m.flags&=-257,MW(m,o,a,s,e),m.mode&1&&SW(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){SW(s,c,e),DH();break e}l=Error(_t(426))}}else if(Ci&&a.mode&1){var y=wW(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),MW(y,o,a,s,e),pH(Wx(l,a));break e}}s=l=Wx(l,a),Pr!==4&&(Pr=2),xS===null?xS=[s]:xS.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Oie(s,l,e);gW(s,g);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pf===null||!Pf.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Uie(s,a,e);gW(s,b);break e}}s=s.return}while(s!==null)}ire(t)}catch(P){e=P,gr===t&&t!==null&&(gr=t=t.return);continue}break}while(!0)}function tre(){var n=c2.current;return c2.current=l2,n===null?l2:n}function DH(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),qr===null||!(Kg&268435455)&&!($P&268435455)||lf(qr,vs)}function d2(n,e){var t=Un;Un|=2;var i=tre();(qr!==n||vs!==e)&&(ah=null,_g(n,e));do try{gRe();break}catch(r){ere(n,r)}while(!0);if(gH(),Un=t,c2.current=i,gr!==null)throw Error(_t(261));return qr=null,vs=0,Pr}function gRe(){for(;gr!==null;)nre(gr)}function vRe(){for(;gr!==null&&!GCe();)nre(gr)}function nre(n){var e=sre(n.alternate,n,na);n.memoizedProps=n.pendingProps,e===null?ire(n):gr=e,RH.current=null}function ire(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=uRe(t,e),t!==null){t.flags&=32767,gr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pr=6,gr=null;return}}else if(t=cRe(t,e,na),t!==null){gr=t;return}if(e=e.sibling,e!==null){gr=e;return}gr=e=n}while(e!==null);Pr===0&&(Pr=5)}function Bm(n,e,t){var i=$n,r=xl.transition;try{xl.transition=null,$n=1,yRe(n,e,t,i)}finally{xl.transition=r,$n=i}return null}function yRe(n,e,t,i){do mx();while(ff!==null);if(Un&6)throw Error(_t(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(_t(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if($Ce(n,s),n===qr&&(gr=qr=null,vs=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tC||(tC=!0,ore(JR,function(){return mx(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=xl.transition,xl.transition=null;var o=$n;$n=1;var a=Un;Un|=4,RH.current=null,dRe(n,t),qie(t,n),UTe(AO),YR=!!_O,AO=_O=null,n.current=t,fRe(t),VCe(),Un=a,$n=o,xl.transition=s}else n.current=t;if(tC&&(tC=!1,ff=n,h2=r),s=n.pendingLanes,s===0&&(Pf=null),XCe(t.stateNode),No(n,rr()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(u2)throw u2=!1,n=HO,HO=null,n;return h2&1&&n.tag!==0&&mx(),s=n.pendingLanes,s&1?n===GO?_S++:(_S=0,GO=n):_S=0,lp(),null}function mx(){if(ff!==null){var n=One(h2),e=xl.transition,t=$n;try{if(xl.transition=null,$n=16>n?16:n,ff===null)var i=!1;else{if(n=ff,ff=null,h2=0,Un&6)throw Error(_t(331));var r=Un;for(Un|=4,Ft=n.current;Ft!==null;){var s=Ft,o=s.child;if(Ft.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ft=c;Ft!==null;){var h=Ft;switch(h.tag){case 0:case 11:case 15:yS(8,h,s)}var d=h.child;if(d!==null)d.return=h,Ft=d;else for(;Ft!==null;){h=Ft;var p=h.sibling,m=h.return;if(Kie(h),h===c){Ft=null;break}if(p!==null){p.return=m,Ft=p;break}Ft=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Ft=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ft=o;else e:for(;Ft!==null;){if(s=Ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yS(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ft=g;break e}Ft=s.return}}var S=n.current;for(Ft=S;Ft!==null;){o=Ft;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ft=w;else e:for(o=S;Ft!==null;){if(a=Ft,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qP(9,a)}}catch(P){Wi(a,a.return,P)}if(a===o){Ft=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Ft=b;break e}Ft=a.return}}if(Un=r,lp(),iu&&typeof iu.onPostCommitFiberRoot=="function")try{iu.onPostCommitFiberRoot(VP,n)}catch{}i=!0}return i}finally{$n=t,xl.transition=e}}return!1}function OW(n,e,t){e=Wx(t,e),e=Oie(n,e,1),n=Rf(n,e,1),e=po(),n!==null&&(PM(n,1,e),No(n,e))}function Wi(n,e,t){if(n.tag===3)OW(n,n,t);else for(;e!==null;){if(e.tag===3){OW(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pf===null||!Pf.has(i))){n=Wx(t,n),n=Uie(e,n,1),e=Rf(e,n,1),n=po(),e!==null&&(PM(e,1,n),No(e,n));break}}e=e.return}}function xRe(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=po(),n.pingedLanes|=n.suspendedLanes&t,qr===n&&(vs&t)===t&&(Pr===4||Pr===3&&(vs&130023424)===vs&&500>rr()-BH?_g(n,0):PH|=t),No(n,e)}function rre(n,e){e===0&&(n.mode&1?(e=WE,WE<<=1,!(WE&130023424)&&(WE=4194304)):e=1);var t=po();n=Qh(n,e),n!==null&&(PM(n,e,t),No(n,t))}function _Re(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),rre(n,t)}function ARe(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(_t(314))}i!==null&&i.delete(e),rre(n,t)}var sre;sre=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Do.current)Po=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Po=!1,lRe(n,e,t);Po=!!(n.flags&131072)}else Po=!1,Ci&&e.flags&1048576&&cie(e,n2,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;OT(n,e),n=e.pendingProps;var r=Hx(e,Js.current);px(e,t),r=MH(null,e,i,n,r,t);var s=bH();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fo(i)?(s=!0,e2(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,xH(e),r.updater=QP,e.stateNode=r,r._reactInternals=e,PO(e,i,n,t),e=LO(null,e,i,!0,s,t)):(e.tag=0,Ci&&s&&dH(e),oo(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(OT(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=wRe(i),n=Xl(i,n),r){case 0:e=IO(null,e,i,n,t);break e;case 1:e=CW(null,e,i,n,t);break e;case 11:e=bW(null,e,i,n,t);break e;case 14:e=EW(null,e,i,Xl(i.type,n),t);break e}throw Error(_t(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xl(i,r),IO(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xl(i,r),CW(n,e,i,r,t);case 3:e:{if(Gie(e),n===null)throw Error(_t(387));i=e.pendingProps,s=e.memoizedState,r=s.element,mie(n,e),s2(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Wx(Error(_t(423)),e),e=TW(n,e,i,t,r);break e}else if(i!==r){r=Wx(Error(_t(424)),e),e=TW(n,e,i,t,r);break e}else for(ua=Tf(e.stateNode.containerInfo.firstChild),va=e,Ci=!0,$l=null,t=fie(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Gx(),i===r){e=qh(n,e,t);break e}oo(n,e,i,t)}e=e.child}return e;case 5:return gie(e),n===null&&CO(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,SO(i,r)?o=null:s!==null&&SO(i,s)&&(e.flags|=32),Hie(n,e),oo(n,e,o,t),e.child;case 6:return n===null&&CO(e),null;case 13:return Vie(n,e,t);case 4:return _H(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Vx(e,null,i,t):oo(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xl(i,r),bW(n,e,i,r,t);case 7:return oo(n,e,e.pendingProps,t),e.child;case 8:return oo(n,e,e.pendingProps.children,t),e.child;case 12:return oo(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ui(i2,i._currentValue),i._currentValue=o,s!==null)if(uc(s.value,o)){if(s.children===r.children&&!Do.current){e=qh(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Dh(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),TO(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_t(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),TO(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}oo(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,px(e,t),r=Sl(r),i=i(r),e.flags|=1,oo(n,e,i,t),e.child;case 14:return i=e.type,r=Xl(i,e.pendingProps),r=Xl(i.type,r),EW(n,e,i,r,t);case 15:return kie(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xl(i,r),OT(n,e),e.tag=1,Fo(i)?(n=!0,e2(e)):n=!1,px(e,t),Nie(e,i,r),PO(e,i,r,t),LO(null,e,i,!0,n,t);case 19:return jie(n,e,t);case 22:return zie(n,e,t)}throw Error(_t(156,e.tag))};function ore(n,e){return Lne(n,e)}function SRe(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ml(n,e,t,i){return new SRe(n,e,t,i)}function FH(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wRe(n){if(typeof n=="function")return FH(n)?1:0;if(n!=null){if(n=n.$$typeof,n===eH)return 11;if(n===tH)return 14}return 2}function If(n,e){var t=n.alternate;return t===null?(t=ml(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function zT(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")FH(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ly:return Ag(t.children,r,s,e);case Zz:o=8,r|=8;break;case eO:return n=ml(12,t,e,r|2),n.elementType=eO,n.lanes=s,n;case tO:return n=ml(13,t,e,r),n.elementType=tO,n.lanes=s,n;case nO:return n=ml(19,t,e,r),n.elementType=nO,n.lanes=s,n;case gne:return ZP(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pne:o=10;break e;case mne:o=9;break e;case eH:o=11;break e;case tH:o=14;break e;case ef:o=16,i=null;break e}throw Error(_t(130,n==null?n:typeof n,""))}return e=ml(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ag(n,e,t,i){return n=ml(7,n,i,e),n.lanes=t,n}function ZP(n,e,t,i){return n=ml(22,n,i,e),n.elementType=gne,n.lanes=t,n.stateNode={isHidden:!1},n}function AD(n,e,t){return n=ml(6,n,null,e),n.lanes=t,n}function SD(n,e,t){return e=ml(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function MRe(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nD(0),this.expirationTimes=nD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nD(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function NH(n,e,t,i,r,s,o,a,l){return n=new MRe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ml(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},xH(s),n}function bRe(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Iy,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function are(n){if(!n)return Wf;n=n._reactInternals;e:{if(p0(n)!==n||n.tag!==1)throw Error(_t(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_t(171))}if(n.tag===1){var t=n.type;if(Fo(t))return aie(n,t,e)}return e}function lre(n,e,t,i,r,s,o,a,l){return n=NH(t,i,!0,n,r,s,o,a,l),n.context=are(null),t=n.current,i=po(),r=Bf(t),s=Dh(i,r),s.callback=e??null,Rf(t,s,r),n.current.lanes=r,PM(n,r,i),No(n,i),n}function eB(n,e,t,i){var r=e.current,s=po(),o=Bf(r);return t=are(t),e.context===null?e.context=t:e.pendingContext=t,e=Dh(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Rf(r,e,o),n!==null&&(rc(n,r,o,s),DT(n,r,o)),o}function f2(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function UW(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function OH(n,e){UW(n,e),(n=n.alternate)&&UW(n,e)}function ERe(){return null}var cre=typeof reportError=="function"?reportError:function(n){console.error(n)};function UH(n){this._internalRoot=n}tB.prototype.render=UH.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(_t(409));eB(n,e,null,null)};tB.prototype.unmount=UH.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Yg(function(){eB(null,n,null,null)}),e[Yh]=null}};function tB(n){this._internalRoot=n}tB.prototype.unstable_scheduleHydration=function(n){if(n){var e=zne();n={blockedOn:null,target:n,priority:e};for(var t=0;t<af.length&&e!==0&&e<af[t].priority;t++);af.splice(t,0,n),t===0&&Gne(n)}};function kH(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function nB(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function kW(){}function CRe(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=f2(o);s.call(c)}}var o=lre(e,i,n,0,null,!1,!1,"",kW);return n._reactRootContainer=o,n[Yh]=o.current,ww(n.nodeType===8?n.parentNode:n),Yg(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=f2(l);a.call(c)}}var l=NH(n,0,!1,null,null,!1,!1,"",kW);return n._reactRootContainer=l,n[Yh]=l.current,ww(n.nodeType===8?n.parentNode:n),Yg(function(){eB(e,l,t,i)}),l}function iB(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=f2(o);a.call(l)}}eB(e,o,n,r)}else o=CRe(t,e,n,r,i);return f2(o)}Une=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=jA(e.pendingLanes);t!==0&&(rH(e,t|1),No(e,rr()),!(Un&6)&&(Xx=rr()+500,lp()))}break;case 13:Yg(function(){var i=Qh(n,1);if(i!==null){var r=po();rc(i,n,1,r)}}),OH(n,1)}};sH=function(n){if(n.tag===13){var e=Qh(n,134217728);if(e!==null){var t=po();rc(e,n,134217728,t)}OH(n,134217728)}};kne=function(n){if(n.tag===13){var e=Bf(n),t=Qh(n,e);if(t!==null){var i=po();rc(t,n,e,i)}OH(n,e)}};zne=function(){return $n};Hne=function(n,e){var t=$n;try{return $n=n,e()}finally{$n=t}};dO=function(n,e,t){switch(e){case"input":if(sO(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=JP(i);if(!r)throw Error(_t(90));yne(i),sO(i,r)}}}break;case"textarea":_ne(n,t);break;case"select":e=t.value,e!=null&&ux(n,!!t.multiple,e,!1)}};Cne=IH;Tne=Yg;var TRe={usingClientEntryPoint:!1,Events:[IM,Oy,JP,bne,Ene,IH]},pA={findFiberByHostInstance:$m,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RRe={bundleType:pA.bundleType,version:pA.version,rendererPackageName:pA.rendererPackageName,rendererConfig:pA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rd.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bne(n),n===null?null:n.stateNode},findFiberByHostInstance:pA.findFiberByHostInstance||ERe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nC.isDisabled&&nC.supportsFiber)try{VP=nC.inject(RRe),iu=nC}catch{}}Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TRe;Ba.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kH(e))throw Error(_t(200));return bRe(n,e,null,t)};Ba.createRoot=function(n,e){if(!kH(n))throw Error(_t(299));var t=!1,i="",r=cre;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=NH(n,1,!1,null,null,t,!1,i,r),n[Yh]=e.current,ww(n.nodeType===8?n.parentNode:n),new UH(e)};Ba.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(_t(188)):(n=Object.keys(n).join(","),Error(_t(268,n)));return n=Bne(e),n=n===null?null:n.stateNode,n};Ba.flushSync=function(n){return Yg(n)};Ba.hydrate=function(n,e,t){if(!nB(e))throw Error(_t(200));return iB(null,n,e,!0,t)};Ba.hydrateRoot=function(n,e,t){if(!kH(n))throw Error(_t(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=cre;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=lre(e,null,n,1,t??null,r,!1,s,o),n[Yh]=e.current,ww(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new tB(e)};Ba.render=function(n,e,t){if(!nB(e))throw Error(_t(200));return iB(null,n,e,!1,t)};Ba.unmountComponentAtNode=function(n){if(!nB(n))throw Error(_t(40));return n._reactRootContainer?(Yg(function(){iB(null,null,n,!1,function(){n._reactRootContainer=null,n[Yh]=null})}),!0):!1};Ba.unstable_batchedUpdates=IH;Ba.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!nB(t))throw Error(_t(200));if(n==null||n._reactInternals===void 0)throw Error(_t(38));return iB(n,e,t,!1,i)};Ba.version="18.3.1-next-f1338f8080-20240426";function ure(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ure)}catch(n){console.error(n)}}ure(),une.exports=Ba;var PRe=une.exports,hre,zW=PRe;hre=$N.createRoot=zW.createRoot,$N.hydrateRoot=zW.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iw(){return Iw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Iw.apply(this,arguments)}var tg;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(tg||(tg={}));const HW="popstate";function BRe(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return WO("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:p2(r)}return LRe(e,t,null,n)}function sc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function IRe(){return Math.random().toString(36).substr(2,8)}function GW(n,e){return{usr:n.state,key:n.key,idx:e}}function WO(n,e,t,i){return t===void 0&&(t=null),Iw({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?rB(e):e,{state:t,key:e&&e.key||i||IRe()})}function p2(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function rB(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function LRe(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=tg.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Iw({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=tg.Pop;let y=h(),g=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:g})}function p(y,g){a=tg.Push;let S=WO(x.location,y,g);c=h()+1;let w=GW(S,c),b=x.createHref(S);try{o.pushState(w,"",b)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(b)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,g){a=tg.Replace;let S=WO(x.location,y,g);c=h();let w=GW(S,c),b=x.createHref(S);o.replaceState(w,"",b),s&&l&&l({action:a,location:x.location,delta:0})}function v(y){let g=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof y=="string"?y:p2(y);return S=S.replace(/ $/,"%20"),sc(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let x={get action(){return a},get location(){return n(r,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(HW,d),l=y,()=>{r.removeEventListener(HW,d),l=null}},createHref(y){return e(r,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return o.go(y)}};return x}var VW;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(VW||(VW={}));function dre(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function DRe(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?rB(n):n;return{pathname:t?t.startsWith("/")?t:FRe(t,e):e,search:ORe(i),hash:URe(r)}}function FRe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function wD(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NRe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fre(n,e){let t=NRe(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function pre(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=rB(n):(r=Iw({},n),sc(!r.pathname||!r.pathname.includes("?"),wD("?","pathname","search",r)),sc(!r.pathname||!r.pathname.includes("#"),wD("#","pathname","hash",r)),sc(!r.search||!r.search.includes("#"),wD("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=DRe(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const mre=n=>n.join("/").replace(/\/\/+/g,"/"),ORe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,URe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,gre=["post","put","patch","delete"];new Set(gre);const kRe=["get",...gre];new Set(kRe);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m2(){return m2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},m2.apply(this,arguments)}const vre=he.createContext(null),S1=he.createContext(null),zH=he.createContext(null),sB=he.createContext({outlet:null,matches:[],isDataRoute:!1});function zRe(n,e){let{relative:t}=e===void 0?{}:e;oB()||sc(!1);let{basename:i,navigator:r}=he.useContext(S1),{hash:s,pathname:o,search:a}=xre(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:mre([i,o])),r.createHref({pathname:l,search:a,hash:s})}function oB(){return he.useContext(zH)!=null}function HH(){return oB()||sc(!1),he.useContext(zH).location}function yre(n){he.useContext(S1).static||he.useLayoutEffect(n)}function HRe(){let{isDataRoute:n}=he.useContext(sB);return n?XRe():GRe()}function GRe(){oB()||sc(!1);let n=he.useContext(vre),{basename:e,future:t,navigator:i}=he.useContext(S1),{matches:r}=he.useContext(sB),{pathname:s}=HH(),o=JSON.stringify(fre(r,t.v7_relativeSplatPath)),a=he.useRef(!1);return yre(()=>{a.current=!0}),he.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=pre(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mre([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,n])}function xre(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=he.useContext(S1),{matches:r}=he.useContext(sB),{pathname:s}=HH(),o=JSON.stringify(fre(r,i.v7_relativeSplatPath));return he.useMemo(()=>pre(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}var _re=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_re||{}),Are=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Are||{});function VRe(n){let e=he.useContext(vre);return e||sc(!1),e}function jRe(n){let e=he.useContext(sB);return e||sc(!1),e}function WRe(n){let e=jRe(),t=e.matches[e.matches.length-1];return t.route.id||sc(!1),t.route.id}function XRe(){let{router:n}=VRe(_re.UseNavigateStable),e=WRe(Are.UseNavigateStable),t=he.useRef(!1);return yre(()=>{t.current=!0}),he.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,m2({fromRouteId:e},s)))},[n,e])}function JRe(n){let{basename:e="/",children:t=null,location:i,navigationType:r=tg.Pop,navigator:s,static:o=!1,future:a}=n;oB()&&sc(!1);let l=e.replace(/^\/*/,"/"),c=he.useMemo(()=>({basename:l,navigator:s,static:o,future:m2({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=rB(i));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:v="default"}=i,x=he.useMemo(()=>{let y=dre(h,l);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:v},navigationType:r}},[l,h,d,p,m,v,r]);return x==null?null:he.createElement(S1.Provider,{value:c},he.createElement(zH.Provider,{children:t,value:x}))}new Promise(()=>{});/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XO(){return XO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XO.apply(this,arguments)}function KRe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function YRe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QRe(n,e){return n.button===0&&(!e||e==="_self")&&!YRe(n)}const qRe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$Re="6";try{window.__reactRouterVersion=$Re}catch{}const ZRe="startTransition",jW=xCe[ZRe];function e2e(n){let{basename:e,children:t,future:i,window:r}=n,s=he.useRef();s.current==null&&(s.current=BRe({window:r,v5Compat:!0}));let o=s.current,[a,l]=he.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=he.useCallback(d=>{c&&jW?jW(()=>l(d)):l(d)},[l,c]);return he.useLayoutEffect(()=>o.listen(h),[o,h]),he.createElement(JRe,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const t2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n2e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i2e=he.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,p=KRe(e,qRe),{basename:m}=he.useContext(S1),v,x=!1;if(typeof c=="string"&&n2e.test(c)&&(v=c,t2e))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=dre(b.pathname,m);b.origin===w.origin&&P!=null?c=P+b.search+b.hash:x=!0}catch{}let y=zRe(c,{relative:r}),g=r2e(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function S(w){i&&i(w),w.defaultPrevented||g(w)}return he.createElement("a",XO({},p,{href:v||y,onClick:x||s?i:S,ref:t,target:l}))});var WW;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(WW||(WW={}));var XW;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(XW||(XW={}));function r2e(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=HRe(),c=HH(),h=xre(n,{relative:o});return he.useCallback(d=>{if(QRe(d,t)){d.preventDefault();let p=i!==void 0?i:p2(c)===p2(h);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,i,r,t,n,s,o,a])}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const w1="165",Im={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Sre=0,JO=1,wre=2,s2e=3,Mre=0,aB=1,AS=2,Jl=3,fu=0,mo=1,hl=2,Fh=0,Sg=1,KO=2,YO=3,QO=4,bre=5,cf=100,Ere=101,Cre=102,Tre=103,Rre=104,Pre=200,Bre=201,Ire=202,Lre=203,g2=204,v2=205,Dre=206,Fre=207,Nre=208,Ore=209,Ure=210,kre=211,zre=212,Hre=213,Gre=214,Vre=0,jre=1,Wre=2,Lw=3,Xre=4,Jre=5,Kre=6,Yre=7,DM=0,Qre=1,qre=2,su=0,$re=1,Zre=2,ese=3,GH=4,tse=5,nse=6,ise=7,qO="attached",rse="detached",lB=300,$h=301,Xf=302,Dw=303,Fw=304,M1=306,Jf=1e3,ha=1001,Jx=1002,Br=1003,cB=1004,o2e=1004,ng=1005,a2e=1005,Yi=1006,gx=1007,l2e=1007,gl=1008,c2e=1008,pu=1009,sse=1010,ose=1011,Nw=1012,VH=1013,Qg=1014,da=1015,FM=1016,jH=1017,WH=1018,qg=1020,ase=35902,lse=1021,cse=1022,uo=1023,use=1024,hse=1025,wg=1026,$g=1027,XH=1028,JH=1029,dse=1030,KH=1031,YH=1033,HT=33776,GT=33777,VT=33778,jT=33779,$O=35840,ZO=35841,eU=35842,tU=35843,nU=36196,iU=37492,rU=37496,sU=37808,oU=37809,aU=37810,lU=37811,cU=37812,uU=37813,hU=37814,dU=37815,fU=37816,pU=37817,mU=37818,gU=37819,vU=37820,yU=37821,WT=36492,xU=36494,_U=36495,fse=36283,AU=36284,SU=36285,wU=36286,pse=2200,mse=2201,gse=2202,Kx=2300,Yx=2301,XT=2302,ig=2400,rg=2401,Ow=2402,uB=2500,QH=2501,vse=0,qH=1,y2=2,yse=3200,xse=3201,cp=0,_se=1,mh="",sl="srgb",sd="srgb-linear",hB="display-p3",NM="display-p3-linear",Uw="linear",li="srgb",kw="rec709",zw="p3",u2e=0,Dm=7680,h2e=7681,d2e=7682,f2e=7683,p2e=34055,m2e=34056,g2e=5386,v2e=512,y2e=513,x2e=514,_2e=515,A2e=516,S2e=517,w2e=518,MU=519,Ase=512,Sse=513,wse=514,$H=515,Mse=516,bse=517,Ese=518,Cse=519,Hw=35044,Mg=35048,M2e=35040,b2e=35045,E2e=35049,C2e=35041,T2e=35046,R2e=35050,P2e=35042,B2e="100",bU="300 es",qc=2e3,Gw=2001;class xu{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Bs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JW=1234567;const bg=Math.PI/180,Qx=180/Math.PI;function ya(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Bs[n&255]+Bs[n>>8&255]+Bs[n>>16&255]+Bs[n>>24&255]+"-"+Bs[e&255]+Bs[e>>8&255]+"-"+Bs[e>>16&15|64]+Bs[e>>24&255]+"-"+Bs[t&63|128]+Bs[t>>8&255]+"-"+Bs[t>>16&255]+Bs[t>>24&255]+Bs[i&255]+Bs[i>>8&255]+Bs[i>>16&255]+Bs[i>>24&255]).toLowerCase()}function Ji(n,e,t){return Math.max(e,Math.min(t,n))}function ZH(n,e){return(n%e+e)%e}function I2e(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function L2e(n,e,t){return n!==e?(t-n)/(e-n):0}function SS(n,e,t){return(1-t)*n+t*e}function D2e(n,e,t,i){return SS(n,e,1-Math.exp(-t*i))}function F2e(n,e=1){return e-Math.abs(ZH(n,e*2)-e)}function N2e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function O2e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function U2e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function k2e(n,e){return n+Math.random()*(e-n)}function z2e(n){return n*(.5-Math.random())}function H2e(n){n!==void 0&&(JW=n);let e=JW+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function G2e(n){return n*bg}function V2e(n){return n*Qx}function j2e(n){return(n&n-1)===0&&n!==0}function W2e(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function X2e(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function J2e(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*h,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*h,a*c);break;case"XZX":n.set(a*h,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*h,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function lo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function dn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const eG={DEG2RAD:bg,RAD2DEG:Qx,generateUUID:ya,clamp:Ji,euclideanModulo:ZH,mapLinear:I2e,inverseLerp:L2e,lerp:SS,damp:D2e,pingpong:F2e,smoothstep:N2e,smootherstep:O2e,randInt:U2e,randFloat:k2e,randFloatSpread:z2e,seededRandom:H2e,degToRad:G2e,radToDeg:V2e,isPowerOfTwo:j2e,ceilPowerOfTwo:W2e,floorPowerOfTwo:X2e,setQuaternionFromProperEuler:J2e,normalize:dn,denormalize:lo};class nt{constructor(e=0,t=0){nt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ji(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class un{constructor(e,t,i,r,s,o,a,l,c){un.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],h=i[4],d=i[7],p=i[2],m=i[5],v=i[8],x=r[0],y=r[3],g=r[6],S=r[1],w=r[4],b=r[7],P=r[2],T=r[5],B=r[8];return s[0]=o*x+a*S+l*P,s[3]=o*y+a*w+l*T,s[6]=o*g+a*b+l*B,s[1]=c*x+h*S+d*P,s[4]=c*y+h*w+d*T,s[7]=c*g+h*b+d*B,s[2]=p*x+m*S+v*P,s[5]=p*y+m*w+v*T,s[8]=p*g+m*b+v*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-i*s*h+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=h*o-a*c,p=a*l-h*s,m=c*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(r*c-h*i)*x,e[2]=(a*i-r*o)*x,e[3]=p*x,e[4]=(h*t-r*l)*x,e[5]=(r*s-a*t)*x,e[6]=m*x,e[7]=(i*l-c*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(MD.makeScale(e,t)),this}rotate(e){return this.premultiply(MD.makeRotation(-e)),this}translate(e,t){return this.premultiply(MD.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const MD=new un;function Tse(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const K2e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function jy(n,e){return new K2e[n](e)}function Vw(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Rse(){const n=Vw("canvas");return n.style.display="block",n}const KW={};function tG(n){n in KW||(KW[n]=!0,console.warn(n))}function Y2e(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}const YW=new un().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),QW=new un().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),iC={[sd]:{transfer:Uw,primaries:kw,toReference:n=>n,fromReference:n=>n},[sl]:{transfer:li,primaries:kw,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[NM]:{transfer:Uw,primaries:zw,toReference:n=>n.applyMatrix3(QW),fromReference:n=>n.applyMatrix3(YW)},[hB]:{transfer:li,primaries:zw,toReference:n=>n.convertSRGBToLinear().applyMatrix3(QW),fromReference:n=>n.applyMatrix3(YW).convertLinearToSRGB()}},Q2e=new Set([sd,NM]),Gn={enabled:!0,_workingColorSpace:sd,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Q2e.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=iC[e].toReference,r=iC[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return iC[n].primaries},getTransfer:function(n){return n===mh?Uw:iC[n].transfer}};function vx(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function bD(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Ov;class Pse{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ov===void 0&&(Ov=Vw("canvas")),Ov.width=e.width,Ov.height=e.height;const i=Ov.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Ov}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Vw("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=vx(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(vx(t[i]/255)*255):t[i]=vx(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let q2e=0;class sg{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:q2e++}),this.uuid=ya(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(ED(r[o].image)):s.push(ED(r[o]))}else s=ED(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ED(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Pse.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $2e=0;class si extends xu{constructor(e=si.DEFAULT_IMAGE,t=si.DEFAULT_MAPPING,i=ha,r=ha,s=Yi,o=gl,a=uo,l=pu,c=si.DEFAULT_ANISOTROPY,h=mh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$2e++}),this.uuid=ya(),this.name="",this.source=new sg(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new un,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==lB)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jf:e.x=e.x-Math.floor(e.x);break;case ha:e.x=e.x<0?0:1;break;case Jx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Jf:e.y=e.y-Math.floor(e.y);break;case ha:e.y=e.y<0?0:1;break;case Jx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}si.DEFAULT_IMAGE=null;si.DEFAULT_MAPPING=lB;si.DEFAULT_ANISOTROPY=1;class Qn{constructor(e=0,t=0,i=0,r=1){Qn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],h=l[4],d=l[8],p=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,b=(m+1)/2,P=(g+1)/2,T=(h+p)/4,B=(d+x)/4,I=(v+y)/4;return w>b&&w>P?w<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(w),r=T/i,s=B/i):b>P?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=T/r,s=I/r):P<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(P),i=B/s,r=I/s),this.set(i,r,s,t),this}let S=Math.sqrt((y-v)*(y-v)+(d-x)*(d-x)+(p-h)*(p-h));return Math.abs(S)<.001&&(S=1),this.x=(y-v)/S,this.y=(d-x)/S,this.z=(p-h)/S,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bse extends xu{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Qn(0,0,e,t),this.scissorTest=!1,this.viewport=new Qn(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Yi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new si(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new sg(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hc extends Bse{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class dB extends si{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Br,this.minFilter=Br,this.wrapR=ha,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Z2e extends hc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new dB(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class nG extends si{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Br,this.minFilter=Br,this.wrapR=ha,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ePe extends hc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new nG(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class $r{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=x;return}if(d!==x||l!==p||c!==m||h!==v){let y=1-a;const g=l*p+c*m+h*v+d*x,S=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const P=Math.sqrt(w),T=Math.atan2(P,g*S);y=Math.sin(y*T)/P,a=Math.sin(a*T)/P}const b=a*S;if(l=l*y+p*b,c=c*y+m*b,h=h*y+v*b,d=d*y+x*b,y===1-a){const P=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=P,c*=P,h*=P,d*=P}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*d+l*m-c*p,e[t+1]=l*v+h*p+c*d-a*m,e[t+2]=c*v+h*m+a*p-l*d,e[t+3]=h*v-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"YXZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"ZXY":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"ZYX":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"YZX":this._x=p*h*d+c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d-p*m*v;break;case"XZY":this._x=p*h*d-c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ji(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,h=t._w;return this._x=i*h+o*a+r*c-s*l,this._y=r*h+o*l+s*a-i*c,this._z=s*h+o*c+i*l-r*a,this._w=o*h-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),d=Math.sin((1-t)*h)/c,p=Math.sin(t*h)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,t=0,i=0){le.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(qW.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(qW.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),h=2*(a*t-s*r),d=2*(s*i-o*t);return this.x=t+l*c+o*d-a*h,this.y=i+l*h+a*c-s*d,this.z=r+l*d+s*h-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return CD.copy(this).projectOnVector(e),this.sub(CD)}reflect(e){return this.sub(CD.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ji(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const CD=new le,qW=new $r;class js{constructor(e=new le(1/0,1/0,1/0),t=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Hl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Hl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Hl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Hl):Hl.fromBufferAttribute(s,o),Hl.applyMatrix4(e.matrixWorld),this.expandByPoint(Hl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),rC.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),rC.copy(i.boundingBox)),rC.applyMatrix4(e.matrixWorld),this.union(rC)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Hl),Hl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(mA),sC.subVectors(this.max,mA),Uv.subVectors(e.a,mA),kv.subVectors(e.b,mA),zv.subVectors(e.c,mA),Ud.subVectors(kv,Uv),kd.subVectors(zv,kv),am.subVectors(Uv,zv);let t=[0,-Ud.z,Ud.y,0,-kd.z,kd.y,0,-am.z,am.y,Ud.z,0,-Ud.x,kd.z,0,-kd.x,am.z,0,-am.x,-Ud.y,Ud.x,0,-kd.y,kd.x,0,-am.y,am.x,0];return!TD(t,Uv,kv,zv,sC)||(t=[1,0,0,0,1,0,0,0,1],!TD(t,Uv,kv,zv,sC))?!1:(oC.crossVectors(Ud,kd),t=[oC.x,oC.y,oC.z],TD(t,Uv,kv,zv,sC))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Hl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Hl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Zu=[new le,new le,new le,new le,new le,new le,new le,new le],Hl=new le,rC=new js,Uv=new le,kv=new le,zv=new le,Ud=new le,kd=new le,am=new le,mA=new le,sC=new le,oC=new le,lm=new le;function TD(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){lm.fromArray(n,s);const a=r.x*Math.abs(lm.x)+r.y*Math.abs(lm.y)+r.z*Math.abs(lm.z),l=e.dot(lm),c=t.dot(lm),h=i.dot(lm);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const tPe=new js,gA=new le,RD=new le;class ys{constructor(e=new le,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):tPe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;gA.subVectors(e,this.center);const t=gA.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(gA,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(RD.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(gA.copy(e.center).add(RD)),this.expandByPoint(gA.copy(e.center).sub(RD))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const eh=new le,PD=new le,aC=new le,zd=new le,BD=new le,lC=new le,ID=new le;class m0{constructor(e=new le,t=new le(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,eh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=eh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(eh.copy(this.origin).addScaledVector(this.direction,t),eh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){PD.copy(e).add(t).multiplyScalar(.5),aC.copy(t).sub(e).normalize(),zd.copy(this.origin).sub(PD);const s=e.distanceTo(t)*.5,o=-this.direction.dot(aC),a=zd.dot(this.direction),l=-zd.dot(aC),c=zd.lengthSq(),h=Math.abs(1-o*o);let d,p,m,v;if(h>0)if(d=o*l-a,p=o*a-l,v=s*h,d>=0)if(p>=-v)if(p<=v){const x=1/h;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(PD).addScaledVector(aC,p),m}intersectSphere(e,t){eh.subVectors(e.center,this.origin);const i=eh.dot(this.direction),r=eh.dot(eh)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,eh)!==null}intersectTriangle(e,t,i,r,s){BD.subVectors(t,e),lC.subVectors(i,e),ID.crossVectors(BD,lC);let o=this.direction.dot(ID),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;zd.subVectors(this.origin,e);const l=a*this.direction.dot(lC.crossVectors(zd,lC));if(l<0)return null;const c=a*this.direction.dot(BD.cross(zd));if(c<0||l+c>o)return null;const h=-a*zd.dot(ID);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wt{constructor(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,y){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,y)}set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=h,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Hv.setFromMatrixColumn(e,0).length(),s=1/Hv.setFromMatrixColumn(e,1).length(),o=1/Hv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,v=a*h,x=a*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=p-x*c,t[9]=-a*l,t[2]=x-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,v=c*h,x=c*d;t[0]=p+x*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,v=c*h,x=c*d;t[0]=p-x*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=x-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,v=a*h,x=a*d;t[0]=l*h,t[4]=v*c-m,t[8]=p*c+x,t[1]=l*d,t[5]=x*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*h,t[4]=x-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=m*d+v,t[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=p*d+x,t[5]=o*h,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*h,t[10]=x*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nPe,e,iPe)}lookAt(e,t,i){const r=this.elements;return $o.subVectors(e,t),$o.lengthSq()===0&&($o.z=1),$o.normalize(),Hd.crossVectors(i,$o),Hd.lengthSq()===0&&(Math.abs(i.z)===1?$o.x+=1e-4:$o.z+=1e-4,$o.normalize(),Hd.crossVectors(i,$o)),Hd.normalize(),cC.crossVectors($o,Hd),r[0]=Hd.x,r[4]=cC.x,r[8]=$o.x,r[1]=Hd.y,r[5]=cC.y,r[9]=$o.y,r[2]=Hd.z,r[6]=cC.z,r[10]=$o.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],h=i[1],d=i[5],p=i[9],m=i[13],v=i[2],x=i[6],y=i[10],g=i[14],S=i[3],w=i[7],b=i[11],P=i[15],T=r[0],B=r[4],I=r[8],R=r[12],C=r[1],N=r[5],j=r[9],W=r[13],X=r[2],Q=r[6],Y=r[10],ie=r[14],D=r[3],z=r[7],H=r[11],ee=r[15];return s[0]=o*T+a*C+l*X+c*D,s[4]=o*B+a*N+l*Q+c*z,s[8]=o*I+a*j+l*Y+c*H,s[12]=o*R+a*W+l*ie+c*ee,s[1]=h*T+d*C+p*X+m*D,s[5]=h*B+d*N+p*Q+m*z,s[9]=h*I+d*j+p*Y+m*H,s[13]=h*R+d*W+p*ie+m*ee,s[2]=v*T+x*C+y*X+g*D,s[6]=v*B+x*N+y*Q+g*z,s[10]=v*I+x*j+y*Y+g*H,s[14]=v*R+x*W+y*ie+g*ee,s[3]=S*T+w*C+b*X+P*D,s[7]=S*B+w*N+b*Q+P*z,s[11]=S*I+w*j+b*Y+P*H,s[15]=S*R+w*W+b*ie+P*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],h=e[2],d=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+x*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*h-s*l*h)+y*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*h-i*c*h)+g*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],S=d*y*c-x*p*c+x*l*m-a*y*m-d*l*g+a*p*g,w=v*p*c-h*y*c-v*l*m+o*y*m+h*l*g-o*p*g,b=h*x*c-v*d*c+v*a*m-o*x*m-h*a*g+o*d*g,P=v*d*l-h*x*l-v*a*p+o*x*p+h*a*y-o*d*y,T=t*S+i*w+r*b+s*P;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/T;return e[0]=S*B,e[1]=(x*p*s-d*y*s-x*r*m+i*y*m+d*r*g-i*p*g)*B,e[2]=(a*y*s-x*l*s+x*r*c-i*y*c-a*r*g+i*l*g)*B,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*B,e[4]=w*B,e[5]=(h*y*s-v*p*s+v*r*m-t*y*m-h*r*g+t*p*g)*B,e[6]=(v*l*s-o*y*s-v*r*c+t*y*c+o*r*g-t*l*g)*B,e[7]=(o*p*s-h*l*s+h*r*c-t*p*c-o*r*m+t*l*m)*B,e[8]=b*B,e[9]=(v*d*s-h*x*s-v*i*m+t*x*m+h*i*g-t*d*g)*B,e[10]=(o*x*s-v*a*s+v*i*c-t*x*c-o*i*g+t*a*g)*B,e[11]=(h*a*s-o*d*s-h*i*c+t*d*c+o*i*m-t*a*m)*B,e[12]=P*B,e[13]=(h*x*r-v*d*r+v*i*p-t*x*p-h*i*y+t*d*y)*B,e[14]=(v*a*r-o*x*r-v*i*l+t*x*l+o*i*y-t*a*y)*B,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,h=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*o,0,c*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,h=o+o,d=a+a,p=s*c,m=s*h,v=s*d,x=o*h,y=o*d,g=a*d,S=l*c,w=l*h,b=l*d,P=i.x,T=i.y,B=i.z;return r[0]=(1-(x+g))*P,r[1]=(m+b)*P,r[2]=(v-w)*P,r[3]=0,r[4]=(m-b)*T,r[5]=(1-(p+g))*T,r[6]=(y+S)*T,r[7]=0,r[8]=(v+w)*B,r[9]=(y-S)*B,r[10]=(1-(p+x))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Hv.set(r[0],r[1],r[2]).length();const o=Hv.set(r[4],r[5],r[6]).length(),a=Hv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Gl.copy(this);const c=1/s,h=1/o,d=1/a;return Gl.elements[0]*=c,Gl.elements[1]*=c,Gl.elements[2]*=c,Gl.elements[4]*=h,Gl.elements[5]*=h,Gl.elements[6]*=h,Gl.elements[8]*=d,Gl.elements[9]*=d,Gl.elements[10]*=d,t.setFromRotationMatrix(Gl),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=qc){const l=this.elements,c=2*s/(t-e),h=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===qc)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Gw)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=qc){const l=this.elements,c=1/(t-e),h=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*h;let v,x;if(a===qc)v=(o+s)*d,x=-2*d;else if(a===Gw)v=s*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Hv=new le,Gl=new Wt,nPe=new le(0,0,0),iPe=new le(1,1,1),Hd=new le,cC=new le,$o=new le,$W=new Wt,ZW=new $r;class go{constructor(e=0,t=0,i=0,r=go.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Ji(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ji(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ji(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ji(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Ji(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Ji(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return $W.makeRotationFromQuaternion(e),this.setFromRotationMatrix($W,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ZW.setFromEuler(this),this.setFromQuaternion(ZW,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}go.DEFAULT_ORDER="XYZ";class Eg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rPe=0;const e7=new le,Gv=new $r,th=new Wt,uC=new le,vA=new le,sPe=new le,oPe=new $r,t7=new le(1,0,0),n7=new le(0,1,0),i7=new le(0,0,1),r7={type:"added"},aPe={type:"removed"},Vv={type:"childadded",child:null},LD={type:"childremoved",child:null};class Pn extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rPe++}),this.uuid=ya(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pn.DEFAULT_UP.clone();const e=new le,t=new go,i=new $r,r=new le(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Wt},normalMatrix:{value:new un}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=Pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Eg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Gv.setFromAxisAngle(e,t),this.quaternion.multiply(Gv),this}rotateOnWorldAxis(e,t){return Gv.setFromAxisAngle(e,t),this.quaternion.premultiply(Gv),this}rotateX(e){return this.rotateOnAxis(t7,e)}rotateY(e){return this.rotateOnAxis(n7,e)}rotateZ(e){return this.rotateOnAxis(i7,e)}translateOnAxis(e,t){return e7.copy(e).applyQuaternion(this.quaternion),this.position.add(e7.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(t7,e)}translateY(e){return this.translateOnAxis(n7,e)}translateZ(e){return this.translateOnAxis(i7,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(th.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?uC.copy(e):uC.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),vA.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?th.lookAt(vA,uC,this.up):th.lookAt(uC,vA,this.up),this.quaternion.setFromRotationMatrix(th),r&&(th.extractRotation(r.matrixWorld),Gv.setFromRotationMatrix(th),this.quaternion.premultiply(Gv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(r7),Vv.child=e,this.dispatchEvent(Vv),Vv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(aPe),LD.child=e,this.dispatchEvent(LD),LD.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),th.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),th.multiply(e.parent.matrixWorld)),e.applyMatrix4(th),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(r7),Vv.child=e,this.dispatchEvent(Vv),Vv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vA,e,sPe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vA,oPe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const h=a[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Pn.DEFAULT_UP=new le(0,1,0);Pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Vl=new le,nh=new le,DD=new le,ih=new le,jv=new le,Wv=new le,s7=new le,FD=new le,ND=new le,OD=new le;class sa{constructor(e=new le,t=new le,i=new le){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Vl.subVectors(e,t),r.cross(Vl);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Vl.subVectors(r,t),nh.subVectors(i,t),DD.subVectors(e,t);const o=Vl.dot(Vl),a=Vl.dot(nh),l=Vl.dot(DD),c=nh.dot(nh),h=nh.dot(DD),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(c*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ih)===null?!1:ih.x>=0&&ih.y>=0&&ih.x+ih.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,ih)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ih.x),l.addScaledVector(o,ih.y),l.addScaledVector(a,ih.z),l)}static isFrontFacing(e,t,i,r){return Vl.subVectors(i,t),nh.subVectors(e,t),Vl.cross(nh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vl.subVectors(this.c,this.b),nh.subVectors(this.a,this.b),Vl.cross(nh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sa.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return sa.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return sa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;jv.subVectors(r,i),Wv.subVectors(s,i),FD.subVectors(e,i);const l=jv.dot(FD),c=Wv.dot(FD);if(l<=0&&c<=0)return t.copy(i);ND.subVectors(e,r);const h=jv.dot(ND),d=Wv.dot(ND);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*c;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector(jv,o);OD.subVectors(e,s);const m=jv.dot(OD),v=Wv.dot(OD);if(v>=0&&m<=v)return t.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(Wv,a);const y=h*v-m*d;if(y<=0&&d-h>=0&&m-v>=0)return s7.subVectors(s,r),a=(d-h)/(d-h+(m-v)),t.copy(r).addScaledVector(s7,a);const g=1/(y+x+p);return o=x*g,a=p*g,t.copy(i).addScaledVector(jv,o).addScaledVector(Wv,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ise={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gd={h:0,s:0,l:0},hC={h:0,s:0,l:0};function UD(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ct{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=sl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Gn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Gn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Gn.workingColorSpace){if(e=ZH(e,1),t=Ji(t,0,1),i=Ji(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=UD(o,s,e+1/3),this.g=UD(o,s,e),this.b=UD(o,s,e-1/3)}return Gn.toWorkingColorSpace(this,r),this}setStyle(e,t=sl){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=sl){const i=Ise[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vx(e.r),this.g=vx(e.g),this.b=vx(e.b),this}copyLinearToSRGB(e){return this.r=bD(e.r),this.g=bD(e.g),this.b=bD(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=sl){return Gn.fromWorkingColorSpace(Is.copy(this),e),Math.round(Ji(Is.r*255,0,255))*65536+Math.round(Ji(Is.g*255,0,255))*256+Math.round(Ji(Is.b*255,0,255))}getHexString(e=sl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gn.workingColorSpace){Gn.fromWorkingColorSpace(Is.copy(this),t);const i=Is.r,r=Is.g,s=Is.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const h=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=Gn.workingColorSpace){return Gn.fromWorkingColorSpace(Is.copy(this),t),e.r=Is.r,e.g=Is.g,e.b=Is.b,e}getStyle(e=sl){Gn.fromWorkingColorSpace(Is.copy(this),e);const t=Is.r,i=Is.g,r=Is.b;return e!==sl?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Gd),this.setHSL(Gd.h+e,Gd.s+t,Gd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Gd),e.getHSL(hC);const i=SS(Gd.h,hC.h,t),r=SS(Gd.s,hC.s,t),s=SS(Gd.l,hC.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Is=new Ct;Ct.NAMES=Ise;let lPe=0;class yr extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lPe++}),this.uuid=ya(),this.name="",this.type="Material",this.blending=Sg,this.side=fu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=g2,this.blendDst=v2,this.blendEquation=cf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ct(0,0,0),this.blendAlpha=0,this.depthFunc=Lw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=MU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dm,this.stencilZFail=Dm,this.stencilZPass=Dm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Sg&&(i.blending=this.blending),this.side!==fu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==g2&&(i.blendSrc=this.blendSrc),this.blendDst!==v2&&(i.blendDst=this.blendDst),this.blendEquation!==cf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Lw&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==MU&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dm&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Dm&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Dm&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class fa extends yr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.combine=DM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gh=cPe();function cPe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[l]=c|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Eo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ji(n,-65504,65504),gh.floatView[0]=n;const e=gh.uint32View[0],t=e>>23&511;return gh.baseTable[t]+((e&8388607)>>gh.shiftTable[t])}function XA(n){const e=n>>10;return gh.uint32View[0]=gh.mantissaTable[gh.offsetTable[e]+(n&1023)]+gh.exponentTable[e],gh.floatView[0]}const uPe={toHalfFloat:Eo,fromHalfFloat:XA},pr=new le,dC=new nt;class Fn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Hw,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=da,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tG("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)dC.fromBufferAttribute(this,t),dC.applyMatrix3(e),this.setXY(t,dC.x,dC.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.applyMatrix3(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.applyMatrix4(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.applyNormalMatrix(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)pr.fromBufferAttribute(this,t),pr.transformDirection(e),this.setXYZ(t,pr.x,pr.y,pr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=lo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=dn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=lo(t,this.array)),t}setX(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=lo(t,this.array)),t}setY(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=lo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=lo(t,this.array)),t}setW(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array),r=dn(r,this.array),s=dn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Hw&&(e.usage=this.usage),e}}class hPe extends Fn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class dPe extends Fn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class fPe extends Fn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class pPe extends Fn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class iG extends Fn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class mPe extends Fn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class rG extends Fn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class gPe extends Fn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=XA(this.array[e*this.itemSize]);return this.normalized&&(t=lo(t,this.array)),t}setX(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize]=Eo(t),this}getY(e){let t=XA(this.array[e*this.itemSize+1]);return this.normalized&&(t=lo(t,this.array)),t}setY(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize+1]=Eo(t),this}getZ(e){let t=XA(this.array[e*this.itemSize+2]);return this.normalized&&(t=lo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize+2]=Eo(t),this}getW(e){let t=XA(this.array[e*this.itemSize+3]);return this.normalized&&(t=lo(t,this.array)),t}setW(e,t){return this.normalized&&(t=dn(t,this.array)),this.array[e*this.itemSize+3]=Eo(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array)),this.array[e+0]=Eo(t),this.array[e+1]=Eo(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.array[e+0]=Eo(t),this.array[e+1]=Eo(i),this.array[e+2]=Eo(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array),r=dn(r,this.array),s=dn(s,this.array)),this.array[e+0]=Eo(t),this.array[e+1]=Eo(i),this.array[e+2]=Eo(r),this.array[e+3]=Eo(s),this}}class Ut extends Fn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let vPe=0;const qa=new Wt,kD=new Pn,Xv=new le,Zo=new js,yA=new js,Xr=new le;class ln extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:vPe++}),this.uuid=ya(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Tse(e)?rG:iG)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new un().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qa.makeRotationFromQuaternion(e),this.applyMatrix4(qa),this}rotateX(e){return qa.makeRotationX(e),this.applyMatrix4(qa),this}rotateY(e){return qa.makeRotationY(e),this.applyMatrix4(qa),this}rotateZ(e){return qa.makeRotationZ(e),this.applyMatrix4(qa),this}translate(e,t,i){return qa.makeTranslation(e,t,i),this.applyMatrix4(qa),this}scale(e,t,i){return qa.makeScale(e,t,i),this.applyMatrix4(qa),this}lookAt(e){return kD.lookAt(e),kD.updateMatrix(),this.applyMatrix4(kD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xv).negate(),this.translate(Xv.x,Xv.y,Xv.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ut(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new js);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Zo.setFromBufferAttribute(s),this.morphTargetsRelative?(Xr.addVectors(this.boundingBox.min,Zo.min),this.boundingBox.expandByPoint(Xr),Xr.addVectors(this.boundingBox.max,Zo.max),this.boundingBox.expandByPoint(Xr)):(this.boundingBox.expandByPoint(Zo.min),this.boundingBox.expandByPoint(Zo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ys);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const i=this.boundingSphere.center;if(Zo.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];yA.setFromBufferAttribute(a),this.morphTargetsRelative?(Xr.addVectors(Zo.min,yA.min),Zo.expandByPoint(Xr),Xr.addVectors(Zo.max,yA.max),Zo.expandByPoint(Xr)):(Zo.expandByPoint(yA.min),Zo.expandByPoint(yA.max))}Zo.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Xr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Xr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Xr.fromBufferAttribute(a,c),l&&(Xv.fromBufferAttribute(e,c),Xr.add(Xv)),r=Math.max(r,i.distanceToSquared(Xr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let I=0;I<i.count;I++)a[I]=new le,l[I]=new le;const c=new le,h=new le,d=new le,p=new nt,m=new nt,v=new nt,x=new le,y=new le;function g(I,R,C){c.fromBufferAttribute(i,I),h.fromBufferAttribute(i,R),d.fromBufferAttribute(i,C),p.fromBufferAttribute(s,I),m.fromBufferAttribute(s,R),v.fromBufferAttribute(s,C),h.sub(c),d.sub(c),m.sub(p),v.sub(p);const N=1/(m.x*v.y-v.x*m.y);isFinite(N)&&(x.copy(h).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(N),y.copy(d).multiplyScalar(m.x).addScaledVector(h,-v.x).multiplyScalar(N),a[I].add(x),a[R].add(x),a[C].add(x),l[I].add(y),l[R].add(y),l[C].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let I=0,R=S.length;I<R;++I){const C=S[I],N=C.start,j=C.count;for(let W=N,X=N+j;W<X;W+=3)g(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const w=new le,b=new le,P=new le,T=new le;function B(I){P.fromBufferAttribute(r,I),T.copy(P);const R=a[I];w.copy(R),w.sub(P.multiplyScalar(P.dot(R))).normalize(),b.crossVectors(T,R);const N=b.dot(l[I])<0?-1:1;o.setXYZW(I,w.x,w.y,w.z,N)}for(let I=0,R=S.length;I<R;++I){const C=S[I],N=C.start,j=C.count;for(let W=N,X=N+j;W<X;W+=3)B(e.getX(W+0)),B(e.getX(W+1)),B(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Fn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new le,s=new le,o=new le,a=new le,l=new le,c=new le,h=new le,d=new le;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,y),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,x),c.fromBufferAttribute(i,y),a.add(h),l.add(h),c.add(h),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Xr.fromBufferAttribute(e,t),Xr.normalize(),e.setXYZ(t,Xr.x,Xr.y,Xr.z)}toNonIndexed(){function e(a,l){const c=a.array,h=a.itemSize,d=a.normalized,p=new c.constructor(l.length*h);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*h;for(let g=0;g<h;g++)p[v++]=c[m++]}return new Fn(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ln,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let h=0,d=c.length;h<d;h++){const p=c[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const o7=new Wt,cm=new m0,fC=new ys,a7=new le,Jv=new le,Kv=new le,Yv=new le,zD=new le,pC=new le,mC=new nt,gC=new nt,vC=new nt,l7=new le,c7=new le,u7=new le,yC=new le,xC=new le;class qi extends Pn{constructor(e=new ln,t=new fa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){pC.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const h=a[l],d=s[l];h!==0&&(zD.fromBufferAttribute(d,e),o?pC.addScaledVector(zD,h):pC.addScaledVector(zD.sub(t),h))}t.add(pC)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),fC.copy(i.boundingSphere),fC.applyMatrix4(s),cm.copy(e.ray).recast(e.near),!(fC.containsPoint(cm.origin)===!1&&(cm.intersectSphere(fC,a7)===null||cm.origin.distanceToSquared(a7)>(e.far-e.near)**2))&&(o7.copy(s).invert(),cm.copy(e.ray).applyMatrix4(o7),!(i.boundingBox!==null&&cm.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,cm)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],S=Math.max(y.start,m.start),w=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let b=S,P=w;b<P;b+=3){const T=a.getX(b),B=a.getX(b+1),I=a.getX(b+2);r=_C(this,g,e,i,c,h,d,T,B,I),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const S=a.getX(y),w=a.getX(y+1),b=a.getX(y+2);r=_C(this,o,e,i,c,h,d,S,w,b),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],S=Math.max(y.start,m.start),w=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let b=S,P=w;b<P;b+=3){const T=b,B=b+1,I=b+2;r=_C(this,g,e,i,c,h,d,T,B,I),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=y.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const S=y,w=y+1,b=y+2;r=_C(this,o,e,i,c,h,d,S,w,b),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}}}function yPe(n,e,t,i,r,s,o,a){let l;if(e.side===mo?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===fu,a),l===null)return null;xC.copy(a),xC.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(xC);return c<t.near||c>t.far?null:{distance:c,point:xC.clone(),object:n}}function _C(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Jv),n.getVertexPosition(l,Kv),n.getVertexPosition(c,Yv);const h=yPe(n,e,t,i,Jv,Kv,Yv,yC);if(h){r&&(mC.fromBufferAttribute(r,a),gC.fromBufferAttribute(r,l),vC.fromBufferAttribute(r,c),h.uv=sa.getInterpolation(yC,Jv,Kv,Yv,mC,gC,vC,new nt)),s&&(mC.fromBufferAttribute(s,a),gC.fromBufferAttribute(s,l),vC.fromBufferAttribute(s,c),h.uv1=sa.getInterpolation(yC,Jv,Kv,Yv,mC,gC,vC,new nt)),o&&(l7.fromBufferAttribute(o,a),c7.fromBufferAttribute(o,l),u7.fromBufferAttribute(o,c),h.normal=sa.getInterpolation(yC,Jv,Kv,Yv,l7,c7,u7,new le),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new le,materialIndex:0};sa.getNormal(Jv,Kv,Yv,d.normal),h.face=d}return h}class g0 extends ln{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ut(c,3)),this.setAttribute("normal",new Ut(h,3)),this.setAttribute("uv",new Ut(d,2));function v(x,y,g,S,w,b,P,T,B,I,R){const C=b/B,N=P/I,j=b/2,W=P/2,X=T/2,Q=B+1,Y=I+1;let ie=0,D=0;const z=new le;for(let H=0;H<Y;H++){const ee=H*N-W;for(let pe=0;pe<Q;pe++){const ke=pe*C-j;z[x]=ke*S,z[y]=ee*w,z[g]=X,c.push(z.x,z.y,z.z),z[x]=0,z[y]=0,z[g]=T>0?1:-1,h.push(z.x,z.y,z.z),d.push(pe/B),d.push(1-H/I),ie+=1}}for(let H=0;H<I;H++)for(let ee=0;ee<B;ee++){const pe=p+ee+Q*H,ke=p+ee+Q*(H+1),ne=p+(ee+1)+Q*(H+1),ve=p+(ee+1)+Q*H;l.push(pe,ke,ve),l.push(ke,ne,ve),D+=6}a.addGroup(m,D,R),m+=D,p+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function qx(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ro(n){const e={};for(let t=0;t<n.length;t++){const i=qx(n[t]);for(const r in i)e[r]=i[r]}return e}function xPe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Lse(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Gn.workingColorSpace}const Dse={clone:qx,merge:ro};var _Pe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,APe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class dc extends yr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_Pe,this.fragmentShader=APe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qx(e.uniforms),this.uniformsGroups=xPe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class OM extends Pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt,this.coordinateSystem=qc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Vd=new le,h7=new nt,d7=new nt;class _i extends OM{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Qx*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Qx*2*Math.atan(Math.tan(bg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Vd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Vd.x,Vd.y).multiplyScalar(-e/Vd.z),Vd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Vd.x,Vd.y).multiplyScalar(-e/Vd.z)}getViewSize(e,t){return this.getViewBounds(e,h7,d7),t.subVectors(d7,h7)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(bg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Qv=-90,qv=1;class sG extends Pn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new _i(Qv,qv,e,t);r.layers=this.layers,this.add(r);const s=new _i(Qv,qv,e,t);s.layers=this.layers,this.add(s);const o=new _i(Qv,qv,e,t);o.layers=this.layers,this.add(o);const a=new _i(Qv,qv,e,t);a.layers=this.layers,this.add(a);const l=new _i(Qv,qv,e,t);l.layers=this.layers,this.add(l);const c=new _i(Qv,qv,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===qc)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Gw)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,h]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,h),e.setRenderTarget(d,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class UM extends si{constructor(e,t,i,r,s,o,a,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:$h,super(e,t,i,r,s,o,a,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oG extends hc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new UM(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new g0(5,5,5),s=new dc({name:"CubemapFromEquirect",uniforms:qx(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:mo,blending:Fh});s.uniforms.tEquirect.value=t;const o=new qi(r,s),a=t.minFilter;return t.minFilter===gl&&(t.minFilter=Yi),new sG(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const HD=new le,SPe=new le,wPe=new un;class dh{constructor(e=new le(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=HD.subVectors(i,t).cross(SPe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(HD),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||wPe.getNormalMatrix(e),r=this.coplanarPoint(HD).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const um=new ys,AC=new le;class kM{constructor(e=new dh,t=new dh,i=new dh,r=new dh,s=new dh,o=new dh){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=qc){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],h=r[5],d=r[6],p=r[7],m=r[8],v=r[9],x=r[10],y=r[11],g=r[12],S=r[13],w=r[14],b=r[15];if(i[0].setComponents(l-s,p-c,y-m,b-g).normalize(),i[1].setComponents(l+s,p+c,y+m,b+g).normalize(),i[2].setComponents(l+o,p+h,y+v,b+S).normalize(),i[3].setComponents(l-o,p-h,y-v,b-S).normalize(),i[4].setComponents(l-a,p-d,y-x,b-w).normalize(),t===qc)i[5].setComponents(l+a,p+d,y+x,b+w).normalize();else if(t===Gw)i[5].setComponents(a,d,x,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),um.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),um.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(um)}intersectsSprite(e){return um.center.set(0,0,0),um.radius=.7071067811865476,um.applyMatrix4(e.matrixWorld),this.intersectsSphere(um)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(AC.x=r.normal.x>0?e.max.x:e.min.x,AC.y=r.normal.y>0?e.max.y:e.min.y,AC.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(AC)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Fse(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function MPe(n){const e=new WeakMap;function t(a,l){const c=a.array,h=a.usage,d=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,h),a.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const h=l.array,d=l._updateRange,p=l.updateRanges;if(n.bindBuffer(c,a),d.count===-1&&p.length===0&&n.bufferSubData(c,0,h),p.length!==0){for(let m=0,v=p.length;m<v;m++){const x=p[m];n.bufferSubData(c,x.start*h.BYTES_PER_ELEMENT,h,x.start,x.count)}l.clearUpdateRanges()}d.count!==-1&&(n.bufferSubData(c,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count),d.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const h=e.get(a);(!h||h.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class b1 extends ln{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,h=l+1,d=e/a,p=t/l,m=[],v=[],x=[],y=[];for(let g=0;g<h;g++){const S=g*p-o;for(let w=0;w<c;w++){const b=w*d-s;v.push(b,-S,0),x.push(0,0,1),y.push(w/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const w=S+c*g,b=S+c*(g+1),P=S+1+c*(g+1),T=S+1+c*g;m.push(w,b,T),m.push(b,P,T)}this.setIndex(m),this.setAttribute("position",new Ut(v,3)),this.setAttribute("normal",new Ut(x,3)),this.setAttribute("uv",new Ut(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b1(e.width,e.height,e.widthSegments,e.heightSegments)}}var bPe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,EPe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,CPe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,TPe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RPe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,PPe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,BPe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,IPe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,LPe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,DPe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,FPe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,NPe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OPe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,UPe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kPe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zPe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,HPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,GPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,VPe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,jPe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,WPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,XPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,JPe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,KPe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,YPe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,QPe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,qPe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,$Pe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ZPe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,eBe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,tBe="gl_FragColor = linearToOutputTexel( gl_FragColor );",nBe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,iBe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,rBe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sBe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,oBe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,aBe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lBe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,cBe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,uBe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hBe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,dBe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,fBe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,pBe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,mBe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,gBe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,vBe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,yBe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,xBe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_Be=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ABe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,SBe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,wBe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,MBe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,bBe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,EBe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,CBe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,TBe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RBe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PBe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,BBe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,IBe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,LBe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DBe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FBe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,NBe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,OBe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,UBe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kBe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zBe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,HBe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,GBe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,VBe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,jBe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WBe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,XBe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,JBe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,KBe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,YBe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,QBe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,qBe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$Be=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ZBe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,eIe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,tIe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,nIe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,iIe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,rIe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,sIe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,oIe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,aIe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,lIe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,cIe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uIe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,hIe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,dIe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fIe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pIe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mIe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gIe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,vIe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,yIe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,xIe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,_Ie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,AIe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SIe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,wIe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const MIe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,bIe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,CIe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RIe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PIe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,BIe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,IIe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LIe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,DIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,FIe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NIe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,OIe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,UIe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kIe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zIe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HIe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GIe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,VIe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jIe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,WIe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,XIe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JIe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KIe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,YIe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QIe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qIe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$Ie=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ZIe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eLe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tLe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nLe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iLe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gn={alphahash_fragment:bPe,alphahash_pars_fragment:EPe,alphamap_fragment:CPe,alphamap_pars_fragment:TPe,alphatest_fragment:RPe,alphatest_pars_fragment:PPe,aomap_fragment:BPe,aomap_pars_fragment:IPe,batching_pars_vertex:LPe,batching_vertex:DPe,begin_vertex:FPe,beginnormal_vertex:NPe,bsdfs:OPe,iridescence_fragment:UPe,bumpmap_pars_fragment:kPe,clipping_planes_fragment:zPe,clipping_planes_pars_fragment:HPe,clipping_planes_pars_vertex:GPe,clipping_planes_vertex:VPe,color_fragment:jPe,color_pars_fragment:WPe,color_pars_vertex:XPe,color_vertex:JPe,common:KPe,cube_uv_reflection_fragment:YPe,defaultnormal_vertex:QPe,displacementmap_pars_vertex:qPe,displacementmap_vertex:$Pe,emissivemap_fragment:ZPe,emissivemap_pars_fragment:eBe,colorspace_fragment:tBe,colorspace_pars_fragment:nBe,envmap_fragment:iBe,envmap_common_pars_fragment:rBe,envmap_pars_fragment:sBe,envmap_pars_vertex:oBe,envmap_physical_pars_fragment:vBe,envmap_vertex:aBe,fog_vertex:lBe,fog_pars_vertex:cBe,fog_fragment:uBe,fog_pars_fragment:hBe,gradientmap_pars_fragment:dBe,lightmap_pars_fragment:fBe,lights_lambert_fragment:pBe,lights_lambert_pars_fragment:mBe,lights_pars_begin:gBe,lights_toon_fragment:yBe,lights_toon_pars_fragment:xBe,lights_phong_fragment:_Be,lights_phong_pars_fragment:ABe,lights_physical_fragment:SBe,lights_physical_pars_fragment:wBe,lights_fragment_begin:MBe,lights_fragment_maps:bBe,lights_fragment_end:EBe,logdepthbuf_fragment:CBe,logdepthbuf_pars_fragment:TBe,logdepthbuf_pars_vertex:RBe,logdepthbuf_vertex:PBe,map_fragment:BBe,map_pars_fragment:IBe,map_particle_fragment:LBe,map_particle_pars_fragment:DBe,metalnessmap_fragment:FBe,metalnessmap_pars_fragment:NBe,morphinstance_vertex:OBe,morphcolor_vertex:UBe,morphnormal_vertex:kBe,morphtarget_pars_vertex:zBe,morphtarget_vertex:HBe,normal_fragment_begin:GBe,normal_fragment_maps:VBe,normal_pars_fragment:jBe,normal_pars_vertex:WBe,normal_vertex:XBe,normalmap_pars_fragment:JBe,clearcoat_normal_fragment_begin:KBe,clearcoat_normal_fragment_maps:YBe,clearcoat_pars_fragment:QBe,iridescence_pars_fragment:qBe,opaque_fragment:$Be,packing:ZBe,premultiplied_alpha_fragment:eIe,project_vertex:tIe,dithering_fragment:nIe,dithering_pars_fragment:iIe,roughnessmap_fragment:rIe,roughnessmap_pars_fragment:sIe,shadowmap_pars_fragment:oIe,shadowmap_pars_vertex:aIe,shadowmap_vertex:lIe,shadowmask_pars_fragment:cIe,skinbase_vertex:uIe,skinning_pars_vertex:hIe,skinning_vertex:dIe,skinnormal_vertex:fIe,specularmap_fragment:pIe,specularmap_pars_fragment:mIe,tonemapping_fragment:gIe,tonemapping_pars_fragment:vIe,transmission_fragment:yIe,transmission_pars_fragment:xIe,uv_pars_fragment:_Ie,uv_pars_vertex:AIe,uv_vertex:SIe,worldpos_vertex:wIe,background_vert:MIe,background_frag:bIe,backgroundCube_vert:EIe,backgroundCube_frag:CIe,cube_vert:TIe,cube_frag:RIe,depth_vert:PIe,depth_frag:BIe,distanceRGBA_vert:IIe,distanceRGBA_frag:LIe,equirect_vert:DIe,equirect_frag:FIe,linedashed_vert:NIe,linedashed_frag:OIe,meshbasic_vert:UIe,meshbasic_frag:kIe,meshlambert_vert:zIe,meshlambert_frag:HIe,meshmatcap_vert:GIe,meshmatcap_frag:VIe,meshnormal_vert:jIe,meshnormal_frag:WIe,meshphong_vert:XIe,meshphong_frag:JIe,meshphysical_vert:KIe,meshphysical_frag:YIe,meshtoon_vert:QIe,meshtoon_frag:qIe,points_vert:$Ie,points_frag:ZIe,shadow_vert:eLe,shadow_frag:tLe,sprite_vert:nLe,sprite_frag:iLe},Bt={common:{diffuse:{value:new Ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new un}},envmap:{envMap:{value:null},envMapRotation:{value:new un},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new un}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new un}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new un},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new un},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new un},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new un}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new un}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new un}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0},uvTransform:{value:new un}},sprite:{diffuse:{value:new Ct(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}}},Zl={basic:{uniforms:ro([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.fog]),vertexShader:gn.meshbasic_vert,fragmentShader:gn.meshbasic_frag},lambert:{uniforms:ro([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:gn.meshlambert_vert,fragmentShader:gn.meshlambert_frag},phong:{uniforms:ro([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:gn.meshphong_vert,fragmentShader:gn.meshphong_frag},standard:{uniforms:ro([Bt.common,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.roughnessmap,Bt.metalnessmap,Bt.fog,Bt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},toon:{uniforms:ro([Bt.common,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.gradientmap,Bt.fog,Bt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:gn.meshtoon_vert,fragmentShader:gn.meshtoon_frag},matcap:{uniforms:ro([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,{matcap:{value:null}}]),vertexShader:gn.meshmatcap_vert,fragmentShader:gn.meshmatcap_frag},points:{uniforms:ro([Bt.points,Bt.fog]),vertexShader:gn.points_vert,fragmentShader:gn.points_frag},dashed:{uniforms:ro([Bt.common,Bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gn.linedashed_vert,fragmentShader:gn.linedashed_frag},depth:{uniforms:ro([Bt.common,Bt.displacementmap]),vertexShader:gn.depth_vert,fragmentShader:gn.depth_frag},normal:{uniforms:ro([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,{opacity:{value:1}}]),vertexShader:gn.meshnormal_vert,fragmentShader:gn.meshnormal_frag},sprite:{uniforms:ro([Bt.sprite,Bt.fog]),vertexShader:gn.sprite_vert,fragmentShader:gn.sprite_frag},background:{uniforms:{uvTransform:{value:new un},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gn.background_vert,fragmentShader:gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new un}},vertexShader:gn.backgroundCube_vert,fragmentShader:gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gn.cube_vert,fragmentShader:gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gn.equirect_vert,fragmentShader:gn.equirect_frag},distanceRGBA:{uniforms:ro([Bt.common,Bt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gn.distanceRGBA_vert,fragmentShader:gn.distanceRGBA_frag},shadow:{uniforms:ro([Bt.lights,Bt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:gn.shadow_vert,fragmentShader:gn.shadow_frag}};Zl.physical={uniforms:ro([Zl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new un},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new un},clearcoatNormalScale:{value:new nt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new un},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new un},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new un},sheen:{value:0},sheenColor:{value:new Ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new un},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new un},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new un},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new un},attenuationDistance:{value:0},attenuationColor:{value:new Ct(0)},specularColor:{value:new Ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new un},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new un},anisotropyVector:{value:new nt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new un}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag};const SC={r:0,b:0,g:0},hm=new go,rLe=new Wt;function sLe(n,e,t,i,r,s,o){const a=new Ct(0);let l=s===!0?0:1,c,h,d=null,p=0,m=null;function v(S){let w=S.isScene===!0?S.background:null;return w&&w.isTexture&&(w=(S.backgroundBlurriness>0?t:e).get(w)),w}function x(S){let w=!1;const b=v(S);b===null?g(a,l):b&&b.isColor&&(g(b,1),w=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||w)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(S,w){const b=v(w);b&&(b.isCubeTexture||b.mapping===M1)?(h===void 0&&(h=new qi(new g0(1,1,1),new dc({name:"BackgroundCubeMaterial",uniforms:qx(Zl.backgroundCube.uniforms),vertexShader:Zl.backgroundCube.vertexShader,fragmentShader:Zl.backgroundCube.fragmentShader,side:mo,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,T,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),hm.copy(w.backgroundRotation),hm.x*=-1,hm.y*=-1,hm.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(hm.y*=-1,hm.z*=-1),h.material.uniforms.envMap.value=b,h.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(rLe.makeRotationFromEuler(hm)),h.material.toneMapped=Gn.getTransfer(b.colorSpace)!==li,(d!==b||p!==b.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=b,p=b.version,m=n.toneMapping),h.layers.enableAll(),S.unshift(h,h.geometry,h.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new qi(new b1(2,2),new dc({name:"BackgroundMaterial",uniforms:qx(Zl.background.uniforms),vertexShader:Zl.background.vertexShader,fragmentShader:Zl.background.fragmentShader,side:fu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Gn.getTransfer(b.colorSpace)!==li,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||p!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=b,p=b.version,m=n.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function g(S,w){S.getRGB(SC,Lse(n)),i.buffers.color.setClear(SC.r,SC.g,SC.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(S,w=1){a.set(S),l=w,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,g(a,l)},render:x,addToRenderList:y}}function oLe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(C,N,j,W,X){let Q=!1;const Y=d(W,j,N);s!==Y&&(s=Y,c(s.object)),Q=m(C,W,j,X),Q&&v(C,W,j,X),X!==null&&e.update(X,n.ELEMENT_ARRAY_BUFFER),(Q||o)&&(o=!1,b(C,N,j,W),X!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return n.createVertexArray()}function c(C){return n.bindVertexArray(C)}function h(C){return n.deleteVertexArray(C)}function d(C,N,j){const W=j.wireframe===!0;let X=i[C.id];X===void 0&&(X={},i[C.id]=X);let Q=X[N.id];Q===void 0&&(Q={},X[N.id]=Q);let Y=Q[W];return Y===void 0&&(Y=p(l()),Q[W]=Y),Y}function p(C){const N=[],j=[],W=[];for(let X=0;X<t;X++)N[X]=0,j[X]=0,W[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:j,attributeDivisors:W,object:C,attributes:{},index:null}}function m(C,N,j,W){const X=s.attributes,Q=N.attributes;let Y=0;const ie=j.getAttributes();for(const D in ie)if(ie[D].location>=0){const H=X[D];let ee=Q[D];if(ee===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(ee=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(ee=C.instanceColor)),H===void 0||H.attribute!==ee||ee&&H.data!==ee.data)return!0;Y++}return s.attributesNum!==Y||s.index!==W}function v(C,N,j,W){const X={},Q=N.attributes;let Y=0;const ie=j.getAttributes();for(const D in ie)if(ie[D].location>=0){let H=Q[D];H===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(H=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(H=C.instanceColor));const ee={};ee.attribute=H,H&&H.data&&(ee.data=H.data),X[D]=ee,Y++}s.attributes=X,s.attributesNum=Y,s.index=W}function x(){const C=s.newAttributes;for(let N=0,j=C.length;N<j;N++)C[N]=0}function y(C){g(C,0)}function g(C,N){const j=s.newAttributes,W=s.enabledAttributes,X=s.attributeDivisors;j[C]=1,W[C]===0&&(n.enableVertexAttribArray(C),W[C]=1),X[C]!==N&&(n.vertexAttribDivisor(C,N),X[C]=N)}function S(){const C=s.newAttributes,N=s.enabledAttributes;for(let j=0,W=N.length;j<W;j++)N[j]!==C[j]&&(n.disableVertexAttribArray(j),N[j]=0)}function w(C,N,j,W,X,Q,Y){Y===!0?n.vertexAttribIPointer(C,N,j,X,Q):n.vertexAttribPointer(C,N,j,W,X,Q)}function b(C,N,j,W){x();const X=W.attributes,Q=j.getAttributes(),Y=N.defaultAttributeValues;for(const ie in Q){const D=Q[ie];if(D.location>=0){let z=X[ie];if(z===void 0&&(ie==="instanceMatrix"&&C.instanceMatrix&&(z=C.instanceMatrix),ie==="instanceColor"&&C.instanceColor&&(z=C.instanceColor)),z!==void 0){const H=z.normalized,ee=z.itemSize,pe=e.get(z);if(pe===void 0)continue;const ke=pe.buffer,ne=pe.type,ve=pe.bytesPerElement,be=ne===n.INT||ne===n.UNSIGNED_INT||z.gpuType===VH;if(z.isInterleavedBufferAttribute){const xe=z.data,st=xe.stride,Ke=z.offset;if(xe.isInstancedInterleavedBuffer){for(let Ge=0;Ge<D.locationSize;Ge++)g(D.location+Ge,xe.meshPerAttribute);C.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ge=0;Ge<D.locationSize;Ge++)y(D.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,ke);for(let Ge=0;Ge<D.locationSize;Ge++)w(D.location+Ge,ee/D.locationSize,ne,H,st*ve,(Ke+ee/D.locationSize*Ge)*ve,be)}else{if(z.isInstancedBufferAttribute){for(let xe=0;xe<D.locationSize;xe++)g(D.location+xe,z.meshPerAttribute);C.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let xe=0;xe<D.locationSize;xe++)y(D.location+xe);n.bindBuffer(n.ARRAY_BUFFER,ke);for(let xe=0;xe<D.locationSize;xe++)w(D.location+xe,ee/D.locationSize,ne,H,ee*ve,ee/D.locationSize*xe*ve,be)}}else if(Y!==void 0){const H=Y[ie];if(H!==void 0)switch(H.length){case 2:n.vertexAttrib2fv(D.location,H);break;case 3:n.vertexAttrib3fv(D.location,H);break;case 4:n.vertexAttrib4fv(D.location,H);break;default:n.vertexAttrib1fv(D.location,H)}}}}S()}function P(){I();for(const C in i){const N=i[C];for(const j in N){const W=N[j];for(const X in W)h(W[X].object),delete W[X];delete N[j]}delete i[C]}}function T(C){if(i[C.id]===void 0)return;const N=i[C.id];for(const j in N){const W=N[j];for(const X in W)h(W[X].object),delete W[X];delete N[j]}delete i[C.id]}function B(C){for(const N in i){const j=i[N];if(j[C.id]===void 0)continue;const W=j[C.id];for(const X in W)h(W[X].object),delete W[X];delete j[C.id]}}function I(){R(),o=!0,s!==r&&(s=r,c(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:I,resetDefaultState:R,dispose:P,releaseStatesOfGeometry:T,releaseStatesOfProgram:B,initAttributes:x,enableAttribute:y,disableUnusedAttributes:S}}function aLe(n,e,t){let i;function r(c){i=c}function s(c,h){n.drawArrays(i,c,h),t.update(h,i,1)}function o(c,h,d){d!==0&&(n.drawArraysInstanced(i,c,h,d),t.update(h,i,d))}function a(c,h,d){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<d;m++)this.render(c[m],h[m]);else{p.multiDrawArraysWEBGL(i,c,0,h,0,d);let m=0;for(let v=0;v<d;v++)m+=h[v];t.update(m,i,1)}}function l(c,h,d,p){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],h[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,h,0,p,0,d);let v=0;for(let x=0;x<d;x++)v+=h[x];for(let x=0;x<p.length;x++)t.update(v,i,p[x])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function lLe(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){return!(T!==uo&&i.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(T){const B=T===FM&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==pu&&i.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==da&&!B)}function l(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const h=l(c);h!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const d=t.logarithmicDepthBuffer===!0,p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=m>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:x,maxAttributes:y,maxVertexUniforms:g,maxVaryings:S,maxFragmentUniforms:w,vertexTextures:b,maxSamples:P}}function cLe(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new dh,a=new un,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,x=d.clipIntersection,y=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!y)s?h(null):c();else{const S=s?0:i,w=S*4;let b=g.clippingState||null;l.value=b,b=h(v,p,w,m);for(let P=0;P!==w;++P)b[P]=t[P];g.clippingState=b,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,v){const x=d!==null?d.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<g)&&(y=new Float32Array(g));for(let w=0,b=m;w!==x;++w,b+=4)o.copy(d[w]).applyMatrix4(S,a),o.normal.toArray(y,b),y[b+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function uLe(n){let e=new WeakMap;function t(o,a){return a===Dw?o.mapping=$h:a===Fw&&(o.mapping=Xf),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Dw||a===Fw)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new oG(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class vl extends OM{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Wy=4,f7=[.125,.215,.35,.446,.526,.582],km=20,GD=new vl,p7=new Ct;let VD=null,jD=0,WD=0,XD=!1;const Fm=(1+Math.sqrt(5))/2,$v=1/Fm,m7=[new le(-Fm,$v,0),new le(Fm,$v,0),new le(-$v,0,Fm),new le($v,0,Fm),new le(0,Fm,-$v),new le(0,Fm,$v),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)];class EU{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){VD=this._renderer.getRenderTarget(),jD=this._renderer.getActiveCubeFace(),WD=this._renderer.getActiveMipmapLevel(),XD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=y7(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=v7(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(VD,jD,WD),this._renderer.xr.enabled=XD,e.scissorTest=!1,wC(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===$h||e.mapping===Xf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),VD=this._renderer.getRenderTarget(),jD=this._renderer.getActiveCubeFace(),WD=this._renderer.getActiveMipmapLevel(),XD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Yi,minFilter:Yi,generateMipmaps:!1,type:FM,format:uo,colorSpace:sd,depthBuffer:!1},r=g7(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=g7(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=hLe(s)),this._blurMaterial=dLe(s,e,t)}return r}_compileMaterial(e){const t=new qi(this._lodPlanes[0],e);this._renderer.compile(t,GD)}_sceneToCubeUV(e,t,i,r){const a=new _i(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(p7),h.toneMapping=su,h.autoClear=!1;const m=new fa({name:"PMREM.Background",side:mo,depthWrite:!1,depthTest:!1}),v=new qi(new g0,m);let x=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,x=!0):(m.color.copy(p7),x=!0);for(let g=0;g<6;g++){const S=g%3;S===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):S===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const w=this._cubeSize;wC(r,S*w,g>2?w:0,w,w),h.setRenderTarget(r),x&&h.render(v,a),h.render(e,a)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=y}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===$h||e.mapping===Xf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=y7()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=v7());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new qi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;wC(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,GD)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=m7[(r-s-1)%m7.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new qi(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*km-1),x=s/v,y=isFinite(s)?1+Math.floor(h*x):km;y>km&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${km}`);const g=[];let S=0;for(let B=0;B<km;++B){const I=B/x,R=Math.exp(-I*I/2);g.push(R),B===0?S+=R:B<y&&(S+=2*R)}for(let B=0;B<g.length;B++)g[B]=g[B]/S;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=v,p.mipInt.value=w-i;const b=this._sizeLods[r],P=3*b*(r>w-Wy?r-w+Wy:0),T=4*(this._cubeSize-b);wC(t,P,T,3*b,2*b),l.setRenderTarget(t),l.render(d,GD)}}function hLe(n){const e=[],t=[],i=[];let r=n;const s=n-Wy+1+f7.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Wy?l=f7[o-n+Wy-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),h=-c,d=1+c,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,x=3,y=2,g=1,S=new Float32Array(x*v*m),w=new Float32Array(y*v*m),b=new Float32Array(g*v*m);for(let T=0;T<m;T++){const B=T%3*2/3-1,I=T>2?0:-1,R=[B,I,0,B+2/3,I,0,B+2/3,I+1,0,B,I,0,B+2/3,I+1,0,B,I+1,0];S.set(R,x*v*T),w.set(p,y*v*T);const C=[T,T,T,T,T,T];b.set(C,g*v*T)}const P=new ln;P.setAttribute("position",new Fn(S,x)),P.setAttribute("uv",new Fn(w,y)),P.setAttribute("faceIndex",new Fn(b,g)),e.push(P),r>Wy&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function g7(n,e,t){const i=new hc(n,e,t);return i.texture.mapping=M1,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function wC(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function dLe(n,e,t){const i=new Float32Array(km),r=new le(0,1,0);return new dc({name:"SphericalGaussianBlur",defines:{n:km,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:aG(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Fh,depthTest:!1,depthWrite:!1})}function v7(){return new dc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:aG(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Fh,depthTest:!1,depthWrite:!1})}function y7(){return new dc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:aG(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Fh,depthTest:!1,depthWrite:!1})}function aG(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fLe(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Dw||l===Fw,h=l===$h||l===Xf;if(c||h){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new EU(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||h&&m&&r(m)?(t===null&&(t=new EU(n)),d=c?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function pLe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&tG("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function mLe(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let y=0,g=x.length;y<g;y++)e.remove(x[y])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const x=m[v];for(let y=0,g=x.length;y<g;y++)e.update(x[y],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,v=d.attributes.position;let x=0;if(m!==null){const S=m.array;x=m.version;for(let w=0,b=S.length;w<b;w+=3){const P=S[w+0],T=S[w+1],B=S[w+2];p.push(P,T,T,B,B,P)}}else if(v!==void 0){const S=v.array;x=v.version;for(let w=0,b=S.length/3-1;w<b;w+=3){const P=w+0,T=w+1,B=w+2;p.push(P,T,T,B,B,P)}}else return;const y=new(Tse(p)?rG:iG)(p,1);y.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,y)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function gLe(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function c(p,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,p*o,v),t.update(m,i,v))}function h(p,m,v){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let y=0;y<v;y++)this.render(p[y]/o,m[y]);else{x.multiDrawElementsWEBGL(i,m,0,s,p,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];t.update(y,i,1)}}function d(p,m,v,x){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<p.length;g++)c(p[g]/o,m[g],x[g]);else{y.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,x,0,v);let g=0;for(let S=0;S<v;S++)g+=m[S];for(let S=0;S<x.length;S++)t.update(g,i,x[S])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=d}function vLe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function yLe(n,e,t){const i=new WeakMap,r=new Qn;function s(o,a,l){const c=o.morphTargetInfluences,h=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=h!==void 0?h.length:0;let p=i.get(a);if(p===void 0||p.count!==d){let C=function(){I.dispose(),i.delete(a),a.removeEventListener("dispose",C)};var m=C;p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),x===!0&&(b=2),y===!0&&(b=3);let P=a.attributes.position.count*b,T=1;P>e.maxTextureSize&&(T=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const B=new Float32Array(P*T*4*d),I=new dB(B,P,T,d);I.type=da,I.needsUpdate=!0;const R=b*4;for(let N=0;N<d;N++){const j=g[N],W=S[N],X=w[N],Q=P*T*4*N;for(let Y=0;Y<j.count;Y++){const ie=Y*R;v===!0&&(r.fromBufferAttribute(j,Y),B[Q+ie+0]=r.x,B[Q+ie+1]=r.y,B[Q+ie+2]=r.z,B[Q+ie+3]=0),x===!0&&(r.fromBufferAttribute(W,Y),B[Q+ie+4]=r.x,B[Q+ie+5]=r.y,B[Q+ie+6]=r.z,B[Q+ie+7]=0),y===!0&&(r.fromBufferAttribute(X,Y),B[Q+ie+8]=r.x,B[Q+ie+9]=r.y,B[Q+ie+10]=r.z,B[Q+ie+11]=X.itemSize===4?r.w:1)}}p={count:d,texture:I,size:new nt(P,T)},i.set(a,p),a.addEventListener("dispose",C)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let y=0;y<c.length;y++)v+=c[y];const x=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",x),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function xLe(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,h=l.geometry,d=e.get(l,h);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class lG extends si{constructor(e,t,i,r,s,o,a,l,c,h=wg){if(h!==wg&&h!==$g)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===wg&&(i=Qg),i===void 0&&h===$g&&(i=qg),super(null,r,s,o,a,l,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Br,this.minFilter=l!==void 0?l:Br,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const Nse=new si,Ose=new lG(1,1);Ose.compareFunction=$H;const Use=new dB,kse=new nG,zse=new UM,x7=[],_7=[],A7=new Float32Array(16),S7=new Float32Array(9),w7=new Float32Array(4);function E1(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=x7[r];if(s===void 0&&(s=new Float32Array(r),x7[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Dr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Fr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function fB(n,e){let t=_7[e];t===void 0&&(t=new Int32Array(e),_7[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function _Le(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function ALe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2fv(this.addr,e),Fr(t,e)}}function SLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Dr(t,e))return;n.uniform3fv(this.addr,e),Fr(t,e)}}function wLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4fv(this.addr,e),Fr(t,e)}}function MLe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Fr(t,e)}else{if(Dr(t,i))return;w7.set(i),n.uniformMatrix2fv(this.addr,!1,w7),Fr(t,i)}}function bLe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Fr(t,e)}else{if(Dr(t,i))return;S7.set(i),n.uniformMatrix3fv(this.addr,!1,S7),Fr(t,i)}}function ELe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Fr(t,e)}else{if(Dr(t,i))return;A7.set(i),n.uniformMatrix4fv(this.addr,!1,A7),Fr(t,i)}}function CLe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function TLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2iv(this.addr,e),Fr(t,e)}}function RLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dr(t,e))return;n.uniform3iv(this.addr,e),Fr(t,e)}}function PLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4iv(this.addr,e),Fr(t,e)}}function BLe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ILe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dr(t,e))return;n.uniform2uiv(this.addr,e),Fr(t,e)}}function LLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dr(t,e))return;n.uniform3uiv(this.addr,e),Fr(t,e)}}function DLe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dr(t,e))return;n.uniform4uiv(this.addr,e),Fr(t,e)}}function FLe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?Ose:Nse;t.setTexture2D(e||s,r)}function NLe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||kse,r)}function OLe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||zse,r)}function ULe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Use,r)}function kLe(n){switch(n){case 5126:return _Le;case 35664:return ALe;case 35665:return SLe;case 35666:return wLe;case 35674:return MLe;case 35675:return bLe;case 35676:return ELe;case 5124:case 35670:return CLe;case 35667:case 35671:return TLe;case 35668:case 35672:return RLe;case 35669:case 35673:return PLe;case 5125:return BLe;case 36294:return ILe;case 36295:return LLe;case 36296:return DLe;case 35678:case 36198:case 36298:case 36306:case 35682:return FLe;case 35679:case 36299:case 36307:return NLe;case 35680:case 36300:case 36308:case 36293:return OLe;case 36289:case 36303:case 36311:case 36292:return ULe}}function zLe(n,e){n.uniform1fv(this.addr,e)}function HLe(n,e){const t=E1(e,this.size,2);n.uniform2fv(this.addr,t)}function GLe(n,e){const t=E1(e,this.size,3);n.uniform3fv(this.addr,t)}function VLe(n,e){const t=E1(e,this.size,4);n.uniform4fv(this.addr,t)}function jLe(n,e){const t=E1(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function WLe(n,e){const t=E1(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function XLe(n,e){const t=E1(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function JLe(n,e){n.uniform1iv(this.addr,e)}function KLe(n,e){n.uniform2iv(this.addr,e)}function YLe(n,e){n.uniform3iv(this.addr,e)}function QLe(n,e){n.uniform4iv(this.addr,e)}function qLe(n,e){n.uniform1uiv(this.addr,e)}function $Le(n,e){n.uniform2uiv(this.addr,e)}function ZLe(n,e){n.uniform3uiv(this.addr,e)}function eDe(n,e){n.uniform4uiv(this.addr,e)}function tDe(n,e,t){const i=this.cache,r=e.length,s=fB(t,r);Dr(i,s)||(n.uniform1iv(this.addr,s),Fr(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Nse,s[o])}function nDe(n,e,t){const i=this.cache,r=e.length,s=fB(t,r);Dr(i,s)||(n.uniform1iv(this.addr,s),Fr(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||kse,s[o])}function iDe(n,e,t){const i=this.cache,r=e.length,s=fB(t,r);Dr(i,s)||(n.uniform1iv(this.addr,s),Fr(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||zse,s[o])}function rDe(n,e,t){const i=this.cache,r=e.length,s=fB(t,r);Dr(i,s)||(n.uniform1iv(this.addr,s),Fr(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Use,s[o])}function sDe(n){switch(n){case 5126:return zLe;case 35664:return HLe;case 35665:return GLe;case 35666:return VLe;case 35674:return jLe;case 35675:return WLe;case 35676:return XLe;case 5124:case 35670:return JLe;case 35667:case 35671:return KLe;case 35668:case 35672:return YLe;case 35669:case 35673:return QLe;case 5125:return qLe;case 36294:return $Le;case 36295:return ZLe;case 36296:return eDe;case 35678:case 36198:case 36298:case 36306:case 35682:return tDe;case 35679:case 36299:case 36307:return nDe;case 35680:case 36300:case 36308:case 36293:return iDe;case 36289:case 36303:case 36311:case 36292:return rDe}}class oDe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=kLe(t.type)}}class aDe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=sDe(t.type)}}class lDe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const JD=/(\w+)(\])?(\[|\.)?/g;function M7(n,e){n.seq.push(e),n.map[e.id]=e}function cDe(n,e,t){const i=n.name,r=i.length;for(JD.lastIndex=0;;){const s=JD.exec(i),o=JD.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){M7(t,c===void 0?new oDe(a,n,e):new aDe(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new lDe(a),M7(t,d)),t=d}}}class JT{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);cDe(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function b7(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const uDe=37297;let hDe=0;function dDe(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function fDe(n){const e=Gn.getPrimaries(Gn.workingColorSpace),t=Gn.getPrimaries(n);let i;switch(e===t?i="":e===zw&&t===kw?i="LinearDisplayP3ToLinearSRGB":e===kw&&t===zw&&(i="LinearSRGBToLinearDisplayP3"),n){case sd:case NM:return[i,"LinearTransferOETF"];case sl:case hB:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function E7(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+dDe(n.getShaderSource(e),o)}else return r}function pDe(n,e){const t=fDe(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function mDe(n,e){let t;switch(e){case $re:t="Linear";break;case Zre:t="Reinhard";break;case ese:t="OptimizedCineon";break;case GH:t="ACESFilmic";break;case nse:t="AgX";break;case ise:t="Neutral";break;case tse:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function gDe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(JA).join(`
`)}function vDe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function yDe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function JA(n){return n!==""}function C7(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function T7(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const xDe=/^[ \t]*#include +<([\w\d./]+)>/gm;function CU(n){return n.replace(xDe,ADe)}const _De=new Map;function ADe(n,e){let t=gn[e];if(t===void 0){const i=_De.get(e);if(i!==void 0)t=gn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return CU(t)}const SDe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function R7(n){return n.replace(SDe,wDe)}function wDe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function P7(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function MDe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===aB?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===AS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Jl&&(e="SHADOWMAP_TYPE_VSM"),e}function bDe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case $h:case Xf:e="ENVMAP_TYPE_CUBE";break;case M1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function EDe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xf:e="ENVMAP_MODE_REFRACTION";break}return e}function CDe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case DM:e="ENVMAP_BLENDING_MULTIPLY";break;case Qre:e="ENVMAP_BLENDING_MIX";break;case qre:e="ENVMAP_BLENDING_ADD";break}return e}function TDe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function RDe(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=MDe(t),c=bDe(t),h=EDe(t),d=CDe(t),p=TDe(t),m=gDe(t),v=vDe(s),x=r.createProgram();let y,g,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(JA).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(JA).join(`
`),g.length>0&&(g+=`
`)):(y=[P7(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(JA).join(`
`),g=[P7(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==su?"#define TONE_MAPPING":"",t.toneMapping!==su?gn.tonemapping_pars_fragment:"",t.toneMapping!==su?mDe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gn.colorspace_pars_fragment,pDe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(JA).join(`
`)),o=CU(o),o=C7(o,t),o=T7(o,t),a=CU(a),a=C7(a,t),a=T7(a,t),o=R7(o),a=R7(a),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",t.glslVersion===bU?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===bU?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const w=S+y+o,b=S+g+a,P=b7(r,r.VERTEX_SHADER,w),T=b7(r,r.FRAGMENT_SHADER,b);r.attachShader(x,P),r.attachShader(x,T),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function B(N){if(n.debug.checkShaderErrors){const j=r.getProgramInfoLog(x).trim(),W=r.getShaderInfoLog(P).trim(),X=r.getShaderInfoLog(T).trim();let Q=!0,Y=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,P,T);else{const ie=E7(r,P,"vertex"),D=E7(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+j+`
`+ie+`
`+D)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(W===""||X==="")&&(Y=!1);Y&&(N.diagnostics={runnable:Q,programLog:j,vertexShader:{log:W,prefix:y},fragmentShader:{log:X,prefix:g}})}r.deleteShader(P),r.deleteShader(T),I=new JT(r,x),R=yDe(r,x)}let I;this.getUniforms=function(){return I===void 0&&B(this),I};let R;this.getAttributes=function(){return R===void 0&&B(this),R};let C=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=r.getProgramParameter(x,uDe)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=hDe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=P,this.fragmentShader=T,this}let PDe=0;class BDe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new IDe(e),t.set(e,i)),i}}class IDe{constructor(e){this.id=PDe++,this.code=e,this.usedTimes=0}}function LDe(n,e,t,i,r,s,o){const a=new Eg,l=new BDe,c=new Set,h=[],d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return c.add(R),R===0?"uv":`uv${R}`}function y(R,C,N,j,W){const X=j.fog,Q=W.geometry,Y=R.isMeshStandardMaterial?j.environment:null,ie=(R.isMeshStandardMaterial?t:e).get(R.envMap||Y),D=ie&&ie.mapping===M1?ie.image.height:null,z=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const H=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,ee=H!==void 0?H.length:0;let pe=0;Q.morphAttributes.position!==void 0&&(pe=1),Q.morphAttributes.normal!==void 0&&(pe=2),Q.morphAttributes.color!==void 0&&(pe=3);let ke,ne,ve,be;if(z){const pt=Zl[z];ke=pt.vertexShader,ne=pt.fragmentShader}else ke=R.vertexShader,ne=R.fragmentShader,l.update(R),ve=l.getVertexShaderID(R),be=l.getFragmentShaderID(R);const xe=n.getRenderTarget(),st=W.isInstancedMesh===!0,Ke=W.isBatchedMesh===!0,Ge=!!R.map,U=!!R.matcap,fe=!!ie,me=!!R.aoMap,Ce=!!R.lightMap,_e=!!R.bumpMap,Ne=!!R.normalMap,Oe=!!R.displacementMap,Re=!!R.emissiveMap,at=!!R.metalnessMap,k=!!R.roughnessMap,F=R.anisotropy>0,se=R.clearcoat>0,ge=R.dispersion>0,Ae=R.iridescence>0,Se=R.sheen>0,qe=R.transmission>0,Ie=F&&!!R.anisotropyMap,ze=se&&!!R.clearcoatMap,ct=se&&!!R.clearcoatNormalMap,Te=se&&!!R.clearcoatRoughnessMap,$e=Ae&&!!R.iridescenceMap,ht=Ae&&!!R.iridescenceThicknessMap,Ye=Se&&!!R.sheenColorMap,te=Se&&!!R.sheenRoughnessMap,$=!!R.specularMap,Me=!!R.specularColorMap,Qe=!!R.specularIntensityMap,G=qe&&!!R.transmissionMap,De=qe&&!!R.thicknessMap,de=!!R.gradientMap,ye=!!R.alphaMap,Le=R.alphaTest>0,Xe=!!R.alphaHash,dt=!!R.extensions;let Ve=su;R.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Ve=n.toneMapping);const rt={shaderID:z,shaderType:R.type,shaderName:R.name,vertexShader:ke,fragmentShader:ne,defines:R.defines,customVertexShaderID:ve,customFragmentShaderID:be,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:Ke,batchingColor:Ke&&W._colorsTexture!==null,instancing:st,instancingColor:st&&W.instanceColor!==null,instancingMorph:st&&W.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:xe===null?n.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:sd,alphaToCoverage:!!R.alphaToCoverage,map:Ge,matcap:U,envMap:fe,envMapMode:fe&&ie.mapping,envMapCubeUVHeight:D,aoMap:me,lightMap:Ce,bumpMap:_e,normalMap:Ne,displacementMap:p&&Oe,emissiveMap:Re,normalMapObjectSpace:Ne&&R.normalMapType===_se,normalMapTangentSpace:Ne&&R.normalMapType===cp,metalnessMap:at,roughnessMap:k,anisotropy:F,anisotropyMap:Ie,clearcoat:se,clearcoatMap:ze,clearcoatNormalMap:ct,clearcoatRoughnessMap:Te,dispersion:ge,iridescence:Ae,iridescenceMap:$e,iridescenceThicknessMap:ht,sheen:Se,sheenColorMap:Ye,sheenRoughnessMap:te,specularMap:$,specularColorMap:Me,specularIntensityMap:Qe,transmission:qe,transmissionMap:G,thicknessMap:De,gradientMap:de,opaque:R.transparent===!1&&R.blending===Sg&&R.alphaToCoverage===!1,alphaMap:ye,alphaTest:Le,alphaHash:Xe,combine:R.combine,mapUv:Ge&&x(R.map.channel),aoMapUv:me&&x(R.aoMap.channel),lightMapUv:Ce&&x(R.lightMap.channel),bumpMapUv:_e&&x(R.bumpMap.channel),normalMapUv:Ne&&x(R.normalMap.channel),displacementMapUv:Oe&&x(R.displacementMap.channel),emissiveMapUv:Re&&x(R.emissiveMap.channel),metalnessMapUv:at&&x(R.metalnessMap.channel),roughnessMapUv:k&&x(R.roughnessMap.channel),anisotropyMapUv:Ie&&x(R.anisotropyMap.channel),clearcoatMapUv:ze&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:ct&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:$e&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ye&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:te&&x(R.sheenRoughnessMap.channel),specularMapUv:$&&x(R.specularMap.channel),specularColorMapUv:Me&&x(R.specularColorMap.channel),specularIntensityMapUv:Qe&&x(R.specularIntensityMap.channel),transmissionMapUv:G&&x(R.transmissionMap.channel),thicknessMapUv:De&&x(R.thicknessMap.channel),alphaMapUv:ye&&x(R.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ne||F),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!Q.attributes.uv&&(Ge||ye),fog:!!X,useFog:R.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:W.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:pe,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ve,decodeVideoTexture:Ge&&R.map.isVideoTexture===!0&&Gn.getTransfer(R.map.colorSpace)===li,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===hl,flipSided:R.side===mo,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:dt&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:dt&&R.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return rt.vertexUv1s=c.has(1),rt.vertexUv2s=c.has(2),rt.vertexUv3s=c.has(3),c.clear(),rt}function g(R){const C=[];if(R.shaderID?C.push(R.shaderID):(C.push(R.customVertexShaderID),C.push(R.customFragmentShaderID)),R.defines!==void 0)for(const N in R.defines)C.push(N),C.push(R.defines[N]);return R.isRawShaderMaterial===!1&&(S(C,R),w(C,R),C.push(n.outputColorSpace)),C.push(R.customProgramCacheKey),C.join()}function S(R,C){R.push(C.precision),R.push(C.outputColorSpace),R.push(C.envMapMode),R.push(C.envMapCubeUVHeight),R.push(C.mapUv),R.push(C.alphaMapUv),R.push(C.lightMapUv),R.push(C.aoMapUv),R.push(C.bumpMapUv),R.push(C.normalMapUv),R.push(C.displacementMapUv),R.push(C.emissiveMapUv),R.push(C.metalnessMapUv),R.push(C.roughnessMapUv),R.push(C.anisotropyMapUv),R.push(C.clearcoatMapUv),R.push(C.clearcoatNormalMapUv),R.push(C.clearcoatRoughnessMapUv),R.push(C.iridescenceMapUv),R.push(C.iridescenceThicknessMapUv),R.push(C.sheenColorMapUv),R.push(C.sheenRoughnessMapUv),R.push(C.specularMapUv),R.push(C.specularColorMapUv),R.push(C.specularIntensityMapUv),R.push(C.transmissionMapUv),R.push(C.thicknessMapUv),R.push(C.combine),R.push(C.fogExp2),R.push(C.sizeAttenuation),R.push(C.morphTargetsCount),R.push(C.morphAttributeCount),R.push(C.numDirLights),R.push(C.numPointLights),R.push(C.numSpotLights),R.push(C.numSpotLightMaps),R.push(C.numHemiLights),R.push(C.numRectAreaLights),R.push(C.numDirLightShadows),R.push(C.numPointLightShadows),R.push(C.numSpotLightShadows),R.push(C.numSpotLightShadowsWithMaps),R.push(C.numLightProbes),R.push(C.shadowMapType),R.push(C.toneMapping),R.push(C.numClippingPlanes),R.push(C.numClipIntersection),R.push(C.depthPacking)}function w(R,C){a.disableAll(),C.supportsVertexTextures&&a.enable(0),C.instancing&&a.enable(1),C.instancingColor&&a.enable(2),C.instancingMorph&&a.enable(3),C.matcap&&a.enable(4),C.envMap&&a.enable(5),C.normalMapObjectSpace&&a.enable(6),C.normalMapTangentSpace&&a.enable(7),C.clearcoat&&a.enable(8),C.iridescence&&a.enable(9),C.alphaTest&&a.enable(10),C.vertexColors&&a.enable(11),C.vertexAlphas&&a.enable(12),C.vertexUv1s&&a.enable(13),C.vertexUv2s&&a.enable(14),C.vertexUv3s&&a.enable(15),C.vertexTangents&&a.enable(16),C.anisotropy&&a.enable(17),C.alphaHash&&a.enable(18),C.batching&&a.enable(19),C.dispersion&&a.enable(20),C.batchingColor&&a.enable(21),R.push(a.mask),a.disableAll(),C.fog&&a.enable(0),C.useFog&&a.enable(1),C.flatShading&&a.enable(2),C.logarithmicDepthBuffer&&a.enable(3),C.skinning&&a.enable(4),C.morphTargets&&a.enable(5),C.morphNormals&&a.enable(6),C.morphColors&&a.enable(7),C.premultipliedAlpha&&a.enable(8),C.shadowMapEnabled&&a.enable(9),C.doubleSided&&a.enable(10),C.flipSided&&a.enable(11),C.useDepthPacking&&a.enable(12),C.dithering&&a.enable(13),C.transmission&&a.enable(14),C.sheen&&a.enable(15),C.opaque&&a.enable(16),C.pointsUvs&&a.enable(17),C.decodeVideoTexture&&a.enable(18),C.alphaToCoverage&&a.enable(19),R.push(a.mask)}function b(R){const C=v[R.type];let N;if(C){const j=Zl[C];N=Dse.clone(j.uniforms)}else N=R.uniforms;return N}function P(R,C){let N;for(let j=0,W=h.length;j<W;j++){const X=h[j];if(X.cacheKey===C){N=X,++N.usedTimes;break}}return N===void 0&&(N=new RDe(n,C,R,s),h.push(N)),N}function T(R){if(--R.usedTimes===0){const C=h.indexOf(R);h[C]=h[h.length-1],h.pop(),R.destroy()}}function B(R){l.remove(R)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:b,acquireProgram:P,releaseProgram:T,releaseShaderCache:B,programs:h,dispose:I}}function DDe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function FDe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function B7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function I7(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,x,y){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:x,group:y},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=x,g.group=y),e++,g}function a(d,p,m,v,x,y){const g=o(d,p,m,v,x,y);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,v,x,y){const g=o(d,p,m,v,x,y);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||FDe),i.length>1&&i.sort(p||B7),r.length>1&&r.sort(p||B7)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:c}}function NDe(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new I7,n.set(i,[o])):r>=s.length?(o=new I7,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ODe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new le,color:new Ct};break;case"SpotLight":t={position:new le,direction:new le,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new le,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":t={direction:new le,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":t={color:new Ct,position:new le,halfWidth:new le,halfHeight:new le};break}return n[e.id]=t,t}}}function UDe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let kDe=0;function zDe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function HDe(n){const e=new ODe,t=UDe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new le);const r=new le,s=new Wt,o=new Wt;function a(c){let h=0,d=0,p=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let m=0,v=0,x=0,y=0,g=0,S=0,w=0,b=0,P=0,T=0,B=0;c.sort(zDe);for(let R=0,C=c.length;R<C;R++){const N=c[R],j=N.color,W=N.intensity,X=N.distance,Q=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)h+=j.r*W,d+=j.g*W,p+=j.b*W;else if(N.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(N.sh.coefficients[Y],W);B++}else if(N.isDirectionalLight){const Y=e.get(N);if(Y.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const ie=N.shadow,D=t.get(N);D.shadowBias=ie.bias,D.shadowNormalBias=ie.normalBias,D.shadowRadius=ie.radius,D.shadowMapSize=ie.mapSize,i.directionalShadow[m]=D,i.directionalShadowMap[m]=Q,i.directionalShadowMatrix[m]=N.shadow.matrix,S++}i.directional[m]=Y,m++}else if(N.isSpotLight){const Y=e.get(N);Y.position.setFromMatrixPosition(N.matrixWorld),Y.color.copy(j).multiplyScalar(W),Y.distance=X,Y.coneCos=Math.cos(N.angle),Y.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),Y.decay=N.decay,i.spot[x]=Y;const ie=N.shadow;if(N.map&&(i.spotLightMap[P]=N.map,P++,ie.updateMatrices(N),N.castShadow&&T++),i.spotLightMatrix[x]=ie.matrix,N.castShadow){const D=t.get(N);D.shadowBias=ie.bias,D.shadowNormalBias=ie.normalBias,D.shadowRadius=ie.radius,D.shadowMapSize=ie.mapSize,i.spotShadow[x]=D,i.spotShadowMap[x]=Q,b++}x++}else if(N.isRectAreaLight){const Y=e.get(N);Y.color.copy(j).multiplyScalar(W),Y.halfWidth.set(N.width*.5,0,0),Y.halfHeight.set(0,N.height*.5,0),i.rectArea[y]=Y,y++}else if(N.isPointLight){const Y=e.get(N);if(Y.color.copy(N.color).multiplyScalar(N.intensity),Y.distance=N.distance,Y.decay=N.decay,N.castShadow){const ie=N.shadow,D=t.get(N);D.shadowBias=ie.bias,D.shadowNormalBias=ie.normalBias,D.shadowRadius=ie.radius,D.shadowMapSize=ie.mapSize,D.shadowCameraNear=ie.camera.near,D.shadowCameraFar=ie.camera.far,i.pointShadow[v]=D,i.pointShadowMap[v]=Q,i.pointShadowMatrix[v]=N.shadow.matrix,w++}i.point[v]=Y,v++}else if(N.isHemisphereLight){const Y=e.get(N);Y.skyColor.copy(N.color).multiplyScalar(W),Y.groundColor.copy(N.groundColor).multiplyScalar(W),i.hemi[g]=Y,g++}}y>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Bt.LTC_FLOAT_1,i.rectAreaLTC2=Bt.LTC_FLOAT_2):(i.rectAreaLTC1=Bt.LTC_HALF_1,i.rectAreaLTC2=Bt.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=p;const I=i.hash;(I.directionalLength!==m||I.pointLength!==v||I.spotLength!==x||I.rectAreaLength!==y||I.hemiLength!==g||I.numDirectionalShadows!==S||I.numPointShadows!==w||I.numSpotShadows!==b||I.numSpotMaps!==P||I.numLightProbes!==B)&&(i.directional.length=m,i.spot.length=x,i.rectArea.length=y,i.point.length=v,i.hemi.length=g,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=b+P-T,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=T,i.numLightProbes=B,I.directionalLength=m,I.pointLength=v,I.spotLength=x,I.rectAreaLength=y,I.hemiLength=g,I.numDirectionalShadows=S,I.numPointShadows=w,I.numSpotShadows=b,I.numSpotMaps=P,I.numLightProbes=B,i.version=kDe++)}function l(c,h){let d=0,p=0,m=0,v=0,x=0;const y=h.matrixWorldInverse;for(let g=0,S=c.length;g<S;g++){const w=c[g];if(w.isDirectionalLight){const b=i.directional[d];b.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(y),d++}else if(w.isSpotLight){const b=i.spot[m];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),b.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(y),m++}else if(w.isRectAreaLight){const b=i.rectArea[v];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),o.identity(),s.copy(w.matrixWorld),s.premultiply(y),o.extractRotation(s),b.halfWidth.set(w.width*.5,0,0),b.halfHeight.set(0,w.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(w.isPointLight){const b=i.point[p];b.position.setFromMatrixPosition(w.matrixWorld),b.position.applyMatrix4(y),p++}else if(w.isHemisphereLight){const b=i.hemi[x];b.direction.setFromMatrixPosition(w.matrixWorld),b.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:i}}function L7(n){const e=new HDe(n),t=[],i=[];function r(h){c.camera=h,t.length=0,i.length=0}function s(h){t.push(h)}function o(h){i.push(h)}function a(){e.setup(t)}function l(h){e.setupView(t,h)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function GDe(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new L7(n),e.set(r,[a])):s>=o.length?(a=new L7(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}class cG extends yr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yse,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class uG extends yr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const VDe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,jDe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WDe(n,e,t){let i=new kM;const r=new nt,s=new nt,o=new Qn,a=new cG({depthPacking:xse}),l=new uG,c={},h=t.maxTextureSize,d={[fu]:mo,[mo]:fu,[hl]:hl},p=new dc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:VDe,fragmentShader:jDe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new ln;v.setAttribute("position",new Fn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new qi(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=aB;let g=this.type;this.render=function(T,B,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||T.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),j=n.state;j.setBlending(Fh),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const W=g!==Jl&&this.type===Jl,X=g===Jl&&this.type!==Jl;for(let Q=0,Y=T.length;Q<Y;Q++){const ie=T[Q],D=ie.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const z=D.getFrameExtents();if(r.multiply(z),s.copy(D.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/z.x),r.x=s.x*z.x,D.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/z.y),r.y=s.y*z.y,D.mapSize.y=s.y)),D.map===null||W===!0||X===!0){const ee=this.type!==Jl?{minFilter:Br,magFilter:Br}:{};D.map!==null&&D.map.dispose(),D.map=new hc(r.x,r.y,ee),D.map.texture.name=ie.name+".shadowMap",D.camera.updateProjectionMatrix()}n.setRenderTarget(D.map),n.clear();const H=D.getViewportCount();for(let ee=0;ee<H;ee++){const pe=D.getViewport(ee);o.set(s.x*pe.x,s.y*pe.y,s.x*pe.z,s.y*pe.w),j.viewport(o),D.updateMatrices(ie,ee),i=D.getFrustum(),b(B,I,D.camera,ie,this.type)}D.isPointLightShadow!==!0&&this.type===Jl&&S(D,I),D.needsUpdate=!1}g=this.type,y.needsUpdate=!1,n.setRenderTarget(R,C,N)};function S(T,B){const I=e.update(x);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new hc(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(B,null,I,p,x,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(B,null,I,m,x,null)}function w(T,B,I,R){let C=null;const N=I.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(N!==void 0)C=N;else if(C=I.isPointLight===!0?l:a,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0){const j=C.uuid,W=B.uuid;let X=c[j];X===void 0&&(X={},c[j]=X);let Q=X[W];Q===void 0&&(Q=C.clone(),X[W]=Q,B.addEventListener("dispose",P)),C=Q}if(C.visible=B.visible,C.wireframe=B.wireframe,R===Jl?C.side=B.shadowSide!==null?B.shadowSide:B.side:C.side=B.shadowSide!==null?B.shadowSide:d[B.side],C.alphaMap=B.alphaMap,C.alphaTest=B.alphaTest,C.map=B.map,C.clipShadows=B.clipShadows,C.clippingPlanes=B.clippingPlanes,C.clipIntersection=B.clipIntersection,C.displacementMap=B.displacementMap,C.displacementScale=B.displacementScale,C.displacementBias=B.displacementBias,C.wireframeLinewidth=B.wireframeLinewidth,C.linewidth=B.linewidth,I.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const j=n.properties.get(C);j.light=I}return C}function b(T,B,I,R,C){if(T.visible===!1)return;if(T.layers.test(B.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&C===Jl)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,T.matrixWorld);const W=e.update(T),X=T.material;if(Array.isArray(X)){const Q=W.groups;for(let Y=0,ie=Q.length;Y<ie;Y++){const D=Q[Y],z=X[D.materialIndex];if(z&&z.visible){const H=w(T,z,R,C);T.onBeforeShadow(n,T,B,I,W,H,D),n.renderBufferDirect(I,null,W,H,T,D),T.onAfterShadow(n,T,B,I,W,H,D)}}}else if(X.visible){const Q=w(T,X,R,C);T.onBeforeShadow(n,T,B,I,W,Q,null),n.renderBufferDirect(I,null,W,Q,T,null),T.onAfterShadow(n,T,B,I,W,Q,null)}}const j=T.children;for(let W=0,X=j.length;W<X;W++)b(j[W],B,I,R,C)}function P(T){T.target.removeEventListener("dispose",P);for(const I in c){const R=c[I],C=T.target.uuid;C in R&&(R[C].dispose(),delete R[C])}}}function XDe(n){function e(){let G=!1;const De=new Qn;let de=null;const ye=new Qn(0,0,0,0);return{setMask:function(Le){de!==Le&&!G&&(n.colorMask(Le,Le,Le,Le),de=Le)},setLocked:function(Le){G=Le},setClear:function(Le,Xe,dt,Ve,rt){rt===!0&&(Le*=Ve,Xe*=Ve,dt*=Ve),De.set(Le,Xe,dt,Ve),ye.equals(De)===!1&&(n.clearColor(Le,Xe,dt,Ve),ye.copy(De))},reset:function(){G=!1,de=null,ye.set(-1,0,0,0)}}}function t(){let G=!1,De=null,de=null,ye=null;return{setTest:function(Le){Le?be(n.DEPTH_TEST):xe(n.DEPTH_TEST)},setMask:function(Le){De!==Le&&!G&&(n.depthMask(Le),De=Le)},setFunc:function(Le){if(de!==Le){switch(Le){case Vre:n.depthFunc(n.NEVER);break;case jre:n.depthFunc(n.ALWAYS);break;case Wre:n.depthFunc(n.LESS);break;case Lw:n.depthFunc(n.LEQUAL);break;case Xre:n.depthFunc(n.EQUAL);break;case Jre:n.depthFunc(n.GEQUAL);break;case Kre:n.depthFunc(n.GREATER);break;case Yre:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}de=Le}},setLocked:function(Le){G=Le},setClear:function(Le){ye!==Le&&(n.clearDepth(Le),ye=Le)},reset:function(){G=!1,De=null,de=null,ye=null}}}function i(){let G=!1,De=null,de=null,ye=null,Le=null,Xe=null,dt=null,Ve=null,rt=null;return{setTest:function(pt){G||(pt?be(n.STENCIL_TEST):xe(n.STENCIL_TEST))},setMask:function(pt){De!==pt&&!G&&(n.stencilMask(pt),De=pt)},setFunc:function(pt,$t,Ue){(de!==pt||ye!==$t||Le!==Ue)&&(n.stencilFunc(pt,$t,Ue),de=pt,ye=$t,Le=Ue)},setOp:function(pt,$t,Ue){(Xe!==pt||dt!==$t||Ve!==Ue)&&(n.stencilOp(pt,$t,Ue),Xe=pt,dt=$t,Ve=Ue)},setLocked:function(pt){G=pt},setClear:function(pt){rt!==pt&&(n.clearStencil(pt),rt=pt)},reset:function(){G=!1,De=null,de=null,ye=null,Le=null,Xe=null,dt=null,Ve=null,rt=null}}}const r=new e,s=new t,o=new i,a=new WeakMap,l=new WeakMap;let c={},h={},d=new WeakMap,p=[],m=null,v=!1,x=null,y=null,g=null,S=null,w=null,b=null,P=null,T=new Ct(0,0,0),B=0,I=!1,R=null,C=null,N=null,j=null,W=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,Y=0;const ie=n.getParameter(n.VERSION);ie.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(ie)[1]),Q=Y>=1):ie.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(ie)[1]),Q=Y>=2);let D=null,z={};const H=n.getParameter(n.SCISSOR_BOX),ee=n.getParameter(n.VIEWPORT),pe=new Qn().fromArray(H),ke=new Qn().fromArray(ee);function ne(G,De,de,ye){const Le=new Uint8Array(4),Xe=n.createTexture();n.bindTexture(G,Xe),n.texParameteri(G,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(G,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let dt=0;dt<de;dt++)G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY?n.texImage3D(De,0,n.RGBA,1,1,ye,0,n.RGBA,n.UNSIGNED_BYTE,Le):n.texImage2D(De+dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Le);return Xe}const ve={};ve[n.TEXTURE_2D]=ne(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=ne(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=ne(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=ne(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),be(n.DEPTH_TEST),s.setFunc(Lw),_e(!1),Ne(JO),be(n.CULL_FACE),me(Fh);function be(G){c[G]!==!0&&(n.enable(G),c[G]=!0)}function xe(G){c[G]!==!1&&(n.disable(G),c[G]=!1)}function st(G,De){return h[G]!==De?(n.bindFramebuffer(G,De),h[G]=De,G===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=De),G===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=De),!0):!1}function Ke(G,De){let de=p,ye=!1;if(G){de=d.get(De),de===void 0&&(de=[],d.set(De,de));const Le=G.textures;if(de.length!==Le.length||de[0]!==n.COLOR_ATTACHMENT0){for(let Xe=0,dt=Le.length;Xe<dt;Xe++)de[Xe]=n.COLOR_ATTACHMENT0+Xe;de.length=Le.length,ye=!0}}else de[0]!==n.BACK&&(de[0]=n.BACK,ye=!0);ye&&n.drawBuffers(de)}function Ge(G){return m!==G?(n.useProgram(G),m=G,!0):!1}const U={[cf]:n.FUNC_ADD,[Ere]:n.FUNC_SUBTRACT,[Cre]:n.FUNC_REVERSE_SUBTRACT};U[Tre]=n.MIN,U[Rre]=n.MAX;const fe={[Pre]:n.ZERO,[Bre]:n.ONE,[Ire]:n.SRC_COLOR,[g2]:n.SRC_ALPHA,[Ure]:n.SRC_ALPHA_SATURATE,[Nre]:n.DST_COLOR,[Dre]:n.DST_ALPHA,[Lre]:n.ONE_MINUS_SRC_COLOR,[v2]:n.ONE_MINUS_SRC_ALPHA,[Ore]:n.ONE_MINUS_DST_COLOR,[Fre]:n.ONE_MINUS_DST_ALPHA,[kre]:n.CONSTANT_COLOR,[zre]:n.ONE_MINUS_CONSTANT_COLOR,[Hre]:n.CONSTANT_ALPHA,[Gre]:n.ONE_MINUS_CONSTANT_ALPHA};function me(G,De,de,ye,Le,Xe,dt,Ve,rt,pt){if(G===Fh){v===!0&&(xe(n.BLEND),v=!1);return}if(v===!1&&(be(n.BLEND),v=!0),G!==bre){if(G!==x||pt!==I){if((y!==cf||w!==cf)&&(n.blendEquation(n.FUNC_ADD),y=cf,w=cf),pt)switch(G){case Sg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case KO:n.blendFunc(n.ONE,n.ONE);break;case YO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case QO:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}else switch(G){case Sg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case KO:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case YO:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case QO:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}g=null,S=null,b=null,P=null,T.set(0,0,0),B=0,x=G,I=pt}return}Le=Le||De,Xe=Xe||de,dt=dt||ye,(De!==y||Le!==w)&&(n.blendEquationSeparate(U[De],U[Le]),y=De,w=Le),(de!==g||ye!==S||Xe!==b||dt!==P)&&(n.blendFuncSeparate(fe[de],fe[ye],fe[Xe],fe[dt]),g=de,S=ye,b=Xe,P=dt),(Ve.equals(T)===!1||rt!==B)&&(n.blendColor(Ve.r,Ve.g,Ve.b,rt),T.copy(Ve),B=rt),x=G,I=!1}function Ce(G,De){G.side===hl?xe(n.CULL_FACE):be(n.CULL_FACE);let de=G.side===mo;De&&(de=!de),_e(de),G.blending===Sg&&G.transparent===!1?me(Fh):me(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.blendColor,G.blendAlpha,G.premultipliedAlpha),s.setFunc(G.depthFunc),s.setTest(G.depthTest),s.setMask(G.depthWrite),r.setMask(G.colorWrite);const ye=G.stencilWrite;o.setTest(ye),ye&&(o.setMask(G.stencilWriteMask),o.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),o.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),Re(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),G.alphaToCoverage===!0?be(n.SAMPLE_ALPHA_TO_COVERAGE):xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function _e(G){R!==G&&(G?n.frontFace(n.CW):n.frontFace(n.CCW),R=G)}function Ne(G){G!==Sre?(be(n.CULL_FACE),G!==C&&(G===JO?n.cullFace(n.BACK):G===wre?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):xe(n.CULL_FACE),C=G}function Oe(G){G!==N&&(Q&&n.lineWidth(G),N=G)}function Re(G,De,de){G?(be(n.POLYGON_OFFSET_FILL),(j!==De||W!==de)&&(n.polygonOffset(De,de),j=De,W=de)):xe(n.POLYGON_OFFSET_FILL)}function at(G){G?be(n.SCISSOR_TEST):xe(n.SCISSOR_TEST)}function k(G){G===void 0&&(G=n.TEXTURE0+X-1),D!==G&&(n.activeTexture(G),D=G)}function F(G,De,de){de===void 0&&(D===null?de=n.TEXTURE0+X-1:de=D);let ye=z[de];ye===void 0&&(ye={type:void 0,texture:void 0},z[de]=ye),(ye.type!==G||ye.texture!==De)&&(D!==de&&(n.activeTexture(de),D=de),n.bindTexture(G,De||ve[G]),ye.type=G,ye.texture=De)}function se(){const G=z[D];G!==void 0&&G.type!==void 0&&(n.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)}function ge(){try{n.compressedTexImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ae(){try{n.compressedTexImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Se(){try{n.texSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function qe(){try{n.texSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ie(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ze(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ct(){try{n.texStorage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Te(){try{n.texStorage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function $e(){try{n.texImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ht(){try{n.texImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ye(G){pe.equals(G)===!1&&(n.scissor(G.x,G.y,G.z,G.w),pe.copy(G))}function te(G){ke.equals(G)===!1&&(n.viewport(G.x,G.y,G.z,G.w),ke.copy(G))}function $(G,De){let de=l.get(De);de===void 0&&(de=new WeakMap,l.set(De,de));let ye=de.get(G);ye===void 0&&(ye=n.getUniformBlockIndex(De,G.name),de.set(G,ye))}function Me(G,De){const ye=l.get(De).get(G);a.get(De)!==ye&&(n.uniformBlockBinding(De,ye,G.__bindingPointIndex),a.set(De,ye))}function Qe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},D=null,z={},h={},d=new WeakMap,p=[],m=null,v=!1,x=null,y=null,g=null,S=null,w=null,b=null,P=null,T=new Ct(0,0,0),B=0,I=!1,R=null,C=null,N=null,j=null,W=null,pe.set(0,0,n.canvas.width,n.canvas.height),ke.set(0,0,n.canvas.width,n.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:be,disable:xe,bindFramebuffer:st,drawBuffers:Ke,useProgram:Ge,setBlending:me,setMaterial:Ce,setFlipSided:_e,setCullFace:Ne,setLineWidth:Oe,setPolygonOffset:Re,setScissorTest:at,activeTexture:k,bindTexture:F,unbindTexture:se,compressedTexImage2D:ge,compressedTexImage3D:Ae,texImage2D:$e,texImage3D:ht,updateUBOMapping:$,uniformBlockBinding:Me,texStorage2D:ct,texStorage3D:Te,texSubImage2D:Se,texSubImage3D:qe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:ze,scissor:Ye,viewport:te,reset:Qe}}function JDe(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new nt,h=new WeakMap;let d;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(k,F){return m?new OffscreenCanvas(k,F):Vw("canvas")}function x(k,F,se){let ge=1;const Ae=at(k);if((Ae.width>se||Ae.height>se)&&(ge=se/Math.max(Ae.width,Ae.height)),ge<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const Se=Math.floor(ge*Ae.width),qe=Math.floor(ge*Ae.height);d===void 0&&(d=v(Se,qe));const Ie=F?v(Se,qe):d;return Ie.width=Se,Ie.height=qe,Ie.getContext("2d").drawImage(k,0,0,Se,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ae.width+"x"+Ae.height+") to ("+Se+"x"+qe+")."),Ie}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ae.width+"x"+Ae.height+")."),k;return k}function y(k){return k.generateMipmaps&&k.minFilter!==Br&&k.minFilter!==Yi}function g(k){n.generateMipmap(k)}function S(k,F,se,ge,Ae=!1){if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Se=F;if(F===n.RED&&(se===n.FLOAT&&(Se=n.R32F),se===n.HALF_FLOAT&&(Se=n.R16F),se===n.UNSIGNED_BYTE&&(Se=n.R8)),F===n.RED_INTEGER&&(se===n.UNSIGNED_BYTE&&(Se=n.R8UI),se===n.UNSIGNED_SHORT&&(Se=n.R16UI),se===n.UNSIGNED_INT&&(Se=n.R32UI),se===n.BYTE&&(Se=n.R8I),se===n.SHORT&&(Se=n.R16I),se===n.INT&&(Se=n.R32I)),F===n.RG&&(se===n.FLOAT&&(Se=n.RG32F),se===n.HALF_FLOAT&&(Se=n.RG16F),se===n.UNSIGNED_BYTE&&(Se=n.RG8)),F===n.RG_INTEGER&&(se===n.UNSIGNED_BYTE&&(Se=n.RG8UI),se===n.UNSIGNED_SHORT&&(Se=n.RG16UI),se===n.UNSIGNED_INT&&(Se=n.RG32UI),se===n.BYTE&&(Se=n.RG8I),se===n.SHORT&&(Se=n.RG16I),se===n.INT&&(Se=n.RG32I)),F===n.RGB&&se===n.UNSIGNED_INT_5_9_9_9_REV&&(Se=n.RGB9_E5),F===n.RGBA){const qe=Ae?Uw:Gn.getTransfer(ge);se===n.FLOAT&&(Se=n.RGBA32F),se===n.HALF_FLOAT&&(Se=n.RGBA16F),se===n.UNSIGNED_BYTE&&(Se=qe===li?n.SRGB8_ALPHA8:n.RGBA8),se===n.UNSIGNED_SHORT_4_4_4_4&&(Se=n.RGBA4),se===n.UNSIGNED_SHORT_5_5_5_1&&(Se=n.RGB5_A1)}return(Se===n.R16F||Se===n.R32F||Se===n.RG16F||Se===n.RG32F||Se===n.RGBA16F||Se===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Se}function w(k,F){let se;return k?F===null||F===Qg||F===qg?se=n.DEPTH24_STENCIL8:F===da?se=n.DEPTH32F_STENCIL8:F===Nw&&(se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===Qg||F===qg?se=n.DEPTH_COMPONENT24:F===da?se=n.DEPTH_COMPONENT32F:F===Nw&&(se=n.DEPTH_COMPONENT16),se}function b(k,F){return y(k)===!0||k.isFramebufferTexture&&k.minFilter!==Br&&k.minFilter!==Yi?Math.log2(Math.max(F.width,F.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?F.mipmaps.length:1}function P(k){const F=k.target;F.removeEventListener("dispose",P),B(F),F.isVideoTexture&&h.delete(F)}function T(k){const F=k.target;F.removeEventListener("dispose",T),R(F)}function B(k){const F=i.get(k);if(F.__webglInit===void 0)return;const se=k.source,ge=p.get(se);if(ge){const Ae=ge[F.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&I(k),Object.keys(ge).length===0&&p.delete(se)}i.remove(k)}function I(k){const F=i.get(k);n.deleteTexture(F.__webglTexture);const se=k.source,ge=p.get(se);delete ge[F.__cacheKey],o.memory.textures--}function R(k){const F=i.get(k);if(k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++){if(Array.isArray(F.__webglFramebuffer[ge]))for(let Ae=0;Ae<F.__webglFramebuffer[ge].length;Ae++)n.deleteFramebuffer(F.__webglFramebuffer[ge][Ae]);else n.deleteFramebuffer(F.__webglFramebuffer[ge]);F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[ge])}else{if(Array.isArray(F.__webglFramebuffer))for(let ge=0;ge<F.__webglFramebuffer.length;ge++)n.deleteFramebuffer(F.__webglFramebuffer[ge]);else n.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let ge=0;ge<F.__webglColorRenderbuffer.length;ge++)F.__webglColorRenderbuffer[ge]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[ge]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const se=k.textures;for(let ge=0,Ae=se.length;ge<Ae;ge++){const Se=i.get(se[ge]);Se.__webglTexture&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),i.remove(se[ge])}i.remove(k)}let C=0;function N(){C=0}function j(){const k=C;return k>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+r.maxTextures),C+=1,k}function W(k){const F=[];return F.push(k.wrapS),F.push(k.wrapT),F.push(k.wrapR||0),F.push(k.magFilter),F.push(k.minFilter),F.push(k.anisotropy),F.push(k.internalFormat),F.push(k.format),F.push(k.type),F.push(k.generateMipmaps),F.push(k.premultiplyAlpha),F.push(k.flipY),F.push(k.unpackAlignment),F.push(k.colorSpace),F.join()}function X(k,F){const se=i.get(k);if(k.isVideoTexture&&Oe(k),k.isRenderTargetTexture===!1&&k.version>0&&se.__version!==k.version){const ge=k.image;if(ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(se,k,F);return}}t.bindTexture(n.TEXTURE_2D,se.__webglTexture,n.TEXTURE0+F)}function Q(k,F){const se=i.get(k);if(k.version>0&&se.__version!==k.version){ke(se,k,F);return}t.bindTexture(n.TEXTURE_2D_ARRAY,se.__webglTexture,n.TEXTURE0+F)}function Y(k,F){const se=i.get(k);if(k.version>0&&se.__version!==k.version){ke(se,k,F);return}t.bindTexture(n.TEXTURE_3D,se.__webglTexture,n.TEXTURE0+F)}function ie(k,F){const se=i.get(k);if(k.version>0&&se.__version!==k.version){ne(se,k,F);return}t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+F)}const D={[Jf]:n.REPEAT,[ha]:n.CLAMP_TO_EDGE,[Jx]:n.MIRRORED_REPEAT},z={[Br]:n.NEAREST,[cB]:n.NEAREST_MIPMAP_NEAREST,[ng]:n.NEAREST_MIPMAP_LINEAR,[Yi]:n.LINEAR,[gx]:n.LINEAR_MIPMAP_NEAREST,[gl]:n.LINEAR_MIPMAP_LINEAR},H={[Ase]:n.NEVER,[Cse]:n.ALWAYS,[Sse]:n.LESS,[$H]:n.LEQUAL,[wse]:n.EQUAL,[Ese]:n.GEQUAL,[Mse]:n.GREATER,[bse]:n.NOTEQUAL};function ee(k,F){if(F.type===da&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===Yi||F.magFilter===gx||F.magFilter===ng||F.magFilter===gl||F.minFilter===Yi||F.minFilter===gx||F.minFilter===ng||F.minFilter===gl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(k,n.TEXTURE_WRAP_S,D[F.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,D[F.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,D[F.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,z[F.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,z[F.minFilter]),F.compareFunction&&(n.texParameteri(k,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(k,n.TEXTURE_COMPARE_FUNC,H[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Br||F.minFilter!==ng&&F.minFilter!==gl||F.type===da&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(k,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function pe(k,F){let se=!1;k.__webglInit===void 0&&(k.__webglInit=!0,F.addEventListener("dispose",P));const ge=F.source;let Ae=p.get(ge);Ae===void 0&&(Ae={},p.set(ge,Ae));const Se=W(F);if(Se!==k.__cacheKey){Ae[Se]===void 0&&(Ae[Se]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,se=!0),Ae[Se].usedTimes++;const qe=Ae[k.__cacheKey];qe!==void 0&&(Ae[k.__cacheKey].usedTimes--,qe.usedTimes===0&&I(F)),k.__cacheKey=Se,k.__webglTexture=Ae[Se].texture}return se}function ke(k,F,se){let ge=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(ge=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(ge=n.TEXTURE_3D);const Ae=pe(k,F),Se=F.source;t.bindTexture(ge,k.__webglTexture,n.TEXTURE0+se);const qe=i.get(Se);if(Se.version!==qe.__version||Ae===!0){t.activeTexture(n.TEXTURE0+se);const Ie=Gn.getPrimaries(Gn.workingColorSpace),ze=F.colorSpace===mh?null:Gn.getPrimaries(F.colorSpace),ct=F.colorSpace===mh||Ie===ze?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);let Te=x(F.image,!1,r.maxTextureSize);Te=Re(F,Te);const $e=s.convert(F.format,F.colorSpace),ht=s.convert(F.type);let Ye=S(F.internalFormat,$e,ht,F.colorSpace,F.isVideoTexture);ee(ge,F);let te;const $=F.mipmaps,Me=F.isVideoTexture!==!0,Qe=qe.__version===void 0||Ae===!0,G=Se.dataReady,De=b(F,Te);if(F.isDepthTexture)Ye=w(F.format===$g,F.type),Qe&&(Me?t.texStorage2D(n.TEXTURE_2D,1,Ye,Te.width,Te.height):t.texImage2D(n.TEXTURE_2D,0,Ye,Te.width,Te.height,0,$e,ht,null));else if(F.isDataTexture)if($.length>0){Me&&Qe&&t.texStorage2D(n.TEXTURE_2D,De,Ye,$[0].width,$[0].height);for(let de=0,ye=$.length;de<ye;de++)te=$[de],Me?G&&t.texSubImage2D(n.TEXTURE_2D,de,0,0,te.width,te.height,$e,ht,te.data):t.texImage2D(n.TEXTURE_2D,de,Ye,te.width,te.height,0,$e,ht,te.data);F.generateMipmaps=!1}else Me?(Qe&&t.texStorage2D(n.TEXTURE_2D,De,Ye,Te.width,Te.height),G&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Te.width,Te.height,$e,ht,Te.data)):t.texImage2D(n.TEXTURE_2D,0,Ye,Te.width,Te.height,0,$e,ht,Te.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Me&&Qe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Ye,$[0].width,$[0].height,Te.depth);for(let de=0,ye=$.length;de<ye;de++)if(te=$[de],F.format!==uo)if($e!==null)if(Me){if(G)if(F.layerUpdates.size>0){for(const Le of F.layerUpdates){const Xe=te.width*te.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,Le,te.width,te.height,1,$e,te.data.slice(Xe*Le,Xe*(Le+1)),0,0)}F.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,te.width,te.height,Te.depth,$e,te.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,de,Ye,te.width,te.height,Te.depth,0,te.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?G&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,te.width,te.height,Te.depth,$e,ht,te.data):t.texImage3D(n.TEXTURE_2D_ARRAY,de,Ye,te.width,te.height,Te.depth,0,$e,ht,te.data)}else{Me&&Qe&&t.texStorage2D(n.TEXTURE_2D,De,Ye,$[0].width,$[0].height);for(let de=0,ye=$.length;de<ye;de++)te=$[de],F.format!==uo?$e!==null?Me?G&&t.compressedTexSubImage2D(n.TEXTURE_2D,de,0,0,te.width,te.height,$e,te.data):t.compressedTexImage2D(n.TEXTURE_2D,de,Ye,te.width,te.height,0,te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?G&&t.texSubImage2D(n.TEXTURE_2D,de,0,0,te.width,te.height,$e,ht,te.data):t.texImage2D(n.TEXTURE_2D,de,Ye,te.width,te.height,0,$e,ht,te.data)}else if(F.isDataArrayTexture)if(Me){if(Qe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Ye,Te.width,Te.height,Te.depth),G)if(F.layerUpdates.size>0){let de;switch(ht){case n.UNSIGNED_BYTE:switch($e){case n.ALPHA:de=1;break;case n.LUMINANCE:de=1;break;case n.LUMINANCE_ALPHA:de=2;break;case n.RGB:de=3;break;case n.RGBA:de=4;break;default:throw new Error(`Unknown texel size for format ${$e}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:de=1;break;default:throw new Error(`Unknown texel size for type ${ht}.`)}const ye=Te.width*Te.height*de;for(const Le of F.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Le,Te.width,Te.height,1,$e,ht,Te.data.slice(ye*Le,ye*(Le+1)));F.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Te.width,Te.height,Te.depth,$e,ht,Te.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ye,Te.width,Te.height,Te.depth,0,$e,ht,Te.data);else if(F.isData3DTexture)Me?(Qe&&t.texStorage3D(n.TEXTURE_3D,De,Ye,Te.width,Te.height,Te.depth),G&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Te.width,Te.height,Te.depth,$e,ht,Te.data)):t.texImage3D(n.TEXTURE_3D,0,Ye,Te.width,Te.height,Te.depth,0,$e,ht,Te.data);else if(F.isFramebufferTexture){if(Qe)if(Me)t.texStorage2D(n.TEXTURE_2D,De,Ye,Te.width,Te.height);else{let de=Te.width,ye=Te.height;for(let Le=0;Le<De;Le++)t.texImage2D(n.TEXTURE_2D,Le,Ye,de,ye,0,$e,ht,null),de>>=1,ye>>=1}}else if($.length>0){if(Me&&Qe){const de=at($[0]);t.texStorage2D(n.TEXTURE_2D,De,Ye,de.width,de.height)}for(let de=0,ye=$.length;de<ye;de++)te=$[de],Me?G&&t.texSubImage2D(n.TEXTURE_2D,de,0,0,$e,ht,te):t.texImage2D(n.TEXTURE_2D,de,Ye,$e,ht,te);F.generateMipmaps=!1}else if(Me){if(Qe){const de=at(Te);t.texStorage2D(n.TEXTURE_2D,De,Ye,de.width,de.height)}G&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,$e,ht,Te)}else t.texImage2D(n.TEXTURE_2D,0,Ye,$e,ht,Te);y(F)&&g(ge),qe.__version=Se.version,F.onUpdate&&F.onUpdate(F)}k.__version=F.version}function ne(k,F,se){if(F.image.length!==6)return;const ge=pe(k,F),Ae=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+se);const Se=i.get(Ae);if(Ae.version!==Se.__version||ge===!0){t.activeTexture(n.TEXTURE0+se);const qe=Gn.getPrimaries(Gn.workingColorSpace),Ie=F.colorSpace===mh?null:Gn.getPrimaries(F.colorSpace),ze=F.colorSpace===mh||qe===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const ct=F.isCompressedTexture||F.image[0].isCompressedTexture,Te=F.image[0]&&F.image[0].isDataTexture,$e=[];for(let ye=0;ye<6;ye++)!ct&&!Te?$e[ye]=x(F.image[ye],!0,r.maxCubemapSize):$e[ye]=Te?F.image[ye].image:F.image[ye],$e[ye]=Re(F,$e[ye]);const ht=$e[0],Ye=s.convert(F.format,F.colorSpace),te=s.convert(F.type),$=S(F.internalFormat,Ye,te,F.colorSpace),Me=F.isVideoTexture!==!0,Qe=Se.__version===void 0||ge===!0,G=Ae.dataReady;let De=b(F,ht);ee(n.TEXTURE_CUBE_MAP,F);let de;if(ct){Me&&Qe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,De,$,ht.width,ht.height);for(let ye=0;ye<6;ye++){de=$e[ye].mipmaps;for(let Le=0;Le<de.length;Le++){const Xe=de[Le];F.format!==uo?Ye!==null?Me?G&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,0,0,Xe.width,Xe.height,Ye,Xe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,$,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,0,0,Xe.width,Xe.height,Ye,te,Xe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le,$,Xe.width,Xe.height,0,Ye,te,Xe.data)}}}else{if(de=F.mipmaps,Me&&Qe){de.length>0&&De++;const ye=at($e[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,De,$,ye.width,ye.height)}for(let ye=0;ye<6;ye++)if(Te){Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,0,0,$e[ye].width,$e[ye].height,Ye,te,$e[ye].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,$,$e[ye].width,$e[ye].height,0,Ye,te,$e[ye].data);for(let Le=0;Le<de.length;Le++){const dt=de[Le].image[ye].image;Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,0,0,dt.width,dt.height,Ye,te,dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,$,dt.width,dt.height,0,Ye,te,dt.data)}}else{Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,0,0,Ye,te,$e[ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0,$,Ye,te,$e[ye]);for(let Le=0;Le<de.length;Le++){const Xe=de[Le];Me?G&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,0,0,Ye,te,Xe.image[ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Le+1,$,Ye,te,Xe.image[ye])}}}y(F)&&g(n.TEXTURE_CUBE_MAP),Se.__version=Ae.version,F.onUpdate&&F.onUpdate(F)}k.__version=F.version}function ve(k,F,se,ge,Ae,Se){const qe=s.convert(se.format,se.colorSpace),Ie=s.convert(se.type),ze=S(se.internalFormat,qe,Ie,se.colorSpace);if(!i.get(F).__hasExternalTextures){const Te=Math.max(1,F.width>>Se),$e=Math.max(1,F.height>>Se);Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?t.texImage3D(Ae,Se,ze,Te,$e,F.depth,0,qe,Ie,null):t.texImage2D(Ae,Se,ze,Te,$e,0,qe,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,k),Ne(F)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ge,Ae,i.get(se).__webglTexture,0,_e(F)):(Ae===n.TEXTURE_2D||Ae>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ge,Ae,i.get(se).__webglTexture,Se),t.bindFramebuffer(n.FRAMEBUFFER,null)}function be(k,F,se){if(n.bindRenderbuffer(n.RENDERBUFFER,k),F.depthBuffer){const ge=F.depthTexture,Ae=ge&&ge.isDepthTexture?ge.type:null,Se=w(F.stencilBuffer,Ae),qe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=_e(F);Ne(F)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ie,Se,F.width,F.height):se?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ie,Se,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,Se,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,qe,n.RENDERBUFFER,k)}else{const ge=F.textures;for(let Ae=0;Ae<ge.length;Ae++){const Se=ge[Ae],qe=s.convert(Se.format,Se.colorSpace),Ie=s.convert(Se.type),ze=S(Se.internalFormat,qe,Ie,Se.colorSpace),ct=_e(F);se&&Ne(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,ze,F.width,F.height):Ne(F)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ct,ze,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,ze,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function xe(k,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),X(F.depthTexture,0);const ge=i.get(F.depthTexture).__webglTexture,Ae=_e(F);if(F.depthTexture.format===wg)Ne(F)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ge,0);else if(F.depthTexture.format===$g)Ne(F)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0,Ae):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ge,0);else throw new Error("Unknown depthTexture format")}function st(k){const F=i.get(k),se=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!F.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");xe(F.__webglFramebuffer,k)}else if(se){F.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[ge]),F.__webglDepthbuffer[ge]=n.createRenderbuffer(),be(F.__webglDepthbuffer[ge],k,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),be(F.__webglDepthbuffer,k,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ke(k,F,se){const ge=i.get(k);F!==void 0&&ve(ge.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),se!==void 0&&st(k)}function Ge(k){const F=k.texture,se=i.get(k),ge=i.get(F);k.addEventListener("dispose",T);const Ae=k.textures,Se=k.isWebGLCubeRenderTarget===!0,qe=Ae.length>1;if(qe||(ge.__webglTexture===void 0&&(ge.__webglTexture=n.createTexture()),ge.__version=F.version,o.memory.textures++),Se){se.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(F.mipmaps&&F.mipmaps.length>0){se.__webglFramebuffer[Ie]=[];for(let ze=0;ze<F.mipmaps.length;ze++)se.__webglFramebuffer[Ie][ze]=n.createFramebuffer()}else se.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){se.__webglFramebuffer=[];for(let Ie=0;Ie<F.mipmaps.length;Ie++)se.__webglFramebuffer[Ie]=n.createFramebuffer()}else se.__webglFramebuffer=n.createFramebuffer();if(qe)for(let Ie=0,ze=Ae.length;Ie<ze;Ie++){const ct=i.get(Ae[Ie]);ct.__webglTexture===void 0&&(ct.__webglTexture=n.createTexture(),o.memory.textures++)}if(k.samples>0&&Ne(k)===!1){se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let Ie=0;Ie<Ae.length;Ie++){const ze=Ae[Ie];se.__webglColorRenderbuffer[Ie]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,se.__webglColorRenderbuffer[Ie]);const ct=s.convert(ze.format,ze.colorSpace),Te=s.convert(ze.type),$e=S(ze.internalFormat,ct,Te,ze.colorSpace,k.isXRRenderTarget===!0),ht=_e(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,ht,$e,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ie,n.RENDERBUFFER,se.__webglColorRenderbuffer[Ie])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),be(se.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture),ee(n.TEXTURE_CUBE_MAP,F);for(let Ie=0;Ie<6;Ie++)if(F.mipmaps&&F.mipmaps.length>0)for(let ze=0;ze<F.mipmaps.length;ze++)ve(se.__webglFramebuffer[Ie][ze],k,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,ze);else ve(se.__webglFramebuffer[Ie],k,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);y(F)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(qe){for(let Ie=0,ze=Ae.length;Ie<ze;Ie++){const ct=Ae[Ie],Te=i.get(ct);t.bindTexture(n.TEXTURE_2D,Te.__webglTexture),ee(n.TEXTURE_2D,ct),ve(se.__webglFramebuffer,k,ct,n.COLOR_ATTACHMENT0+Ie,n.TEXTURE_2D,0),y(ct)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(Ie=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ie,ge.__webglTexture),ee(Ie,F),F.mipmaps&&F.mipmaps.length>0)for(let ze=0;ze<F.mipmaps.length;ze++)ve(se.__webglFramebuffer[ze],k,F,n.COLOR_ATTACHMENT0,Ie,ze);else ve(se.__webglFramebuffer,k,F,n.COLOR_ATTACHMENT0,Ie,0);y(F)&&g(Ie),t.unbindTexture()}k.depthBuffer&&st(k)}function U(k){const F=k.textures;for(let se=0,ge=F.length;se<ge;se++){const Ae=F[se];if(y(Ae)){const Se=k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,qe=i.get(Ae).__webglTexture;t.bindTexture(Se,qe),g(Se),t.unbindTexture()}}}const fe=[],me=[];function Ce(k){if(k.samples>0){if(Ne(k)===!1){const F=k.textures,se=k.width,ge=k.height;let Ae=n.COLOR_BUFFER_BIT;const Se=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qe=i.get(k),Ie=F.length>1;if(Ie)for(let ze=0;ze<F.length;ze++)t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let ze=0;ze<F.length;ze++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(Ae|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(Ae|=n.STENCIL_BUFFER_BIT)),Ie){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,qe.__webglColorRenderbuffer[ze]);const ct=i.get(F[ze]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ct,0)}n.blitFramebuffer(0,0,se,ge,0,0,se,ge,Ae,n.NEAREST),l===!0&&(fe.length=0,me.length=0,fe.push(n.COLOR_ATTACHMENT0+ze),k.depthBuffer&&k.resolveDepthBuffer===!1&&(fe.push(Se),me.push(Se),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,me)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,fe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ie)for(let ze=0;ze<F.length;ze++){t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.RENDERBUFFER,qe.__webglColorRenderbuffer[ze]);const ct=i.get(F[ze]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,qe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ze,n.TEXTURE_2D,ct,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&l){const F=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[F])}}}function _e(k){return Math.min(r.maxSamples,k.samples)}function Ne(k){const F=i.get(k);return k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Oe(k){const F=o.render.frame;h.get(k)!==F&&(h.set(k,F),k.update())}function Re(k,F){const se=k.colorSpace,ge=k.format,Ae=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||se!==sd&&se!==mh&&(Gn.getTransfer(se)===li?(ge!==uo||Ae!==pu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),F}function at(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(c.width=k.naturalWidth||k.width,c.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(c.width=k.displayWidth,c.height=k.displayHeight):(c.width=k.width,c.height=k.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=N,this.setTexture2D=X,this.setTexture2DArray=Q,this.setTexture3D=Y,this.setTextureCube=ie,this.rebindTextures=Ke,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=U,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=st,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ne}function Hse(n,e){function t(i,r=mh){let s;const o=Gn.getTransfer(r);if(i===pu)return n.UNSIGNED_BYTE;if(i===jH)return n.UNSIGNED_SHORT_4_4_4_4;if(i===WH)return n.UNSIGNED_SHORT_5_5_5_1;if(i===ase)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===sse)return n.BYTE;if(i===ose)return n.SHORT;if(i===Nw)return n.UNSIGNED_SHORT;if(i===VH)return n.INT;if(i===Qg)return n.UNSIGNED_INT;if(i===da)return n.FLOAT;if(i===FM)return n.HALF_FLOAT;if(i===lse)return n.ALPHA;if(i===cse)return n.RGB;if(i===uo)return n.RGBA;if(i===use)return n.LUMINANCE;if(i===hse)return n.LUMINANCE_ALPHA;if(i===wg)return n.DEPTH_COMPONENT;if(i===$g)return n.DEPTH_STENCIL;if(i===XH)return n.RED;if(i===JH)return n.RED_INTEGER;if(i===dse)return n.RG;if(i===KH)return n.RG_INTEGER;if(i===YH)return n.RGBA_INTEGER;if(i===HT||i===GT||i===VT||i===jT)if(o===li)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===HT)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===GT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===VT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===jT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===HT)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===GT)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===VT)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===jT)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===$O||i===ZO||i===eU||i===tU)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===$O)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===ZO)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===eU)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===tU)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===nU||i===iU||i===rU)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===nU||i===iU)return o===li?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===rU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===sU||i===oU||i===aU||i===lU||i===cU||i===uU||i===hU||i===dU||i===fU||i===pU||i===mU||i===gU||i===vU||i===yU)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===sU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===oU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===aU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===lU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===cU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===uU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===hU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===dU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===fU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===pU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===mU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===gU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===vU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===yU)return o===li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===WT||i===xU||i===_U)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===WT)return o===li?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===xU)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===_U)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===fse||i===AU||i===SU||i===wU)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===WT)return s.COMPRESSED_RED_RGTC1_EXT;if(i===AU)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===SU)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===wU)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===qg?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class Gse extends _i{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Mh extends Pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const KDe={type:"move"};class KD{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=t.getJointPose(x,i),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(KDe)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Mh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const YDe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,QDe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class qDe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new si,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new dc({vertexShader:YDe,fragmentShader:QDe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new qi(new b1(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class $De extends xu{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,h=null,d=null,p=null,m=null,v=null;const x=new qDe,y=t.getContextAttributes();let g=null,S=null;const w=[],b=[],P=new nt;let T=null;const B=new _i;B.layers.enable(1),B.viewport=new Qn;const I=new _i;I.layers.enable(2),I.viewport=new Qn;const R=[B,I],C=new Gse;C.layers.enable(1),C.layers.enable(2);let N=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let ve=w[ne];return ve===void 0&&(ve=new KD,w[ne]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(ne){let ve=w[ne];return ve===void 0&&(ve=new KD,w[ne]=ve),ve.getGripSpace()},this.getHand=function(ne){let ve=w[ne];return ve===void 0&&(ve=new KD,w[ne]=ve),ve.getHandSpace()};function W(ne){const ve=b.indexOf(ne.inputSource);if(ve===-1)return;const be=w[ve];be!==void 0&&(be.update(ne.inputSource,ne.frame,c||o),be.dispatchEvent({type:ne.type,data:ne.inputSource}))}function X(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",Q);for(let ne=0;ne<w.length;ne++){const ve=b[ne];ve!==null&&(b[ne]=null,w[ne].disconnect(ve))}N=null,j=null,x.reset(),e.setRenderTarget(g),m=null,p=null,d=null,r=null,S=null,ke.stop(),i.isPresenting=!1,e.setPixelRatio(T),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ne){c=ne},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(ne){if(r=ne,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",X),r.addEventListener("inputsourceschange",Q),y.xrCompatible!==!0&&await t.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(P),r.renderState.layers===void 0){const ve={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ve),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new hc(m.framebufferWidth,m.framebufferHeight,{format:uo,type:pu,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ve=null,be=null,xe=null;y.depth&&(xe=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=y.stencil?$g:wg,be=y.stencil?qg:Qg);const st={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(st),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),S=new hc(p.textureWidth,p.textureHeight,{format:uo,type:pu,depthTexture:new lG(p.textureWidth,p.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ke.setContext(r),ke.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Q(ne){for(let ve=0;ve<ne.removed.length;ve++){const be=ne.removed[ve],xe=b.indexOf(be);xe>=0&&(b[xe]=null,w[xe].disconnect(be))}for(let ve=0;ve<ne.added.length;ve++){const be=ne.added[ve];let xe=b.indexOf(be);if(xe===-1){for(let Ke=0;Ke<w.length;Ke++)if(Ke>=b.length){b.push(be),xe=Ke;break}else if(b[Ke]===null){b[Ke]=be,xe=Ke;break}if(xe===-1)break}const st=w[xe];st&&st.connect(be)}}const Y=new le,ie=new le;function D(ne,ve,be){Y.setFromMatrixPosition(ve.matrixWorld),ie.setFromMatrixPosition(be.matrixWorld);const xe=Y.distanceTo(ie),st=ve.projectionMatrix.elements,Ke=be.projectionMatrix.elements,Ge=st[14]/(st[10]-1),U=st[14]/(st[10]+1),fe=(st[9]+1)/st[5],me=(st[9]-1)/st[5],Ce=(st[8]-1)/st[0],_e=(Ke[8]+1)/Ke[0],Ne=Ge*Ce,Oe=Ge*_e,Re=xe/(-Ce+_e),at=Re*-Ce;ve.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(at),ne.translateZ(Re),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const k=Ge+Re,F=U+Re,se=Ne-at,ge=Oe+(xe-at),Ae=fe*U/F*k,Se=me*U/F*k;ne.projectionMatrix.makePerspective(se,ge,Ae,Se,k,F),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}function z(ne,ve){ve===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(ve.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(r===null)return;x.texture!==null&&(ne.near=x.depthNear,ne.far=x.depthFar),C.near=I.near=B.near=ne.near,C.far=I.far=B.far=ne.far,(N!==C.near||j!==C.far)&&(r.updateRenderState({depthNear:C.near,depthFar:C.far}),N=C.near,j=C.far,B.near=N,B.far=j,I.near=N,I.far=j,B.updateProjectionMatrix(),I.updateProjectionMatrix(),ne.updateProjectionMatrix());const ve=ne.parent,be=C.cameras;z(C,ve);for(let xe=0;xe<be.length;xe++)z(be[xe],ve);be.length===2?D(C,B,I):C.projectionMatrix.copy(B.projectionMatrix),H(ne,C,ve)};function H(ne,ve,be){be===null?ne.matrix.copy(ve.matrixWorld):(ne.matrix.copy(be.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(ve.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(ve.projectionMatrix),ne.projectionMatrixInverse.copy(ve.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=Qx*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ne){l=ne,p!==null&&(p.fixedFoveation=ne),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ne)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(C)};let ee=null;function pe(ne,ve){if(h=ve.getViewerPose(c||o),v=ve,h!==null){const be=h.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let xe=!1;be.length!==C.cameras.length&&(C.cameras.length=0,xe=!0);for(let Ke=0;Ke<be.length;Ke++){const Ge=be[Ke];let U=null;if(m!==null)U=m.getViewport(Ge);else{const me=d.getViewSubImage(p,Ge);U=me.viewport,Ke===0&&(e.setRenderTargetTextures(S,me.colorTexture,p.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(S))}let fe=R[Ke];fe===void 0&&(fe=new _i,fe.layers.enable(Ke),fe.viewport=new Qn,R[Ke]=fe),fe.matrix.fromArray(Ge.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(Ge.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(U.x,U.y,U.width,U.height),Ke===0&&(C.matrix.copy(fe.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),xe===!0&&C.cameras.push(fe)}const st=r.enabledFeatures;if(st&&st.includes("depth-sensing")){const Ke=d.getDepthInformation(be[0]);Ke&&Ke.isValid&&Ke.texture&&x.init(e,Ke,r.renderState)}}for(let be=0;be<w.length;be++){const xe=b[be],st=w[be];xe!==null&&st!==void 0&&st.update(xe,ve,c||o)}ee&&ee(ne,ve),ve.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ve}),v=null}const ke=new Fse;ke.setAnimationLoop(pe),this.setAnimationLoop=function(ne){ee=ne},this.dispose=function(){}}}const dm=new go,ZDe=new Wt;function e3e(n,e){function t(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function i(y,g){g.color.getRGB(y.fogColor.value,Lse(n)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function r(y,g,S,w,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),d(y,g)):g.isMeshPhongMaterial?(s(y,g),h(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,b)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),x(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,S,w):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,t(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===mo&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,t(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===mo&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,t(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,t(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const S=e.get(g),w=S.envMap,b=S.envMapRotation;w&&(y.envMap.value=w,dm.copy(b),dm.x*=-1,dm.y*=-1,dm.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(dm.y*=-1,dm.z*=-1),y.envMapRotation.value.setFromMatrix4(ZDe.makeRotationFromEuler(dm)),y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,S,w){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*S,y.scale.value=w*.5,g.map&&(y.map.value=g.map,t(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,t(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,t(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function h(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,S){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===mo&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const S=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function t3e(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,w){const b=w.program;i.uniformBlockBinding(S,b)}function c(S,w){let b=r[S.id];b===void 0&&(v(S),b=h(S),r[S.id]=b,S.addEventListener("dispose",y));const P=w.program;i.updateUBOMapping(S,P);const T=e.render.frame;s[S.id]!==T&&(p(S),s[S.id]=T)}function h(S){const w=d();S.__bindingPointIndex=w;const b=n.createBuffer(),P=S.__size,T=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,P,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,b),b}function d(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const w=r[S.id],b=S.uniforms,P=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let T=0,B=b.length;T<B;T++){const I=Array.isArray(b[T])?b[T]:[b[T]];for(let R=0,C=I.length;R<C;R++){const N=I[R];if(m(N,T,R,P)===!0){const j=N.__offset,W=Array.isArray(N.value)?N.value:[N.value];let X=0;for(let Q=0;Q<W.length;Q++){const Y=W[Q],ie=x(Y);typeof Y=="number"||typeof Y=="boolean"?(N.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,j+X,N.__data)):Y.isMatrix3?(N.__data[0]=Y.elements[0],N.__data[1]=Y.elements[1],N.__data[2]=Y.elements[2],N.__data[3]=0,N.__data[4]=Y.elements[3],N.__data[5]=Y.elements[4],N.__data[6]=Y.elements[5],N.__data[7]=0,N.__data[8]=Y.elements[6],N.__data[9]=Y.elements[7],N.__data[10]=Y.elements[8],N.__data[11]=0):(Y.toArray(N.__data,X),X+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,j,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(S,w,b,P){const T=S.value,B=w+"_"+b;if(P[B]===void 0)return typeof T=="number"||typeof T=="boolean"?P[B]=T:P[B]=T.clone(),!0;{const I=P[B];if(typeof T=="number"||typeof T=="boolean"){if(I!==T)return P[B]=T,!0}else if(I.equals(T)===!1)return I.copy(T),!0}return!1}function v(S){const w=S.uniforms;let b=0;const P=16;for(let B=0,I=w.length;B<I;B++){const R=Array.isArray(w[B])?w[B]:[w[B]];for(let C=0,N=R.length;C<N;C++){const j=R[C],W=Array.isArray(j.value)?j.value:[j.value];for(let X=0,Q=W.length;X<Q;X++){const Y=W[X],ie=x(Y),D=b%P;D!==0&&P-D<ie.boundary&&(b+=P-D),j.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=b,b+=ie.storage}}}const T=b%P;return T>0&&(b+=P-T),S.__size=b,S.__cache={},this}function x(S){const w={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function y(S){const w=S.target;w.removeEventListener("dispose",y);const b=o.indexOf(w.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function g(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class Vse{constructor(e={}){const{canvas:t=Rse(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,y=null;const g=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=sl,this.toneMapping=su,this.toneMappingExposure=1;const w=this;let b=!1,P=0,T=0,B=null,I=-1,R=null;const C=new Qn,N=new Qn;let j=null;const W=new Ct(0);let X=0,Q=t.width,Y=t.height,ie=1,D=null,z=null;const H=new Qn(0,0,Q,Y),ee=new Qn(0,0,Q,Y);let pe=!1;const ke=new kM;let ne=!1,ve=!1;const be=new Wt,xe=new le,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ke=!1;function Ge(){return B===null?ie:1}let U=i;function fe(O,J){return t.getContext(O,J)}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${w1}`),t.addEventListener("webglcontextlost",De,!1),t.addEventListener("webglcontextrestored",de,!1),t.addEventListener("webglcontextcreationerror",ye,!1),U===null){const J="webgl2";if(U=fe(J,O),U===null)throw fe(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let me,Ce,_e,Ne,Oe,Re,at,k,F,se,ge,Ae,Se,qe,Ie,ze,ct,Te,$e,ht,Ye,te,$,Me;function Qe(){me=new pLe(U),me.init(),te=new Hse(U,me),Ce=new lLe(U,me,e,te),_e=new XDe(U),Ne=new vLe(U),Oe=new DDe,Re=new JDe(U,me,_e,Oe,Ce,te,Ne),at=new uLe(w),k=new fLe(w),F=new MPe(U),$=new oLe(U,F),se=new mLe(U,F,Ne,$),ge=new xLe(U,se,F,Ne),$e=new yLe(U,Ce,Re),ze=new cLe(Oe),Ae=new LDe(w,at,k,me,Ce,$,ze),Se=new e3e(w,Oe),qe=new NDe,Ie=new GDe(me),Te=new sLe(w,at,k,_e,ge,p,l),ct=new WDe(w,ge,Ce),Me=new t3e(U,Ne,Ce,_e),ht=new aLe(U,me,Ne),Ye=new gLe(U,me,Ne),Ne.programs=Ae.programs,w.capabilities=Ce,w.extensions=me,w.properties=Oe,w.renderLists=qe,w.shadowMap=ct,w.state=_e,w.info=Ne}Qe();const G=new $De(w,U);this.xr=G,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const O=me.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=me.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(O){O!==void 0&&(ie=O,this.setSize(Q,Y,!1))},this.getSize=function(O){return O.set(Q,Y)},this.setSize=function(O,J,ae=!0){if(G.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=O,Y=J,t.width=Math.floor(O*ie),t.height=Math.floor(J*ie),ae===!0&&(t.style.width=O+"px",t.style.height=J+"px"),this.setViewport(0,0,O,J)},this.getDrawingBufferSize=function(O){return O.set(Q*ie,Y*ie).floor()},this.setDrawingBufferSize=function(O,J,ae){Q=O,Y=J,ie=ae,t.width=Math.floor(O*ae),t.height=Math.floor(J*ae),this.setViewport(0,0,O,J)},this.getCurrentViewport=function(O){return O.copy(C)},this.getViewport=function(O){return O.copy(H)},this.setViewport=function(O,J,ae,q){O.isVector4?H.set(O.x,O.y,O.z,O.w):H.set(O,J,ae,q),_e.viewport(C.copy(H).multiplyScalar(ie).round())},this.getScissor=function(O){return O.copy(ee)},this.setScissor=function(O,J,ae,q){O.isVector4?ee.set(O.x,O.y,O.z,O.w):ee.set(O,J,ae,q),_e.scissor(N.copy(ee).multiplyScalar(ie).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(O){_e.setScissorTest(pe=O)},this.setOpaqueSort=function(O){D=O},this.setTransparentSort=function(O){z=O},this.getClearColor=function(O){return O.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor.apply(Te,arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha.apply(Te,arguments)},this.clear=function(O=!0,J=!0,ae=!0){let q=0;if(O){let K=!1;if(B!==null){const Fe=B.texture.format;K=Fe===YH||Fe===KH||Fe===JH}if(K){const Fe=B.texture.type,Je=Fe===pu||Fe===Qg||Fe===Nw||Fe===qg||Fe===jH||Fe===WH,Ze=Te.getClearColor(),et=Te.getClearAlpha(),ft=Ze.r,vt=Ze.g,ut=Ze.b;Je?(m[0]=ft,m[1]=vt,m[2]=ut,m[3]=et,U.clearBufferuiv(U.COLOR,0,m)):(v[0]=ft,v[1]=vt,v[2]=ut,v[3]=et,U.clearBufferiv(U.COLOR,0,v))}else q|=U.COLOR_BUFFER_BIT}J&&(q|=U.DEPTH_BUFFER_BIT),ae&&(q|=U.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),U.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",De,!1),t.removeEventListener("webglcontextrestored",de,!1),t.removeEventListener("webglcontextcreationerror",ye,!1),qe.dispose(),Ie.dispose(),Oe.dispose(),at.dispose(),k.dispose(),ge.dispose(),$.dispose(),Me.dispose(),Ae.dispose(),G.dispose(),G.removeEventListener("sessionstart",$t),G.removeEventListener("sessionend",Ue),ot.stop()};function De(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function de(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const O=Ne.autoReset,J=ct.enabled,ae=ct.autoUpdate,q=ct.needsUpdate,K=ct.type;Qe(),Ne.autoReset=O,ct.enabled=J,ct.autoUpdate=ae,ct.needsUpdate=q,ct.type=K}function ye(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Le(O){const J=O.target;J.removeEventListener("dispose",Le),Xe(J)}function Xe(O){dt(O),Oe.remove(O)}function dt(O){const J=Oe.get(O).programs;J!==void 0&&(J.forEach(function(ae){Ae.releaseProgram(ae)}),O.isShaderMaterial&&Ae.releaseShaderCache(O))}this.renderBufferDirect=function(O,J,ae,q,K,Fe){J===null&&(J=st);const Je=K.isMesh&&K.matrixWorld.determinant()<0,Ze=xr(O,J,ae,q,K);_e.setMaterial(q,Je);let et=ae.index,ft=1;if(q.wireframe===!0){if(et=se.getWireframeAttribute(ae),et===void 0)return;ft=2}const vt=ae.drawRange,ut=ae.attributes.position;let Lt=vt.start*ft,en=(vt.start+vt.count)*ft;Fe!==null&&(Lt=Math.max(Lt,Fe.start*ft),en=Math.min(en,(Fe.start+Fe.count)*ft)),et!==null?(Lt=Math.max(Lt,0),en=Math.min(en,et.count)):ut!=null&&(Lt=Math.max(Lt,0),en=Math.min(en,ut.count));const Xt=en-Lt;if(Xt<0||Xt===1/0)return;$.setup(K,q,Ze,ae,et);let tn,At=ht;if(et!==null&&(tn=F.get(et),At=Ye,At.setIndex(tn)),K.isMesh)q.wireframe===!0?(_e.setLineWidth(q.wireframeLinewidth*Ge()),At.setMode(U.LINES)):At.setMode(U.TRIANGLES);else if(K.isLine){let je=q.linewidth;je===void 0&&(je=1),_e.setLineWidth(je*Ge()),K.isLineSegments?At.setMode(U.LINES):K.isLineLoop?At.setMode(U.LINE_LOOP):At.setMode(U.LINE_STRIP)}else K.isPoints?At.setMode(U.POINTS):K.isSprite&&At.setMode(U.TRIANGLES);if(K.isBatchedMesh)K._multiDrawInstances!==null?At.renderMultiDrawInstances(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount,K._multiDrawInstances):At.renderMultiDraw(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount);else if(K.isInstancedMesh)At.renderInstances(Lt,Xt,K.count);else if(ae.isInstancedBufferGeometry){const je=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,Nt=Math.min(ae.instanceCount,je);At.renderInstances(Lt,Xt,Nt)}else At.render(Lt,Xt)};function Ve(O,J,ae){O.transparent===!0&&O.side===hl&&O.forceSinglePass===!1?(O.side=mo,O.needsUpdate=!0,Zt(O,J,ae),O.side=fu,O.needsUpdate=!0,Zt(O,J,ae),O.side=hl):Zt(O,J,ae)}this.compile=function(O,J,ae=null){ae===null&&(ae=O),y=Ie.get(ae),y.init(J),S.push(y),ae.traverseVisible(function(K){K.isLight&&K.layers.test(J.layers)&&(y.pushLight(K),K.castShadow&&y.pushShadow(K))}),O!==ae&&O.traverseVisible(function(K){K.isLight&&K.layers.test(J.layers)&&(y.pushLight(K),K.castShadow&&y.pushShadow(K))}),y.setupLights();const q=new Set;return O.traverse(function(K){const Fe=K.material;if(Fe)if(Array.isArray(Fe))for(let Je=0;Je<Fe.length;Je++){const Ze=Fe[Je];Ve(Ze,ae,K),q.add(Ze)}else Ve(Fe,ae,K),q.add(Fe)}),S.pop(),y=null,q},this.compileAsync=function(O,J,ae=null){const q=this.compile(O,J,ae);return new Promise(K=>{function Fe(){if(q.forEach(function(Je){Oe.get(Je).currentProgram.isReady()&&q.delete(Je)}),q.size===0){K(O);return}setTimeout(Fe,10)}me.get("KHR_parallel_shader_compile")!==null?Fe():setTimeout(Fe,10)})};let rt=null;function pt(O){rt&&rt(O)}function $t(){ot.stop()}function Ue(){ot.start()}const ot=new Fse;ot.setAnimationLoop(pt),typeof self<"u"&&ot.setContext(self),this.setAnimationLoop=function(O){rt=O,G.setAnimationLoop(O),O===null?ot.stop():ot.start()},G.addEventListener("sessionstart",$t),G.addEventListener("sessionend",Ue),this.render=function(O,J){if(J!==void 0&&J.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),J.parent===null&&J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),G.enabled===!0&&G.isPresenting===!0&&(G.cameraAutoUpdate===!0&&G.updateCamera(J),J=G.getCamera()),O.isScene===!0&&O.onBeforeRender(w,O,J,B),y=Ie.get(O,S.length),y.init(J),S.push(y),be.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),ke.setFromProjectionMatrix(be),ve=this.localClippingEnabled,ne=ze.init(this.clippingPlanes,ve),x=qe.get(O,g.length),x.init(),g.push(x),G.enabled===!0&&G.isPresenting===!0){const Fe=w.xr.getDepthSensingMesh();Fe!==null&&gt(Fe,J,-1/0,w.sortObjects)}gt(O,J,0,w.sortObjects),x.finish(),w.sortObjects===!0&&x.sort(D,z),Ke=G.enabled===!1||G.isPresenting===!1||G.hasDepthSensing()===!1,Ke&&Te.addToRenderList(x,O),this.info.render.frame++,ne===!0&&ze.beginShadows();const ae=y.state.shadowsArray;ct.render(ae,O,J),ne===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const q=x.opaque,K=x.transmissive;if(y.setupLights(),J.isArrayCamera){const Fe=J.cameras;if(K.length>0)for(let Je=0,Ze=Fe.length;Je<Ze;Je++){const et=Fe[Je];on(q,K,O,et)}Ke&&Te.render(O);for(let Je=0,Ze=Fe.length;Je<Ze;Je++){const et=Fe[Je];nn(x,O,et,et.viewport)}}else K.length>0&&on(q,K,O,J),Ke&&Te.render(O),nn(x,O,J);B!==null&&(Re.updateMultisampleRenderTarget(B),Re.updateRenderTargetMipmap(B)),O.isScene===!0&&O.onAfterRender(w,O,J),$.resetDefaultState(),I=-1,R=null,S.pop(),S.length>0?(y=S[S.length-1],ne===!0&&ze.setGlobalState(w.clippingPlanes,y.state.camera)):y=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function gt(O,J,ae,q){if(O.visible===!1)return;if(O.layers.test(J.layers)){if(O.isGroup)ae=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(J);else if(O.isLight)y.pushLight(O),O.castShadow&&y.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ke.intersectsSprite(O)){q&&xe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(be);const Je=ge.update(O),Ze=O.material;Ze.visible&&x.push(O,Je,Ze,ae,xe.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||ke.intersectsObject(O))){const Je=ge.update(O),Ze=O.material;if(q&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),xe.copy(O.boundingSphere.center)):(Je.boundingSphere===null&&Je.computeBoundingSphere(),xe.copy(Je.boundingSphere.center)),xe.applyMatrix4(O.matrixWorld).applyMatrix4(be)),Array.isArray(Ze)){const et=Je.groups;for(let ft=0,vt=et.length;ft<vt;ft++){const ut=et[ft],Lt=Ze[ut.materialIndex];Lt&&Lt.visible&&x.push(O,Je,Lt,ae,xe.z,ut)}}else Ze.visible&&x.push(O,Je,Ze,ae,xe.z,null)}}const Fe=O.children;for(let Je=0,Ze=Fe.length;Je<Ze;Je++)gt(Fe[Je],J,ae,q)}function nn(O,J,ae,q){const K=O.opaque,Fe=O.transmissive,Je=O.transparent;y.setupLightsView(ae),ne===!0&&ze.setGlobalState(w.clippingPlanes,ae),q&&_e.viewport(C.copy(q)),K.length>0&&_n(K,J,ae),Fe.length>0&&_n(Fe,J,ae),Je.length>0&&_n(Je,J,ae),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function on(O,J,ae,q){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[q.id]===void 0&&(y.state.transmissionRenderTarget[q.id]=new hc(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")||me.has("EXT_color_buffer_float")?FM:pu,minFilter:gl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Gn.workingColorSpace}));const Fe=y.state.transmissionRenderTarget[q.id],Je=q.viewport||C;Fe.setSize(Je.z,Je.w);const Ze=w.getRenderTarget();w.setRenderTarget(Fe),w.getClearColor(W),X=w.getClearAlpha(),X<1&&w.setClearColor(16777215,.5),Ke?Te.render(ae):w.clear();const et=w.toneMapping;w.toneMapping=su;const ft=q.viewport;if(q.viewport!==void 0&&(q.viewport=void 0),y.setupLightsView(q),ne===!0&&ze.setGlobalState(w.clippingPlanes,q),_n(O,ae,q),Re.updateMultisampleRenderTarget(Fe),Re.updateRenderTargetMipmap(Fe),me.has("WEBGL_multisampled_render_to_texture")===!1){let vt=!1;for(let ut=0,Lt=J.length;ut<Lt;ut++){const en=J[ut],Xt=en.object,tn=en.geometry,At=en.material,je=en.group;if(At.side===hl&&Xt.layers.test(q.layers)){const Nt=At.side;At.side=mo,At.needsUpdate=!0,En(Xt,ae,q,tn,At,je),At.side=Nt,At.needsUpdate=!0,vt=!0}}vt===!0&&(Re.updateMultisampleRenderTarget(Fe),Re.updateRenderTargetMipmap(Fe))}w.setRenderTarget(Ze),w.setClearColor(W,X),ft!==void 0&&(q.viewport=ft),w.toneMapping=et}function _n(O,J,ae){const q=J.isScene===!0?J.overrideMaterial:null;for(let K=0,Fe=O.length;K<Fe;K++){const Je=O[K],Ze=Je.object,et=Je.geometry,ft=q===null?Je.material:q,vt=Je.group;Ze.layers.test(ae.layers)&&En(Ze,J,ae,et,ft,vt)}}function En(O,J,ae,q,K,Fe){O.onBeforeRender(w,J,ae,q,K,Fe),O.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),K.onBeforeRender(w,J,ae,q,O,Fe),K.transparent===!0&&K.side===hl&&K.forceSinglePass===!1?(K.side=mo,K.needsUpdate=!0,w.renderBufferDirect(ae,J,q,K,O,Fe),K.side=fu,K.needsUpdate=!0,w.renderBufferDirect(ae,J,q,K,O,Fe),K.side=hl):w.renderBufferDirect(ae,J,q,K,O,Fe),O.onAfterRender(w,J,ae,q,K,Fe)}function Zt(O,J,ae){J.isScene!==!0&&(J=st);const q=Oe.get(O),K=y.state.lights,Fe=y.state.shadowsArray,Je=K.state.version,Ze=Ae.getParameters(O,K.state,Fe,J,ae),et=Ae.getProgramCacheKey(Ze);let ft=q.programs;q.environment=O.isMeshStandardMaterial?J.environment:null,q.fog=J.fog,q.envMap=(O.isMeshStandardMaterial?k:at).get(O.envMap||q.environment),q.envMapRotation=q.environment!==null&&O.envMap===null?J.environmentRotation:O.envMapRotation,ft===void 0&&(O.addEventListener("dispose",Le),ft=new Map,q.programs=ft);let vt=ft.get(et);if(vt!==void 0){if(q.currentProgram===vt&&q.lightsStateVersion===Je)return Gt(O,Ze),vt}else Ze.uniforms=Ae.getUniforms(O),O.onBuild(ae,Ze,w),O.onBeforeCompile(Ze,w),vt=Ae.acquireProgram(Ze,et),ft.set(et,vt),q.uniforms=Ze.uniforms;const ut=q.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(ut.clippingPlanes=ze.uniform),Gt(O,Ze),q.needsLights=Oo(O),q.lightsStateVersion=Je,q.needsLights&&(ut.ambientLightColor.value=K.state.ambient,ut.lightProbe.value=K.state.probe,ut.directionalLights.value=K.state.directional,ut.directionalLightShadows.value=K.state.directionalShadow,ut.spotLights.value=K.state.spot,ut.spotLightShadows.value=K.state.spotShadow,ut.rectAreaLights.value=K.state.rectArea,ut.ltc_1.value=K.state.rectAreaLTC1,ut.ltc_2.value=K.state.rectAreaLTC2,ut.pointLights.value=K.state.point,ut.pointLightShadows.value=K.state.pointShadow,ut.hemisphereLights.value=K.state.hemi,ut.directionalShadowMap.value=K.state.directionalShadowMap,ut.directionalShadowMatrix.value=K.state.directionalShadowMatrix,ut.spotShadowMap.value=K.state.spotShadowMap,ut.spotLightMatrix.value=K.state.spotLightMatrix,ut.spotLightMap.value=K.state.spotLightMap,ut.pointShadowMap.value=K.state.pointShadowMap,ut.pointShadowMatrix.value=K.state.pointShadowMatrix),q.currentProgram=vt,q.uniformsList=null,vt}function Bn(O){if(O.uniformsList===null){const J=O.currentProgram.getUniforms();O.uniformsList=JT.seqWithValue(J.seq,O.uniforms)}return O.uniformsList}function Gt(O,J){const ae=Oe.get(O);ae.outputColorSpace=J.outputColorSpace,ae.batching=J.batching,ae.batchingColor=J.batchingColor,ae.instancing=J.instancing,ae.instancingColor=J.instancingColor,ae.instancingMorph=J.instancingMorph,ae.skinning=J.skinning,ae.morphTargets=J.morphTargets,ae.morphNormals=J.morphNormals,ae.morphColors=J.morphColors,ae.morphTargetsCount=J.morphTargetsCount,ae.numClippingPlanes=J.numClippingPlanes,ae.numIntersection=J.numClipIntersection,ae.vertexAlphas=J.vertexAlphas,ae.vertexTangents=J.vertexTangents,ae.toneMapping=J.toneMapping}function xr(O,J,ae,q,K){J.isScene!==!0&&(J=st),Re.resetTextureUnits();const Fe=J.fog,Je=q.isMeshStandardMaterial?J.environment:null,Ze=B===null?w.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:sd,et=(q.isMeshStandardMaterial?k:at).get(q.envMap||Je),ft=q.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,vt=!!ae.attributes.tangent&&(!!q.normalMap||q.anisotropy>0),ut=!!ae.morphAttributes.position,Lt=!!ae.morphAttributes.normal,en=!!ae.morphAttributes.color;let Xt=su;q.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Xt=w.toneMapping);const tn=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,At=tn!==void 0?tn.length:0,je=Oe.get(q),Nt=y.state.lights;if(ne===!0&&(ve===!0||O!==R)){const Nn=O===R&&q.id===I;ze.setState(q,O,Nn)}let zt=!1;q.version===je.__version?(je.needsLights&&je.lightsStateVersion!==Nt.state.version||je.outputColorSpace!==Ze||K.isBatchedMesh&&je.batching===!1||!K.isBatchedMesh&&je.batching===!0||K.isBatchedMesh&&je.batchingColor===!0&&K.colorTexture===null||K.isBatchedMesh&&je.batchingColor===!1&&K.colorTexture!==null||K.isInstancedMesh&&je.instancing===!1||!K.isInstancedMesh&&je.instancing===!0||K.isSkinnedMesh&&je.skinning===!1||!K.isSkinnedMesh&&je.skinning===!0||K.isInstancedMesh&&je.instancingColor===!0&&K.instanceColor===null||K.isInstancedMesh&&je.instancingColor===!1&&K.instanceColor!==null||K.isInstancedMesh&&je.instancingMorph===!0&&K.morphTexture===null||K.isInstancedMesh&&je.instancingMorph===!1&&K.morphTexture!==null||je.envMap!==et||q.fog===!0&&je.fog!==Fe||je.numClippingPlanes!==void 0&&(je.numClippingPlanes!==ze.numPlanes||je.numIntersection!==ze.numIntersection)||je.vertexAlphas!==ft||je.vertexTangents!==vt||je.morphTargets!==ut||je.morphNormals!==Lt||je.morphColors!==en||je.toneMapping!==Xt||je.morphTargetsCount!==At)&&(zt=!0):(zt=!0,je.__version=q.version);let Jt=je.currentProgram;zt===!0&&(Jt=Zt(q,J,K));let kn=!1,Vn=!1,Wn=!1;const Vt=Jt.getUniforms(),hi=je.uniforms;if(_e.useProgram(Jt.program)&&(kn=!0,Vn=!0,Wn=!0),q.id!==I&&(I=q.id,Vn=!0),kn||R!==O){Vt.setValue(U,"projectionMatrix",O.projectionMatrix),Vt.setValue(U,"viewMatrix",O.matrixWorldInverse);const Nn=Vt.map.cameraPosition;Nn!==void 0&&Nn.setValue(U,xe.setFromMatrixPosition(O.matrixWorld)),Ce.logarithmicDepthBuffer&&Vt.setValue(U,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&Vt.setValue(U,"isOrthographic",O.isOrthographicCamera===!0),R!==O&&(R=O,Vn=!0,Wn=!0)}if(K.isSkinnedMesh){Vt.setOptional(U,K,"bindMatrix"),Vt.setOptional(U,K,"bindMatrixInverse");const Nn=K.skeleton;Nn&&(Nn.boneTexture===null&&Nn.computeBoneTexture(),Vt.setValue(U,"boneTexture",Nn.boneTexture,Re))}K.isBatchedMesh&&(Vt.setOptional(U,K,"batchingTexture"),Vt.setValue(U,"batchingTexture",K._matricesTexture,Re),Vt.setOptional(U,K,"batchingColorTexture"),K._colorsTexture!==null&&Vt.setValue(U,"batchingColorTexture",K._colorsTexture,Re));const Uo=ae.morphAttributes;if((Uo.position!==void 0||Uo.normal!==void 0||Uo.color!==void 0)&&$e.update(K,ae,Jt),(Vn||je.receiveShadow!==K.receiveShadow)&&(je.receiveShadow=K.receiveShadow,Vt.setValue(U,"receiveShadow",K.receiveShadow)),q.isMeshGouraudMaterial&&q.envMap!==null&&(hi.envMap.value=et,hi.flipEnvMap.value=et.isCubeTexture&&et.isRenderTargetTexture===!1?-1:1),q.isMeshStandardMaterial&&q.envMap===null&&J.environment!==null&&(hi.envMapIntensity.value=J.environmentIntensity),Vn&&(Vt.setValue(U,"toneMappingExposure",w.toneMappingExposure),je.needsLights&&El(hi,Wn),Fe&&q.fog===!0&&Se.refreshFogUniforms(hi,Fe),Se.refreshMaterialUniforms(hi,q,ie,Y,y.state.transmissionRenderTarget[O.id]),JT.upload(U,Bn(je),hi,Re)),q.isShaderMaterial&&q.uniformsNeedUpdate===!0&&(JT.upload(U,Bn(je),hi,Re),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&Vt.setValue(U,"center",K.center),Vt.setValue(U,"modelViewMatrix",K.modelViewMatrix),Vt.setValue(U,"normalMatrix",K.normalMatrix),Vt.setValue(U,"modelMatrix",K.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){const Nn=q.uniformsGroups;for(let $s=0,Nr=Nn.length;$s<Nr;$s++){const _r=Nn[$s];Me.update(_r,Jt),Me.bind(_r,Jt)}}return Jt}function El(O,J){O.ambientLightColor.needsUpdate=J,O.lightProbe.needsUpdate=J,O.directionalLights.needsUpdate=J,O.directionalLightShadows.needsUpdate=J,O.pointLights.needsUpdate=J,O.pointLightShadows.needsUpdate=J,O.spotLights.needsUpdate=J,O.spotLightShadows.needsUpdate=J,O.rectAreaLights.needsUpdate=J,O.hemisphereLights.needsUpdate=J}function Oo(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(O,J,ae){Oe.get(O.texture).__webglTexture=J,Oe.get(O.depthTexture).__webglTexture=ae;const q=Oe.get(O);q.__hasExternalTextures=!0,q.__autoAllocateDepthBuffer=ae===void 0,q.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),q.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(O,J){const ae=Oe.get(O);ae.__webglFramebuffer=J,ae.__useDefaultFramebuffer=J===void 0},this.setRenderTarget=function(O,J=0,ae=0){B=O,P=J,T=ae;let q=!0,K=null,Fe=!1,Je=!1;if(O){const et=Oe.get(O);et.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(U.FRAMEBUFFER,null),q=!1):et.__webglFramebuffer===void 0?Re.setupRenderTarget(O):et.__hasExternalTextures&&Re.rebindTextures(O,Oe.get(O.texture).__webglTexture,Oe.get(O.depthTexture).__webglTexture);const ft=O.texture;(ft.isData3DTexture||ft.isDataArrayTexture||ft.isCompressedArrayTexture)&&(Je=!0);const vt=Oe.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(vt[J])?K=vt[J][ae]:K=vt[J],Fe=!0):O.samples>0&&Re.useMultisampledRTT(O)===!1?K=Oe.get(O).__webglMultisampledFramebuffer:Array.isArray(vt)?K=vt[ae]:K=vt,C.copy(O.viewport),N.copy(O.scissor),j=O.scissorTest}else C.copy(H).multiplyScalar(ie).floor(),N.copy(ee).multiplyScalar(ie).floor(),j=pe;if(_e.bindFramebuffer(U.FRAMEBUFFER,K)&&q&&_e.drawBuffers(O,K),_e.viewport(C),_e.scissor(N),_e.setScissorTest(j),Fe){const et=Oe.get(O.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+J,et.__webglTexture,ae)}else if(Je){const et=Oe.get(O.texture),ft=J||0;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,et.__webglTexture,ae||0,ft)}I=-1},this.readRenderTargetPixels=function(O,J,ae,q,K,Fe,Je){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ze=Oe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Je!==void 0&&(Ze=Ze[Je]),Ze){_e.bindFramebuffer(U.FRAMEBUFFER,Ze);try{const et=O.texture,ft=et.format,vt=et.type;if(!Ce.textureFormatReadable(ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ce.textureTypeReadable(vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}J>=0&&J<=O.width-q&&ae>=0&&ae<=O.height-K&&U.readPixels(J,ae,q,K,te.convert(ft),te.convert(vt),Fe)}finally{const et=B!==null?Oe.get(B).__webglFramebuffer:null;_e.bindFramebuffer(U.FRAMEBUFFER,et)}}},this.readRenderTargetPixelsAsync=async function(O,J,ae,q,K,Fe,Je){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ze=Oe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Je!==void 0&&(Ze=Ze[Je]),Ze){_e.bindFramebuffer(U.FRAMEBUFFER,Ze);try{const et=O.texture,ft=et.format,vt=et.type;if(!Ce.textureFormatReadable(ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ce.textureTypeReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(J>=0&&J<=O.width-q&&ae>=0&&ae<=O.height-K){const ut=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,ut),U.bufferData(U.PIXEL_PACK_BUFFER,Fe.byteLength,U.STREAM_READ),U.readPixels(J,ae,q,K,te.convert(ft),te.convert(vt),0),U.flush();const Lt=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);await Y2e(U,Lt,4);try{U.bindBuffer(U.PIXEL_PACK_BUFFER,ut),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,Fe)}finally{U.deleteBuffer(ut),U.deleteSync(Lt)}return Fe}}finally{const et=B!==null?Oe.get(B).__webglFramebuffer:null;_e.bindFramebuffer(U.FRAMEBUFFER,et)}}},this.copyFramebufferToTexture=function(O,J=null,ae=0){O.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),J=arguments[0]||null,O=arguments[1]);const q=Math.pow(2,-ae),K=Math.floor(O.image.width*q),Fe=Math.floor(O.image.height*q),Je=J!==null?J.x:0,Ze=J!==null?J.y:0;Re.setTexture2D(O,0),U.copyTexSubImage2D(U.TEXTURE_2D,ae,0,0,Je,Ze,K,Fe),_e.unbindTexture()},this.copyTextureToTexture=function(O,J,ae=null,q=null,K=0){O.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),q=arguments[0]||null,O=arguments[1],J=arguments[2],K=arguments[3]||0,ae=null);let Fe,Je,Ze,et,ft,vt;ae!==null?(Fe=ae.max.x-ae.min.x,Je=ae.max.y-ae.min.y,Ze=ae.min.x,et=ae.min.y):(Fe=O.image.width,Je=O.image.height,Ze=0,et=0),q!==null?(ft=q.x,vt=q.y):(ft=0,vt=0);const ut=te.convert(J.format),Lt=te.convert(J.type);Re.setTexture2D(J,0),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,J.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,J.unpackAlignment);const en=U.getParameter(U.UNPACK_ROW_LENGTH),Xt=U.getParameter(U.UNPACK_IMAGE_HEIGHT),tn=U.getParameter(U.UNPACK_SKIP_PIXELS),At=U.getParameter(U.UNPACK_SKIP_ROWS),je=U.getParameter(U.UNPACK_SKIP_IMAGES),Nt=O.isCompressedTexture?O.mipmaps[K]:O.image;U.pixelStorei(U.UNPACK_ROW_LENGTH,Nt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Nt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Ze),U.pixelStorei(U.UNPACK_SKIP_ROWS,et),O.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,K,ft,vt,Fe,Je,ut,Lt,Nt.data):O.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,K,ft,vt,Nt.width,Nt.height,ut,Nt.data):U.texSubImage2D(U.TEXTURE_2D,K,ft,vt,ut,Lt,Nt),U.pixelStorei(U.UNPACK_ROW_LENGTH,en),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Xt),U.pixelStorei(U.UNPACK_SKIP_PIXELS,tn),U.pixelStorei(U.UNPACK_SKIP_ROWS,At),U.pixelStorei(U.UNPACK_SKIP_IMAGES,je),K===0&&J.generateMipmaps&&U.generateMipmap(U.TEXTURE_2D),_e.unbindTexture()},this.copyTextureToTexture3D=function(O,J,ae=null,q=null,K=0){O.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ae=arguments[0]||null,q=arguments[1]||null,O=arguments[2],J=arguments[3],K=arguments[4]||0);let Fe,Je,Ze,et,ft,vt,ut,Lt,en;const Xt=O.isCompressedTexture?O.mipmaps[K]:O.image;ae!==null?(Fe=ae.max.x-ae.min.x,Je=ae.max.y-ae.min.y,Ze=ae.max.z-ae.min.z,et=ae.min.x,ft=ae.min.y,vt=ae.min.z):(Fe=Xt.width,Je=Xt.height,Ze=Xt.depth,et=0,ft=0,vt=0),q!==null?(ut=q.x,Lt=q.y,en=q.z):(ut=0,Lt=0,en=0);const tn=te.convert(J.format),At=te.convert(J.type);let je;if(J.isData3DTexture)Re.setTexture3D(J,0),je=U.TEXTURE_3D;else if(J.isDataArrayTexture||J.isCompressedArrayTexture)Re.setTexture2DArray(J,0),je=U.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,J.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,J.unpackAlignment);const Nt=U.getParameter(U.UNPACK_ROW_LENGTH),zt=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Jt=U.getParameter(U.UNPACK_SKIP_PIXELS),kn=U.getParameter(U.UNPACK_SKIP_ROWS),Vn=U.getParameter(U.UNPACK_SKIP_IMAGES);U.pixelStorei(U.UNPACK_ROW_LENGTH,Xt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Xt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,et),U.pixelStorei(U.UNPACK_SKIP_ROWS,ft),U.pixelStorei(U.UNPACK_SKIP_IMAGES,vt),O.isDataTexture||O.isData3DTexture?U.texSubImage3D(je,K,ut,Lt,en,Fe,Je,Ze,tn,At,Xt.data):J.isCompressedArrayTexture?U.compressedTexSubImage3D(je,K,ut,Lt,en,Fe,Je,Ze,tn,Xt.data):U.texSubImage3D(je,K,ut,Lt,en,Fe,Je,Ze,tn,At,Xt),U.pixelStorei(U.UNPACK_ROW_LENGTH,Nt),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,zt),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Jt),U.pixelStorei(U.UNPACK_SKIP_ROWS,kn),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Vn),K===0&&J.generateMipmaps&&U.generateMipmap(je),_e.unbindTexture()},this.initRenderTarget=function(O){Oe.get(O).__webglFramebuffer===void 0&&Re.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?Re.setTextureCube(O,0):O.isData3DTexture?Re.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Re.setTexture2DArray(O,0):Re.setTexture2D(O,0),_e.unbindTexture()},this.resetState=function(){P=0,T=0,B=null,_e.reset(),$.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return qc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===hB?"display-p3":"srgb",t.unpackColorSpace=Gn.workingColorSpace===NM?"display-p3":"srgb"}}class pB{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ct(e),this.density=t}clone(){return new pB(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class mB{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ct(e),this.near=t,this.far=i}clone(){return new mB(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class x2 extends Pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new go,this.environmentIntensity=1,this.environmentRotation=new go,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class zM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Hw,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ya()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tG("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ya()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ya()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const no=new le;class Kf{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)no.fromBufferAttribute(this,t),no.applyMatrix4(e),this.setXYZ(t,no.x,no.y,no.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)no.fromBufferAttribute(this,t),no.applyNormalMatrix(e),this.setXYZ(t,no.x,no.y,no.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)no.fromBufferAttribute(this,t),no.transformDirection(e),this.setXYZ(t,no.x,no.y,no.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=lo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=dn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=dn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=lo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=lo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=lo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=lo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array),r=dn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=dn(t,this.array),i=dn(i,this.array),r=dn(r,this.array),s=dn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Fn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class hG extends yr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zv;const xA=new le,ey=new le,ty=new le,ny=new nt,_A=new nt,jse=new Wt,MC=new le,AA=new le,bC=new le,D7=new nt,YD=new nt,F7=new nt;class Wse extends Pn{constructor(e=new hG){if(super(),this.isSprite=!0,this.type="Sprite",Zv===void 0){Zv=new ln;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new zM(t,5);Zv.setIndex([0,1,2,0,2,3]),Zv.setAttribute("position",new Kf(i,3,0,!1)),Zv.setAttribute("uv",new Kf(i,2,3,!1))}this.geometry=Zv,this.material=e,this.center=new nt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ey.setFromMatrixScale(this.matrixWorld),jse.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ty.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ey.multiplyScalar(-ty.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;EC(MC.set(-.5,-.5,0),ty,o,ey,r,s),EC(AA.set(.5,-.5,0),ty,o,ey,r,s),EC(bC.set(.5,.5,0),ty,o,ey,r,s),D7.set(0,0),YD.set(1,0),F7.set(1,1);let a=e.ray.intersectTriangle(MC,AA,bC,!1,xA);if(a===null&&(EC(AA.set(-.5,.5,0),ty,o,ey,r,s),YD.set(0,1),a=e.ray.intersectTriangle(MC,bC,AA,!1,xA),a===null))return;const l=e.ray.origin.distanceTo(xA);l<e.near||l>e.far||t.push({distance:l,point:xA.clone(),uv:sa.getInterpolation(xA,MC,AA,bC,D7,YD,F7,new nt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function EC(n,e,t,i,r,s){ny.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(_A.x=s*ny.x-r*ny.y,_A.y=r*ny.x+s*ny.y):_A.copy(ny),n.copy(e),n.x+=_A.x,n.y+=_A.y,n.applyMatrix4(jse)}const CC=new le,N7=new le;class Xse extends Pn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){CC.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(CC);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){CC.setFromMatrixPosition(e.matrixWorld),N7.setFromMatrixPosition(this.matrixWorld);const i=CC.distanceTo(N7)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const O7=new le,U7=new Qn,k7=new Qn,n3e=new le,z7=new Wt,TC=new le,QD=new ys,H7=new Wt,qD=new m0;class dG extends qi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=qO,this.bindMatrix=new Wt,this.bindMatrixInverse=new Wt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new js),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,TC),this.boundingBox.expandByPoint(TC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ys),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,TC),this.boundingSphere.expandByPoint(TC)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),QD.copy(this.boundingSphere),QD.applyMatrix4(r),e.ray.intersectsSphere(QD)!==!1&&(H7.copy(r).invert(),qD.copy(e.ray).applyMatrix4(H7),!(this.boundingBox!==null&&qD.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,qD)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Qn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===qO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===rse?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;U7.fromBufferAttribute(r.attributes.skinIndex,e),k7.fromBufferAttribute(r.attributes.skinWeight,e),O7.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=k7.getComponent(s);if(o!==0){const a=U7.getComponent(s);z7.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(n3e.copy(O7).applyMatrix4(z7),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class gB extends Pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Nh extends si{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Br,h=Br,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const G7=new Wt,i3e=new Wt;class HM{constructor(e=[],t=[]){this.uuid=ya(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Wt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:i3e;G7.multiplyMatrices(a,t[s]),G7.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new HM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Nh(t,e,e,uo,da);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new gB),this.bones.push(o),this.boneInverses.push(new Wt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Zg extends Fn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const iy=new Wt,V7=new Wt,RC=[],j7=new js,r3e=new Wt,SA=new qi,wA=new ys;class fG extends qi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Zg(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,r3e)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new js),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,iy),j7.copy(e.boundingBox).applyMatrix4(iy),this.boundingBox.union(j7)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ys),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,iy),wA.copy(e.boundingSphere).applyMatrix4(iy),this.boundingSphere.union(wA)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(SA.geometry=this.geometry,SA.material=this.material,SA.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wA.copy(this.boundingSphere),wA.applyMatrix4(i),e.ray.intersectsSphere(wA)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,iy),V7.multiplyMatrices(i,iy),SA.matrixWorld=V7,SA.raycast(e,RC);for(let o=0,a=RC.length;o<a;o++){const l=RC[o];l.instanceId=s,l.object=this,t.push(l)}RC.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Zg(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Nh(new Float32Array(r*this.count),r,this.count,XH,da));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function s3e(n,e){return n.z-e.z}function o3e(n,e){return e.z-n.z}class a3e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const ry="batchId",jd=new Wt,$D=new Wt,l3e=new Wt,c3e=new Ct(1,1,1),W7=new Wt,ZD=new kM,PC=new js,fm=new ys,MA=new le,X7=new le,u3e=new le,e3=new a3e,Ls=new qi,BC=[];function h3e(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class Jse extends qi{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new ln,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Nh(t,e,e,uo,da);this._matricesTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Nh(t,e,e,uo,da);i.colorSpace=Gn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:h,normalized:d}=l,p=new c.constructor(i*h),m=new Fn(p,h,d);t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Fn(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(ry,new Fn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(ry))throw new Error(`BatchedMesh: Geometry cannot use attribute "${ry}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===ry)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new js);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,jd),this.getBoundingBoxAt(r,PC).applyMatrix4(jd),t.union(PC))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ys);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,jd),this.getBoundingSphereAt(r,fm).applyMatrix4(jd),t.union(fm))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),h=c!==null;if(h&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data,x=this._colorsTexture;d.push(!0),p.push(!0);const y=this._geometryCount;this._geometryCount++,l3e.toArray(v,y*16),m.needsUpdate=!0,x!==null&&(c3e.toArray(x.image.data,y*4),x.needsUpdate=!0),o.push(r),a.push({start:h?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new js,sphereInitialized:!1,sphere:new ys});const g=this.geometry.getAttribute(ry);for(let S=0;S<r.vertexCount;S++)g.setX(r.vertexStart+S,y);return g.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===ry)continue;const v=t.getAttribute(m),x=i.getAttribute(m);h3e(v,x,l);const y=v.itemSize;for(let g=v.count,S=c;g<S;g++){const w=l+g;for(let b=0;b<y;b++)x.setComponent(w,b,0)}x.needsUpdate=!0,x.addUpdateRange(l*y,c*y)}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,x=a.indexCount;v<x;v++)s.setX(m+v,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const h=this._bounds[e];t.boundingBox!==null?(h.box.copy(t.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,t.boundingSphere!==null?(h.sphere.copy(t.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const d=this._drawRanges[e],p=t.getAttribute("position");return d.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let h=c.start,d=c.start+c.count;h<d;h++){let p=h;a&&(p=a.getX(p)),s.expandByPoint(MA.fromBufferAttribute(l,p))}r.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,PC),PC.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let h=0;for(let d=c.start,p=c.start+c.count;d<p;d++){let m=d;a&&(m=a.getX(m)),MA.fromBufferAttribute(l,m),h=Math.max(h,s.center.distanceToSquared(MA))}s.radius=Math.sqrt(h),r.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._active,r=this._colorsTexture,s=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*4),r.needsUpdate=!0,this)}getColorAt(e,t){const i=this._active,r=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*4)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ls.material=this.material,Ls.geometry.index=l.index,Ls.geometry.attributes=l.attributes,Ls.geometry.boundingBox===null&&(Ls.geometry.boundingBox=new js),Ls.geometry.boundingSphere===null&&(Ls.geometry.boundingSphere=new ys);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const h=s[c];Ls.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(c,Ls.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ls.geometry.boundingBox),this.getBoundingSphereAt(c,Ls.geometry.boundingSphere),Ls.raycast(e,BC);for(let d=0,p=BC.length;d<p;d++){const m=BC[d];m.object=this,m.batchId=c,t.push(m)}BC.length=0}Ls.material=null,Ls.geometry.index=null,Ls.geometry.attributes={},Ls.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,h=this._multiDrawStarts,d=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(W7.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),ZD.setFromProjectionMatrix(W7,e.coordinateSystem));let v=0;if(this.sortObjects){$D.copy(this.matrixWorld).invert(),MA.setFromMatrixPosition(i.matrixWorld).applyMatrix4($D),X7.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection($D);for(let g=0,S=c.length;g<S;g++)if(c[g]&&l[g]){this.getMatrixAt(g,jd),this.getBoundingSphereAt(g,fm).applyMatrix4(jd);let w=!1;if(m&&(w=!ZD.intersectsSphere(fm)),!w){const b=u3e.subVectors(fm.center,MA).dot(X7);e3.push(p[g],b)}}const x=e3.list,y=this.customSort;y===null?x.sort(s.transparent?o3e:s3e):y.call(this,x,i);for(let g=0,S=x.length;g<S;g++){const w=x[g];h[v]=w.start*a,d[v]=w.count,v++}e3.reset()}else for(let x=0,y=c.length;x<y;x++)if(c[x]&&l[x]){let g=!1;if(m&&(this.getMatrixAt(x,jd),this.getBoundingSphereAt(x,fm).applyMatrix4(jd),g=!ZD.intersectsSphere(fm)),!g){const S=p[x];h[v]=S.start*a,d[v]=S.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Qs extends yr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _2=new le,A2=new le,J7=new Wt,bA=new m0,IC=new ys,t3=new le,K7=new le;class Zh extends Pn{constructor(e=new ln,t=new Qs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)_2.fromBufferAttribute(t,r-1),A2.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=_2.distanceTo(A2);e.setAttribute("lineDistance",new Ut(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),IC.copy(i.boundingSphere),IC.applyMatrix4(r),IC.radius+=s,e.ray.intersectsSphere(IC)===!1)return;J7.copy(r).invert(),bA.copy(e.ray).applyMatrix4(J7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,h=i.index,p=i.attributes.position;if(h!==null){const m=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let x=m,y=v-1;x<y;x+=c){const g=h.getX(x),S=h.getX(x+1),w=LC(this,e,bA,l,g,S);w&&t.push(w)}if(this.isLineLoop){const x=h.getX(v-1),y=h.getX(m),g=LC(this,e,bA,l,x,y);g&&t.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let x=m,y=v-1;x<y;x+=c){const g=LC(this,e,bA,l,x,x+1);g&&t.push(g)}if(this.isLineLoop){const x=LC(this,e,bA,l,v-1,m);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function LC(n,e,t,i,r,s){const o=n.geometry.attributes.position;if(_2.fromBufferAttribute(o,r),A2.fromBufferAttribute(o,s),t.distanceSqToSegment(_2,A2,t3,K7)>i)return;t3.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(t3);if(!(l<e.near||l>e.far))return{distance:l,point:K7.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,object:n}}const Y7=new le,Q7=new le;class vc extends Zh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Y7.fromBufferAttribute(t,r),Q7.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Y7.distanceTo(Q7);e.setAttribute("lineDistance",new Ut(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pG extends Zh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class GM extends yr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const q7=new Wt,TU=new m0,DC=new ys,FC=new le;let mG=class extends Pn{constructor(e=new ln,t=new GM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),DC.copy(i.boundingSphere),DC.applyMatrix4(r),DC.radius+=s,e.ray.intersectsSphere(DC)===!1)return;q7.copy(r).invert(),TU.copy(e.ray).applyMatrix4(q7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const y=c.getX(v);FC.fromBufferAttribute(d,y),$7(FC,y,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,x=m;v<x;v++)FC.fromBufferAttribute(d,v),$7(FC,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function $7(n,e,t,i,r,s,o){const a=TU.distanceSqToPoint(n);if(a<t){const l=new le;TU.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class d3e extends si{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Yi,this.magFilter=s!==void 0?s:Yi,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class f3e extends si{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Br,this.minFilter=Br,this.generateMipmaps=!1,this.needsUpdate=!0}}class vB extends si{constructor(e,t,i,r,s,o,a,l,c,h,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class p3e extends vB{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ha,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class m3e extends vB{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,$h),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class g3e extends si{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new nt:new le);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new le,r=[],s=[],o=[],a=new le,l=new Wt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new le)}s[0]=new le,o[0]=new le;let c=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=c&&(c=h,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Ji(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Ji(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class yB extends yc{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new nt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*h-m*d+this.aX,c=p*d+m*h+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Kse extends yB{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function gG(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,d){let p=(o-s)/c-(a-s)/(c+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const NC=new le,n3=new gG,i3=new gG,r3=new gG;class Yse extends yc{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new le){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,h;this.closed||a>0?c=r[(a-1)%s]:(NC.subVectors(r[0],r[1]).add(r[0]),c=NC);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(NC.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=NC),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(h),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),n3.initNonuniformCatmullRom(c.x,d.x,p.x,h.x,v,x,y),i3.initNonuniformCatmullRom(c.y,d.y,p.y,h.y,v,x,y),r3.initNonuniformCatmullRom(c.z,d.z,p.z,h.z,v,x,y)}else this.curveType==="catmullrom"&&(n3.initCatmullRom(c.x,d.x,p.x,h.x,this.tension),i3.initCatmullRom(c.y,d.y,p.y,h.y,this.tension),r3.initCatmullRom(c.z,d.z,p.z,h.z,this.tension));return i.set(n3.calc(l),i3.calc(l),r3.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new le().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Z7(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function v3e(n,e){const t=1-n;return t*t*e}function y3e(n,e){return 2*(1-n)*n*e}function x3e(n,e){return n*n*e}function wS(n,e,t,i){return v3e(n,e)+y3e(n,t)+x3e(n,i)}function _3e(n,e){const t=1-n;return t*t*t*e}function A3e(n,e){const t=1-n;return 3*t*t*n*e}function S3e(n,e){return 3*(1-n)*n*n*e}function w3e(n,e){return n*n*n*e}function MS(n,e,t,i,r){return _3e(n,e)+A3e(n,t)+S3e(n,i)+w3e(n,r)}class vG extends yc{constructor(e=new nt,t=new nt,i=new nt,r=new nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new nt){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(MS(e,r.x,s.x,o.x,a.x),MS(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Qse extends yc{constructor(e=new le,t=new le,i=new le,r=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(MS(e,r.x,s.x,o.x,a.x),MS(e,r.y,s.y,o.y,a.y),MS(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yG extends yc{constructor(e=new nt,t=new nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new nt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new nt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qse extends yc{constructor(e=new le,t=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new le){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xG extends yc{constructor(e=new nt,t=new nt,i=new nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new nt){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(wS(e,r.x,s.x,o.x),wS(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _G extends yc{constructor(e=new le,t=new le,i=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new le){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(wS(e,r.x,s.x,o.x),wS(e,r.y,s.y,o.y),wS(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AG extends yc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new nt){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(Z7(a,l.x,c.x,h.x,d.x),Z7(a,l.y,c.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new nt().fromArray(r))}return this}}var S2=Object.freeze({__proto__:null,ArcCurve:Kse,CatmullRomCurve3:Yse,CubicBezierCurve:vG,CubicBezierCurve3:Qse,EllipseCurve:yB,LineCurve:yG,LineCurve3:qse,QuadraticBezierCurve:xG,QuadraticBezierCurve3:_G,SplineCurve:AG});class $se extends yc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new S2[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const h=l[c];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new S2[r.type]().fromJSON(r))}return this}}class jw extends $se{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new yG(this.currentPoint.clone(),new nt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new xG(this.currentPoint.clone(),new nt(e,t),new nt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new vG(this.currentPoint.clone(),new nt(e,t),new nt(i,r),new nt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new AG(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new yB(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class VM extends ln{constructor(e=[new nt(0,-.5),new nt(.5,0),new nt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Ji(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],h=1/t,d=new le,p=new nt,m=new le,v=new le,x=new le;let y=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let S=0;S<=t;S++){const w=i+S*h*r,b=Math.sin(w),P=Math.cos(w);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*b,d.y=e[T].y,d.z=e[T].x*P,o.push(d.x,d.y,d.z),p.x=S/t,p.y=T/(e.length-1),a.push(p.x,p.y);const B=l[3*T+0]*b,I=l[3*T+1],R=l[3*T+0]*P;c.push(B,I,R)}}for(let S=0;S<t;S++)for(let w=0;w<e.length-1;w++){const b=w+S*e.length,P=b,T=b+e.length,B=b+e.length+1,I=b+1;s.push(P,T,I),s.push(B,I,T)}this.setIndex(s),this.setAttribute("position",new Ut(o,3)),this.setAttribute("uv",new Ut(a,2)),this.setAttribute("normal",new Ut(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VM(e.points,e.segments,e.phiStart,e.phiLength)}}class xB extends VM{constructor(e=1,t=1,i=4,r=8){const s=new jw;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new xB(e.radius,e.length,e.capSegments,e.radialSegments)}}class _B extends ln{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new le,h=new nt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ut(o,3)),this.setAttribute("normal",new Ut(a,3)),this.setAttribute("uv",new Ut(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _B(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class C1 extends ln{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let v=0;const x=[],y=i/2;let g=0;S(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(h),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(p,3)),this.setAttribute("uv",new Ut(m,2));function S(){const b=new le,P=new le;let T=0;const B=(t-e)/i;for(let I=0;I<=s;I++){const R=[],C=I/s,N=C*(t-e)+e;for(let j=0;j<=r;j++){const W=j/r,X=W*l+a,Q=Math.sin(X),Y=Math.cos(X);P.x=N*Q,P.y=-C*i+y,P.z=N*Y,d.push(P.x,P.y,P.z),b.set(Q,B,Y).normalize(),p.push(b.x,b.y,b.z),m.push(W,1-C),R.push(v++)}x.push(R)}for(let I=0;I<r;I++)for(let R=0;R<s;R++){const C=x[R][I],N=x[R+1][I],j=x[R+1][I+1],W=x[R][I+1];h.push(C,N,W),h.push(N,j,W),T+=6}c.addGroup(g,T,0),g+=T}function w(b){const P=v,T=new nt,B=new le;let I=0;const R=b===!0?e:t,C=b===!0?1:-1;for(let j=1;j<=r;j++)d.push(0,y*C,0),p.push(0,C,0),m.push(.5,.5),v++;const N=v;for(let j=0;j<=r;j++){const X=j/r*l+a,Q=Math.cos(X),Y=Math.sin(X);B.x=R*Y,B.y=y*C,B.z=R*Q,d.push(B.x,B.y,B.z),p.push(0,C,0),T.x=Q*.5+.5,T.y=Y*.5*C+.5,m.push(T.x,T.y),v++}for(let j=0;j<r;j++){const W=P+j,X=N+j;b===!0?h.push(X,X+1,W):h.push(X+1,X,W),I+=3}c.addGroup(g,I,b===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class AB extends C1{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new AB(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class up extends ln{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),h(),this.setAttribute("position",new Ut(s,3)),this.setAttribute("normal",new Ut(s.slice(),3)),this.setAttribute("uv",new Ut(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const w=new le,b=new le,P=new le;for(let T=0;T<t.length;T+=3)m(t[T+0],w),m(t[T+1],b),m(t[T+2],P),l(w,b,P,S)}function l(S,w,b,P){const T=P+1,B=[];for(let I=0;I<=T;I++){B[I]=[];const R=S.clone().lerp(b,I/T),C=w.clone().lerp(b,I/T),N=T-I;for(let j=0;j<=N;j++)j===0&&I===T?B[I][j]=R:B[I][j]=R.clone().lerp(C,j/N)}for(let I=0;I<T;I++)for(let R=0;R<2*(T-I)-1;R++){const C=Math.floor(R/2);R%2===0?(p(B[I][C+1]),p(B[I+1][C]),p(B[I][C])):(p(B[I][C+1]),p(B[I+1][C+1]),p(B[I+1][C]))}}function c(S){const w=new le;for(let b=0;b<s.length;b+=3)w.x=s[b+0],w.y=s[b+1],w.z=s[b+2],w.normalize().multiplyScalar(S),s[b+0]=w.x,s[b+1]=w.y,s[b+2]=w.z}function h(){const S=new le;for(let w=0;w<s.length;w+=3){S.x=s[w+0],S.y=s[w+1],S.z=s[w+2];const b=y(S)/2/Math.PI+.5,P=g(S)/Math.PI+.5;o.push(b,1-P)}v(),d()}function d(){for(let S=0;S<o.length;S+=6){const w=o[S+0],b=o[S+2],P=o[S+4],T=Math.max(w,b,P),B=Math.min(w,b,P);T>.9&&B<.1&&(w<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),P<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,w){const b=S*3;w.x=e[b+0],w.y=e[b+1],w.z=e[b+2]}function v(){const S=new le,w=new le,b=new le,P=new le,T=new nt,B=new nt,I=new nt;for(let R=0,C=0;R<s.length;R+=9,C+=6){S.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),b.set(s[R+6],s[R+7],s[R+8]),T.set(o[C+0],o[C+1]),B.set(o[C+2],o[C+3]),I.set(o[C+4],o[C+5]),P.copy(S).add(w).add(b).divideScalar(3);const N=y(P);x(T,C+0,S,N),x(B,C+2,w,N),x(I,C+4,b,N)}}function x(S,w,b,P){P<0&&S.x===1&&(o[w]=S.x-1),b.x===0&&b.z===0&&(o[w]=P/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new up(e.vertices,e.indices,e.radius,e.details)}}class SB extends up{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new SB(e.radius,e.detail)}}const OC=new le,UC=new le,s3=new le,kC=new sa;class Zse extends ln{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(bg*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:y,c:g}=kC;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),kC.getNormal(s3),d[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[1]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const w=(S+1)%3,b=d[S],P=d[w],T=kC[h[S]],B=kC[h[w]],I=`${b}_${P}`,R=`${P}_${b}`;R in p&&p[R]?(s3.dot(p[R].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(B.x,B.y,B.z)),p[R]=null):I in p||(p[I]={index0:c[S],index1:c[w],normal:s3.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:y}=p[v];OC.fromBufferAttribute(a,x),UC.fromBufferAttribute(a,y),m.push(OC.x,OC.y,OC.z),m.push(UC.x,UC.y,UC.z)}this.setAttribute("position",new Ut(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Cg extends jw{constructor(e){super(e),this.uuid=ya(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new jw().fromJSON(r))}return this}}const M3e={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=eoe(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,d,p,m;if(i&&(s=R3e(n,e,s,t)),n.length>80*t){a=c=n[0],l=h=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Ww(s,o,t,a,l,m,0),o}};function eoe(n,e,t,i,r){let s,o;if(r===z3e(n,e,t,i)>0)for(s=e;s<t;s+=i)o=eX(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=eX(s,n[s],n[s+1],o);return o&&wB(o,o.next)&&(Jw(o),o=o.next),o}function e0(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(wB(t,t.next)||Di(t.prev,t,t.next)===0)){if(Jw(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Ww(n,e,t,i,r,s,o){if(!n)return;!o&&s&&D3e(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?E3e(n,i,r,s):b3e(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Jw(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=C3e(e0(n),e,t),Ww(n,e,t,i,r,s,2)):o===2&&T3e(n,e,t,i,r,s):Ww(e0(n),e,t,i,r,s,1);break}}}function b3e(n){const e=n.prev,t=n,i=n.next;if(Di(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=d&&v.y<=m&&Xy(r,a,s,l,o,c,v.x,v.y)&&Di(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function E3e(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Di(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<d?h<p?h:p:d<p?d:p,x=a>l?a>c?a:c:l>c?l:c,y=h>d?h>p?h:p:d>p?d:p,g=RU(m,v,e,t,i),S=RU(x,y,e,t,i);let w=n.prevZ,b=n.nextZ;for(;w&&w.z>=g&&b&&b.z<=S;){if(w.x>=m&&w.x<=x&&w.y>=v&&w.y<=y&&w!==r&&w!==o&&Xy(a,h,l,d,c,p,w.x,w.y)&&Di(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==r&&b!==o&&Xy(a,h,l,d,c,p,b.x,b.y)&&Di(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=g;){if(w.x>=m&&w.x<=x&&w.y>=v&&w.y<=y&&w!==r&&w!==o&&Xy(a,h,l,d,c,p,w.x,w.y)&&Di(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=S;){if(b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==r&&b!==o&&Xy(a,h,l,d,c,p,b.x,b.y)&&Di(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function C3e(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!wB(r,s)&&toe(r,i,i.next,s)&&Xw(r,s)&&Xw(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Jw(i),Jw(i.next),i=n=s),i=i.next}while(i!==n);return e0(i)}function T3e(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&O3e(o,a)){let l=noe(o,a);o=e0(o,o.next),l=e0(l,l.next),Ww(o,e,t,i,r,s,0),Ww(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function R3e(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=eoe(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(N3e(c));for(r.sort(P3e),s=0;s<r.length;s++)t=B3e(r[s],t);return t}function P3e(n,e){return n.x-e.x}function B3e(n,e){const t=I3e(n,e);if(!t)return e;const i=noe(t,n);return e0(i,i.next),e0(t,t.next)}function I3e(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Xy(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Xw(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&L3e(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function L3e(n,e){return Di(n.prev,n,e.prev)<0&&Di(e.next,n,n.next)<0}function D3e(n,e,t,i){let r=n;do r.z===0&&(r.z=RU(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,F3e(r)}function F3e(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function RU(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function N3e(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Xy(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function O3e(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!U3e(n,e)&&(Xw(n,e)&&Xw(e,n)&&k3e(n,e)&&(Di(n.prev,n,e.prev)||Di(n,e.prev,e))||wB(n,e)&&Di(n.prev,n,n.next)>0&&Di(e.prev,e,e.next)>0)}function Di(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function wB(n,e){return n.x===e.x&&n.y===e.y}function toe(n,e,t,i){const r=HC(Di(n,e,t)),s=HC(Di(n,e,i)),o=HC(Di(t,i,n)),a=HC(Di(t,i,e));return!!(r!==s&&o!==a||r===0&&zC(n,t,e)||s===0&&zC(n,i,e)||o===0&&zC(t,n,i)||a===0&&zC(t,e,i))}function zC(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function HC(n){return n>0?1:n<0?-1:0}function U3e(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&toe(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Xw(n,e){return Di(n.prev,n,n.next)<0?Di(n,e,n.next)>=0&&Di(n,n.prev,e)>=0:Di(n,e,n.prev)<0||Di(n,n.next,e)<0}function k3e(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function noe(n,e){const t=new PU(n.i,n.x,n.y),i=new PU(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function eX(n,e,t,i){const r=new PU(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Jw(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function PU(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function z3e(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class ou{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ou.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];tX(e),nX(i,e);let o=e.length;t.forEach(tX);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,nX(i,t[l]);const a=M3e.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function tX(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function nX(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class MB extends ln{constructor(e=new Cg([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ut(r,3)),this.setAttribute("uv",new Ut(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:H3e;let w,b=!1,P,T,B,I;g&&(w=g.getSpacedPoints(h),b=!0,p=!1,P=g.computeFrenetFrames(h,!1),T=new le,B=new le,I=new le),p||(y=0,m=0,v=0,x=0);const R=a.extractPoints(c);let C=R.shape;const N=R.holes;if(!ou.isClockWise(C)){C=C.reverse();for(let fe=0,me=N.length;fe<me;fe++){const Ce=N[fe];ou.isClockWise(Ce)&&(N[fe]=Ce.reverse())}}const W=ou.triangulateShape(C,N),X=C;for(let fe=0,me=N.length;fe<me;fe++){const Ce=N[fe];C=C.concat(Ce)}function Q(fe,me,Ce){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().addScaledVector(me,Ce)}const Y=C.length,ie=W.length;function D(fe,me,Ce){let _e,Ne,Oe;const Re=fe.x-me.x,at=fe.y-me.y,k=Ce.x-fe.x,F=Ce.y-fe.y,se=Re*Re+at*at,ge=Re*F-at*k;if(Math.abs(ge)>Number.EPSILON){const Ae=Math.sqrt(se),Se=Math.sqrt(k*k+F*F),qe=me.x-at/Ae,Ie=me.y+Re/Ae,ze=Ce.x-F/Se,ct=Ce.y+k/Se,Te=((ze-qe)*F-(ct-Ie)*k)/(Re*F-at*k);_e=qe+Re*Te-fe.x,Ne=Ie+at*Te-fe.y;const $e=_e*_e+Ne*Ne;if($e<=2)return new nt(_e,Ne);Oe=Math.sqrt($e/2)}else{let Ae=!1;Re>Number.EPSILON?k>Number.EPSILON&&(Ae=!0):Re<-Number.EPSILON?k<-Number.EPSILON&&(Ae=!0):Math.sign(at)===Math.sign(F)&&(Ae=!0),Ae?(_e=-at,Ne=Re,Oe=Math.sqrt(se)):(_e=Re,Ne=at,Oe=Math.sqrt(se/2))}return new nt(_e/Oe,Ne/Oe)}const z=[];for(let fe=0,me=X.length,Ce=me-1,_e=fe+1;fe<me;fe++,Ce++,_e++)Ce===me&&(Ce=0),_e===me&&(_e=0),z[fe]=D(X[fe],X[Ce],X[_e]);const H=[];let ee,pe=z.concat();for(let fe=0,me=N.length;fe<me;fe++){const Ce=N[fe];ee=[];for(let _e=0,Ne=Ce.length,Oe=Ne-1,Re=_e+1;_e<Ne;_e++,Oe++,Re++)Oe===Ne&&(Oe=0),Re===Ne&&(Re=0),ee[_e]=D(Ce[_e],Ce[Oe],Ce[Re]);H.push(ee),pe=pe.concat(ee)}for(let fe=0;fe<y;fe++){const me=fe/y,Ce=m*Math.cos(me*Math.PI/2),_e=v*Math.sin(me*Math.PI/2)+x;for(let Ne=0,Oe=X.length;Ne<Oe;Ne++){const Re=Q(X[Ne],z[Ne],_e);xe(Re.x,Re.y,-Ce)}for(let Ne=0,Oe=N.length;Ne<Oe;Ne++){const Re=N[Ne];ee=H[Ne];for(let at=0,k=Re.length;at<k;at++){const F=Q(Re[at],ee[at],_e);xe(F.x,F.y,-Ce)}}}const ke=v+x;for(let fe=0;fe<Y;fe++){const me=p?Q(C[fe],pe[fe],ke):C[fe];b?(B.copy(P.normals[0]).multiplyScalar(me.x),T.copy(P.binormals[0]).multiplyScalar(me.y),I.copy(w[0]).add(B).add(T),xe(I.x,I.y,I.z)):xe(me.x,me.y,0)}for(let fe=1;fe<=h;fe++)for(let me=0;me<Y;me++){const Ce=p?Q(C[me],pe[me],ke):C[me];b?(B.copy(P.normals[fe]).multiplyScalar(Ce.x),T.copy(P.binormals[fe]).multiplyScalar(Ce.y),I.copy(w[fe]).add(B).add(T),xe(I.x,I.y,I.z)):xe(Ce.x,Ce.y,d/h*fe)}for(let fe=y-1;fe>=0;fe--){const me=fe/y,Ce=m*Math.cos(me*Math.PI/2),_e=v*Math.sin(me*Math.PI/2)+x;for(let Ne=0,Oe=X.length;Ne<Oe;Ne++){const Re=Q(X[Ne],z[Ne],_e);xe(Re.x,Re.y,d+Ce)}for(let Ne=0,Oe=N.length;Ne<Oe;Ne++){const Re=N[Ne];ee=H[Ne];for(let at=0,k=Re.length;at<k;at++){const F=Q(Re[at],ee[at],_e);b?xe(F.x,F.y+w[h-1].y,w[h-1].x+Ce):xe(F.x,F.y,d+Ce)}}}ne(),ve();function ne(){const fe=r.length/3;if(p){let me=0,Ce=Y*me;for(let _e=0;_e<ie;_e++){const Ne=W[_e];st(Ne[2]+Ce,Ne[1]+Ce,Ne[0]+Ce)}me=h+y*2,Ce=Y*me;for(let _e=0;_e<ie;_e++){const Ne=W[_e];st(Ne[0]+Ce,Ne[1]+Ce,Ne[2]+Ce)}}else{for(let me=0;me<ie;me++){const Ce=W[me];st(Ce[2],Ce[1],Ce[0])}for(let me=0;me<ie;me++){const Ce=W[me];st(Ce[0]+Y*h,Ce[1]+Y*h,Ce[2]+Y*h)}}i.addGroup(fe,r.length/3-fe,0)}function ve(){const fe=r.length/3;let me=0;be(X,me),me+=X.length;for(let Ce=0,_e=N.length;Ce<_e;Ce++){const Ne=N[Ce];be(Ne,me),me+=Ne.length}i.addGroup(fe,r.length/3-fe,1)}function be(fe,me){let Ce=fe.length;for(;--Ce>=0;){const _e=Ce;let Ne=Ce-1;Ne<0&&(Ne=fe.length-1);for(let Oe=0,Re=h+y*2;Oe<Re;Oe++){const at=Y*Oe,k=Y*(Oe+1),F=me+_e+at,se=me+Ne+at,ge=me+Ne+k,Ae=me+_e+k;Ke(F,se,ge,Ae)}}}function xe(fe,me,Ce){l.push(fe),l.push(me),l.push(Ce)}function st(fe,me,Ce){Ge(fe),Ge(me),Ge(Ce);const _e=r.length/3,Ne=S.generateTopUV(i,r,_e-3,_e-2,_e-1);U(Ne[0]),U(Ne[1]),U(Ne[2])}function Ke(fe,me,Ce,_e){Ge(fe),Ge(me),Ge(_e),Ge(me),Ge(Ce),Ge(_e);const Ne=r.length/3,Oe=S.generateSideWallUV(i,r,Ne-6,Ne-3,Ne-2,Ne-1);U(Oe[0]),U(Oe[1]),U(Oe[3]),U(Oe[1]),U(Oe[2]),U(Oe[3])}function Ge(fe){r.push(l[fe*3+0]),r.push(l[fe*3+1]),r.push(l[fe*3+2])}function U(fe){s.push(fe.x),s.push(fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return G3e(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new S2[r.type]().fromJSON(r)),new MB(i,e.options)}}const H3e={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],h=e[r*3+1];return[new nt(s,o),new nt(a,l),new nt(c,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],x=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new nt(o,1-l),new nt(c,1-d),new nt(p,1-v),new nt(x,1-g)]:[new nt(a,1-l),new nt(h,1-d),new nt(m,1-v),new nt(y,1-g)]}};function G3e(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class bB extends up{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bB(e.radius,e.detail)}}class jM extends up{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jM(e.radius,e.detail)}}class EB extends ln{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],h=[];let d=e;const p=(t-e)/r,m=new le,v=new nt;for(let x=0;x<=r;x++){for(let y=0;y<=i;y++){const g=s+y/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}d+=p}for(let x=0;x<r;x++){const y=x*(i+1);for(let g=0;g<i;g++){const S=g+y,w=S,b=S+i+1,P=S+i+2,T=S+1;a.push(w,b,T),a.push(b,P,T)}}this.setIndex(a),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(c,3)),this.setAttribute("uv",new Ut(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new EB(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class CB extends ln{constructor(e=new Cg([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ut(r,3)),this.setAttribute("normal",new Ut(s,3)),this.setAttribute("uv",new Ut(o,2));function c(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;ou.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const S=v[y];ou.isClockWise(S)===!0&&(v[y]=S.reverse())}const x=ou.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const S=v[y];m=m.concat(S)}for(let y=0,g=m.length;y<g;y++){const S=m[y];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let y=0,g=x.length;y<g;y++){const S=x[y],w=S[0]+d,b=S[1]+d,P=S[2]+d;i.push(w,b,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return V3e(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new CB(i,e.curveSegments)}}function V3e(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class WM extends ln{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const h=[],d=new le,p=new le,m=[],v=[],x=[],y=[];for(let g=0;g<=i;g++){const S=[],w=g/i;let b=0;g===0&&o===0?b=.5/t:g===i&&l===Math.PI&&(b=-.5/t);for(let P=0;P<=t;P++){const T=P/t;d.x=-e*Math.cos(r+T*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(r+T*s)*Math.sin(o+w*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),y.push(T+b,1-w),S.push(c++)}h.push(S)}for(let g=0;g<i;g++)for(let S=0;S<t;S++){const w=h[g][S+1],b=h[g][S],P=h[g+1][S],T=h[g+1][S+1];(g!==0||o>0)&&m.push(w,b,T),(g!==i-1||l<Math.PI)&&m.push(b,P,T)}this.setIndex(m),this.setAttribute("position",new Ut(v,3)),this.setAttribute("normal",new Ut(x,3)),this.setAttribute("uv",new Ut(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TB extends up{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new TB(e.radius,e.detail)}}class RB extends ln{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],h=new le,d=new le,p=new le;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const x=v/r*s,y=m/i*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(x),d.y=(e+t*Math.cos(y))*Math.sin(x),d.z=t*Math.sin(y),a.push(d.x,d.y,d.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const x=(r+1)*m+v-1,y=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,S=(r+1)*m+v;o.push(x,y,S),o.push(y,g,S)}this.setIndex(o),this.setAttribute("position",new Ut(a,3)),this.setAttribute("normal",new Ut(l,3)),this.setAttribute("uv",new Ut(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RB(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class PB extends ln{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],h=[],d=new le,p=new le,m=new le,v=new le,x=new le,y=new le,g=new le;for(let w=0;w<=i;++w){const b=w/i*s*Math.PI*2;S(b,s,o,e,m),S(b+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let P=0;P<=r;++P){const T=P/r*Math.PI*2,B=-t*Math.cos(T),I=t*Math.sin(T);d.x=m.x+(B*g.x+I*x.x),d.y=m.y+(B*g.y+I*x.y),d.z=m.z+(B*g.z+I*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),h.push(w/i),h.push(P/r)}}for(let w=1;w<=i;w++)for(let b=1;b<=r;b++){const P=(r+1)*(w-1)+(b-1),T=(r+1)*w+(b-1),B=(r+1)*w+b,I=(r+1)*(w-1)+b;a.push(P,T,I),a.push(T,B,I)}this.setIndex(a),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(c,3)),this.setAttribute("uv",new Ut(h,2));function S(w,b,P,T,B){const I=Math.cos(w),R=Math.sin(w),C=P/b*w,N=Math.cos(C);B.x=T*(2+N)*.5*I,B.y=T*(2+N)*R*.5,B.z=T*Math.sin(C)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PB(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class BB extends ln{constructor(e=new _G(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new le,l=new le,c=new nt;let h=new le;const d=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(p,3)),this.setAttribute("uv",new Ut(m,2));function x(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),S(),g()}function y(w){h=e.getPointAt(w/t,h);const b=o.normals[w],P=o.binormals[w];for(let T=0;T<=r;T++){const B=T/r*Math.PI*2,I=Math.sin(B),R=-Math.cos(B);l.x=R*b.x+I*P.x,l.y=R*b.y+I*P.y,l.z=R*b.z+I*P.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=t;w++)for(let b=1;b<=r;b++){const P=(r+1)*(w-1)+(b-1),T=(r+1)*w+(b-1),B=(r+1)*w+b,I=(r+1)*(w-1)+b;v.push(P,T,I),v.push(T,B,I)}}function S(){for(let w=0;w<=t;w++)for(let b=0;b<=r;b++)c.x=w/t,c.y=b/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new BB(new S2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ioe extends ln{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new le,s=new le;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const d=l[c],p=d.start,m=d.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),S=a.getX(v+(y+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,S),iX(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const h=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),iX(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ut(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function iX(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var rX=Object.freeze({__proto__:null,BoxGeometry:g0,CapsuleGeometry:xB,CircleGeometry:_B,ConeGeometry:AB,CylinderGeometry:C1,DodecahedronGeometry:SB,EdgesGeometry:Zse,ExtrudeGeometry:MB,IcosahedronGeometry:bB,LatheGeometry:VM,OctahedronGeometry:jM,PlaneGeometry:b1,PolyhedronGeometry:up,RingGeometry:EB,ShapeGeometry:CB,SphereGeometry:WM,TetrahedronGeometry:TB,TorusGeometry:RB,TorusKnotGeometry:PB,TubeGeometry:BB,WireframeGeometry:ioe});class roe extends yr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class soe extends dc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class XM extends yr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cp,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bl extends XM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ji(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ooe extends yr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cp,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.combine=DM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aoe extends yr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cp,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class loe extends yr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cp,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class coe extends yr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cp,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.combine=DM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uoe extends yr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cp,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hoe extends Qs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function og(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function doe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function foe(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function BU(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function SG(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function j3e(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){d.push(c.times[m]);for(let x=0;x<h;++x)p.push(c.values[m*h+x])}}d.length!==0&&(c.times=og(d,c.times.constructor),c.values=og(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function W3e(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=h,S=d-h;x=a.values.slice(g,S)}else if(s>=a.times[v]){const g=v*d+h,S=g+d-h;x=a.values.slice(g,S)}else{const g=a.createInterpolant(),S=h,w=d-h;g.evaluate(s),x=g.resultBuffer.slice(S,w)}l==="quaternion"&&new $r().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const S=g*m+p;if(l==="quaternion")$r.multiplyQuaternionsFlat(c.values,S,x,0,c.values,S);else{const w=m-p*2;for(let b=0;b<w;++b)c.values[S+b]-=x[b]}}}return n.blendMode=QH,n}const X3e={convertArray:og,isTypedArray:doe,getKeyframeOrder:foe,sortedArray:BU,flattenJSON:SG,subclip:j3e,makeClipAdditive:W3e};class T1{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class poe extends T1{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ig,endingEnd:ig}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case rg:s=e,a=2*t-i;break;case Ow:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case rg:o=e,l=2*i-t;break;case Ow:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,S=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,w=(-1-m)*y+(1.5+m)*x+.5*v,b=m*y-m*x;for(let P=0;P!==a;++P)s[P]=g*o[h+P]+S*o[c+P]+w*o[l+P]+b*o[d+P];return s}}class wG extends T1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*h;return s}}class moe extends T1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class xc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=og(t,this.TimeBufferType),this.values=og(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:og(e.times,Array),values:og(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new moe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new wG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new poe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kx:t=this.InterpolantFactoryMethodDiscrete;break;case Yx:t=this.InterpolantFactoryMethodLinear;break;case XT:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kx;case this.InterpolantFactoryMethodLinear:return Yx;case this.InterpolantFactoryMethodSmooth:return XT}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&doe(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===XT,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const x=t[d+v];if(x!==t[p+v]||x!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}xc.prototype.TimeBufferType=Float32Array;xc.prototype.ValueBufferType=Float32Array;xc.prototype.DefaultInterpolation=Yx;class v0 extends xc{constructor(e,t,i){super(e,t,i)}}v0.prototype.ValueTypeName="bool";v0.prototype.ValueBufferType=Array;v0.prototype.DefaultInterpolation=Kx;v0.prototype.InterpolantFactoryMethodLinear=void 0;v0.prototype.InterpolantFactoryMethodSmooth=void 0;class MG extends xc{}MG.prototype.ValueTypeName="color";class t0 extends xc{}t0.prototype.ValueTypeName="number";class goe extends T1{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let h=c+a;c!==h;c+=4)$r.slerpFlat(s,0,o,c-a,o,c,l);return s}}class n0 extends xc{InterpolantFactoryMethodLinear(e){return new goe(this.times,this.values,this.getValueSize(),e)}}n0.prototype.ValueTypeName="quaternion";n0.prototype.InterpolantFactoryMethodSmooth=void 0;class y0 extends xc{constructor(e,t,i){super(e,t,i)}}y0.prototype.ValueTypeName="string";y0.prototype.ValueBufferType=Array;y0.prototype.DefaultInterpolation=Kx;y0.prototype.InterpolantFactoryMethodLinear=void 0;y0.prototype.InterpolantFactoryMethodSmooth=void 0;class i0 extends xc{}i0.prototype.ValueTypeName="vector";class $x{constructor(e="",t=-1,i=[],r=uB){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ya(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(K3e(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(xc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=foe(l);l=BU(l,1,h),c=BU(c,1,h),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new t0(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,x){if(m.length!==0){const y=[],g=[];SG(m,y,g,v),y.length!==0&&x.push(new d(p,y,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let S=0;S!==p[v].morphTargets.length;++S){const w=p[v];y.push(w.time),g.push(w.morphTarget===x?1:0)}r.push(new t0(".morphTargetInfluence["+x+"]",y,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(i0,m+".position",p,"pos",r),i(n0,m+".quaternion",p,"rot",r),i(i0,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function J3e(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return t0;case"vector":case"vector2":case"vector3":case"vector4":return i0;case"color":return MG;case"quaternion":return n0;case"bool":case"boolean":return v0;case"string":return y0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function K3e(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=J3e(n.type);if(n.times===void 0){const t=[],i=[];SG(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const bh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class bG{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Jy=new bG;let qs=class{constructor(e){this.manager=e!==void 0?e:Jy,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};qs.DEFAULT_MATERIAL_NAME="__DEFAULT";const rh={};class Y3e extends Error{constructor(e,t){super(e),this.response=t}}class Ea extends qs{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=bh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(rh[e]!==void 0){rh[e].push({onLoad:t,onProgress:i,onError:r});return}rh[e]=[],rh[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=rh[e],d=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){S();function S(){d.read().then(({done:w,value:b})=>{if(w)g.close();else{x+=b.byteLength;const P=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let T=0,B=h.length;T<B;T++){const I=h[T];I.onProgress&&I.onProgress(P)}g.enqueue(b),S()}},w=>{g.error(w)})}}});return new Response(y)}else throw new Y3e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{bh.add(e,c);const h=rh[e];delete rh[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=rh[e];if(h===void 0)throw this.manager.itemError(e),c;delete rh[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Q3e extends qs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ea(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=$x.parse(e[i]);t.push(r)}return t}}class q3e extends qs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new vB,l=new Ea(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Yi),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Yi),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Kw extends qs{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=bh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Vw("img");function l(){h(),bh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class $3e extends qs{constructor(e){super(e)}load(e,t,i,r){const s=new UM;s.colorSpace=sl;const o=new Kw(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(h){s.images[c]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Z3e extends qs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Nh,a=new Ea(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ha,o.wrapT=c.wrapT!==void 0?c.wrapT:ha,o.magFilter=c.magFilter!==void 0?c.magFilter:Yi,o.minFilter=c.minFilter!==void 0?c.minFilter:Yi,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=gl),c.mipmapCount===1&&(o.minFilter=Yi),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class JM extends qs{constructor(e){super(e)}load(e,t,i,r){const s=new si,o=new Kw(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class hp extends Pn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ct(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class voe extends hp{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ct(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const o3=new Wt,sX=new le,oX=new le;class EG{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kM,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new Qn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;sX.setFromMatrixPosition(e.matrixWorld),t.position.copy(sX),oX.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(oX),t.updateMatrixWorld(),o3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o3),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(o3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class eFe extends EG{constructor(){super(new _i(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Qx*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class CG extends hp{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new eFe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const aX=new Wt,EA=new le,a3=new le;class tFe extends EG{constructor(){super(new _i(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new Qn(2,1,1,1),new Qn(0,1,1,1),new Qn(3,1,1,1),new Qn(1,1,1,1),new Qn(3,0,1,1),new Qn(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),EA.setFromMatrixPosition(e.matrixWorld),i.position.copy(EA),a3.copy(i.position),a3.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(a3),i.updateMatrixWorld(),r.makeTranslation(-EA.x,-EA.y,-EA.z),aX.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aX)}}class TG extends hp{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new tFe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nFe extends EG{constructor(){super(new vl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class RG extends hp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.shadow=new nFe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yoe extends hp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class xoe extends hp{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class _oe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Aoe extends hp{constructor(e=new _oe,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class IB extends qs{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Ea(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=IB.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ct().setHex(o.value);break;case"v2":r.uniforms[s].value=new nt().fromArray(o.value);break;case"v3":r.uniforms[s].value=new le().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Qn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new un().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Wt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new nt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new nt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:roe,SpriteMaterial:hG,RawShaderMaterial:soe,ShaderMaterial:dc,PointsMaterial:GM,MeshPhysicalMaterial:bl,MeshStandardMaterial:XM,MeshPhongMaterial:ooe,MeshToonMaterial:aoe,MeshNormalMaterial:loe,MeshLambertMaterial:coe,MeshDepthMaterial:cG,MeshDistanceMaterial:uG,MeshBasicMaterial:fa,MeshMatcapMaterial:uoe,LineDashedMaterial:hoe,LineBasicMaterial:Qs,Material:yr};return new t[e]}}class Lf{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Soe extends ln{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class woe extends qs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ea(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),S=jy(y.type,g),w=new zM(S,y.stride);return w.uuid=y.uuid,t[v]=w,w}function s(m,v){if(i[v]!==void 0)return i[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new Soe:new ln,a=e.data.index;if(a!==void 0){const m=jy(a.type,a.array);o.setIndex(new Fn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=r(e.data,v.data);x=new Kf(y,v.itemSize,v.offset,v.normalized)}else{const y=jy(v.type,v.array),g=v.isInstancedBufferAttribute?Zg:Fn;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let y=0,g=v.length;y<g;y++){const S=v[y];let w;if(S.isInterleavedBufferAttribute){const b=r(e.data,S.data);w=new Kf(b,S.itemSize,S.offset,S.normalized)}else{const b=jy(S.type,S.array);w=new Fn(b,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),x.push(w)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const x=d[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new le;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ys(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class iFe extends qs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Lf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ea(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Lf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ea(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Cg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new HM().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new woe;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in rX?a=rX[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new IB;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=$x.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(h)}else return l.data?{data:jy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new bG(t);s=new Kw(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Nh(g.data,g.width,g.height)))}r[d.uuid]=new sg(m)}else{const m=a(d.url);r[d.uuid]=new sg(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:jy(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Kw(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Nh(v.data,v.width,v.height)))}i[l.uuid]=new sg(h)}else{const h=await s(l.url);i[l.uuid]=new sg(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let h;Array.isArray(c)?(h=new UM,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new Nh:h=new si,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,rFe)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],lX),h.wrapT=i(a.wrap[1],lX)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,cX)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,cX)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(i[y])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new x2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ct(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new mB(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new pB(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new _i(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new vl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new yoe(e.color,e.intensity);break;case"DirectionalLight":o=new RG(e.color,e.intensity);break;case"PointLight":o=new TG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new xoe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new CG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new voe(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Aoe().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new dG(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new qi(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new fG(h,d,p),o.instanceMatrix=new Zg(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Zg(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":h=a(e.geometry),d=l(e.material),o=new Jse(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new js;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const g=new ys;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new Xse;break;case"Line":o=new Zh(a(e.geometry),l(e.material));break;case"LineLoop":o=new pG(a(e.geometry),l(e.material));break;case"LineSegments":o=new vc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new mG(a(e.geometry),l(e.material));break;case"Sprite":o=new Wse(l(e.material));break;case"Group":o=new Mh;break;case"Bone":o=new gB;break;default:o=new Pn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const rFe={UVMapping:lB,CubeReflectionMapping:$h,CubeRefractionMapping:Xf,EquirectangularReflectionMapping:Dw,EquirectangularRefractionMapping:Fw,CubeUVReflectionMapping:M1},lX={RepeatWrapping:Jf,ClampToEdgeWrapping:ha,MirroredRepeatWrapping:Jx},cX={NearestFilter:Br,NearestMipmapNearestFilter:cB,NearestMipmapLinearFilter:ng,LinearFilter:Yi,LinearMipmapNearestFilter:gx,LinearMipmapLinearFilter:gl};class Moe extends qs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=bh.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return bh.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),bh.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});bh.add(e,l),s.manager.itemStart(e)}}let GC;class PG{static getContext(){return GC===void 0&&(GC=new(window.AudioContext||window.webkitAudioContext)),GC}static setContext(e){GC=e}}class sFe extends qs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ea(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);PG.getContext().decodeAudioData(c,function(d){t(d)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const uX=new Wt,hX=new Wt,pm=new Wt;class oFe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _i,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _i,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,pm.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(bg*t.fov*.5)/t.zoom;let a,l;hX.elements[12]=-r,uX.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,pm.elements[0]=2*t.near/(l-a),pm.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(pm),a=-o*t.aspect-s,l=o*t.aspect-s,pm.elements[0]=2*t.near/(l-a),pm.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(pm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(hX),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uX)}}class BG{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=dX(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=dX();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function dX(){return(typeof performance>"u"?Date:performance).now()}const mm=new le,fX=new $r,aFe=new le,gm=new le;class lFe extends Pn{constructor(){super(),this.type="AudioListener",this.context=PG.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new BG}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mm,fX,aFe),gm.set(0,0,-1).applyQuaternion(fX),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(mm.x,r),t.positionY.linearRampToValueAtTime(mm.y,r),t.positionZ.linearRampToValueAtTime(mm.z,r),t.forwardX.linearRampToValueAtTime(gm.x,r),t.forwardY.linearRampToValueAtTime(gm.y,r),t.forwardZ.linearRampToValueAtTime(gm.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(mm.x,mm.y,mm.z),t.setOrientation(gm.x,gm.y,gm.z,i.x,i.y,i.z)}}class boe extends Pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vm=new le,pX=new $r,cFe=new le,ym=new le;class uFe extends boe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vm,pX,cFe),ym.set(0,0,1).applyQuaternion(pX);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(vm.x,i),t.positionY.linearRampToValueAtTime(vm.y,i),t.positionZ.linearRampToValueAtTime(vm.z,i),t.orientationX.linearRampToValueAtTime(ym.x,i),t.orientationY.linearRampToValueAtTime(ym.y,i),t.orientationZ.linearRampToValueAtTime(ym.z,i)}else t.setPosition(vm.x,vm.y,vm.z),t.setOrientation(ym.x,ym.y,ym.z)}}class hFe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class Eoe{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){$r.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;$r.multiplyQuaternionsFlat(e,o,e,t,e,i),$r.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const IG="\\[\\]\\.:\\/",dFe=new RegExp("["+IG+"]","g"),LG="[^"+IG+"]",fFe="[^"+IG.replace("\\.","")+"]",pFe=/((?:WC+[\/:])*)/.source.replace("WC",LG),mFe=/(WCOD+)?/.source.replace("WCOD",fFe),gFe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",LG),vFe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",LG),yFe=new RegExp("^"+pFe+mFe+gFe+vFe+"$"),xFe=["material","materials","bones","map"];class _Fe{constructor(e,t,i){const r=i||Ln.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ln{constructor(e,t,i){this.path=t,this.parsedPath=i||Ln.parseTrackName(t),this.node=Ln.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ln.Composite(e,t,i):new Ln(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(dFe,"")}static parseTrackName(e){const t=yFe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);xFe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Ln.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ln.Composite=_Fe;Ln.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ln.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ln.prototype.GetterByBindingType=[Ln.prototype._getValue_direct,Ln.prototype._getValue_array,Ln.prototype._getValue_arrayElement,Ln.prototype._getValue_toArray];Ln.prototype.SetterByBindingTypeAndVersioning=[[Ln.prototype._setValue_direct,Ln.prototype._setValue_direct_setNeedsUpdate,Ln.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ln.prototype._setValue_array,Ln.prototype._setValue_array_setNeedsUpdate,Ln.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ln.prototype._setValue_arrayElement,Ln.prototype._setValue_arrayElement_setNeedsUpdate,Ln.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ln.prototype._setValue_fromArray,Ln.prototype._setValue_fromArray_setNeedsUpdate,Ln.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AFe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ya(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let x=0,y=o;x!==y;++x)s[x].push(new Ln(p,i[x],r[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];t[y.uuid]=v,e[v]=y,t[m]=x,e[x]=p;for(let g=0,S=o;g!==S;++g){const w=s[g],b=w[x];let P=w[v];w[v]=b,P===void 0&&(P=new Ln(p,i[g],r[g])),w[x]=P}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[c]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const x=i[m],y=x[d],g=x[h];x[h]=y,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],v=--o,x=e[v];t[m.uuid]=d,e[d]=m,t[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=r;y!==g;++y){const S=i[y],w=S[p],b=S[v];S[d]=w,S[p]=b,S.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,x=r;v!==x;++v){const y=i[v];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const v=l[p];d[p]=new Ln(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class Coe{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ig,endingEnd:ig};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=mse,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case QH:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case uB:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===gse;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===pse){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=rg,r.endingEnd=rg):(e?r.endingStart=this.zeroSlopeAtStart?rg:ig:r.endingStart=Ow,t?r.endingEnd=this.zeroSlopeAtEnd?rg:ig:r.endingEnd=Ow)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const SFe=new Float32Array(1);class wFe extends xu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=t&&t._propertyBindings[d].binding.parsedPath;v=new Eoe(Ln.create(i,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new wG(new Float32Array(2),new Float32Array(2),1,SFe),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?$x.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=uB),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new Coe(this,o,t,i);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?$x.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class DG{constructor(e){this.value=e}clone(){return new DG(this.value.clone===void 0?this.value:this.value.clone())}}let MFe=0;class bFe extends xu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:MFe++}),this.name="",this.usage=Hw,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class EFe extends zM{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class CFe{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const mX=new Wt;class Toe{constructor(e,t,i=0,r=1/0){this.ray=new m0(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Eg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return mX.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(mX),this}intersectObject(e,t=!0,i=[]){return IU(e,this,i,t),i.sort(gX),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)IU(e[r],this,i,t);return i.sort(gX),i}}function gX(n,e){return n.distance-e.distance}function IU(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)IU(s[o],e,t,!0)}}class LU{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ji(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class TFe{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const vX=new nt;class RFe{constructor(e=new nt(1/0,1/0),t=new nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=vX.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vX).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yX=new le,VC=new le;class PFe{constructor(e=new le,t=new le){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){yX.subVectors(e,this.start),VC.subVectors(this.end,this.start);const i=VC.dot(VC);let s=VC.dot(yX)/i;return t&&(s=Ji(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const xX=new le;class BFe extends Pn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ln,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Ut(r,3));const s=new Qs({fog:!1,toneMapped:!1});this.cone=new vc(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),xX.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xX),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wd=new le,jC=new Wt,l3=new Wt;class IFe extends vc{constructor(e){const t=Roe(e),i=new ln,r=[],s=[],o=new Ct(0,0,1),a=new Ct(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ut(r,3)),i.setAttribute("color",new Ut(s,3));const l=new Qs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");l3.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(jC.multiplyMatrices(l3,a.matrixWorld),Wd.setFromMatrixPosition(jC),r.setXYZ(o,Wd.x,Wd.y,Wd.z),jC.multiplyMatrices(l3,a.parent.matrixWorld),Wd.setFromMatrixPosition(jC),r.setXYZ(o+1,Wd.x,Wd.y,Wd.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Roe(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,Roe(n.children[t]));return e}class LFe extends qi{constructor(e,t,i){const r=new WM(t,4,2),s=new fa({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const DFe=new le,_X=new Ct,AX=new Ct;class FFe extends Pn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new jM(t);r.rotateY(Math.PI*.5),this.material=new fa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Fn(o,3)),this.add(new qi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");_X.copy(this.light.color),AX.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?_X:AX;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(DFe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class NFe extends vc{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ct(i),r=new Ct(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?i:r;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const h=new ln;h.setAttribute("position",new Ut(l,3)),h.setAttribute("color",new Ut(c,3));const d=new Qs({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class OFe extends vc{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ct(s),o=new Ct(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let x=v/r*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/r*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const c=new ln;c.setAttribute("position",new Ut(a,3)),c.setAttribute("color",new Ut(l,3));const h=new Qs({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const SX=new le,WC=new le,wX=new le;class UFe extends Pn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ln;r.setAttribute("position",new Ut([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Qs({fog:!1,toneMapped:!1});this.lightPlane=new Zh(r,s),this.add(this.lightPlane),r=new ln,r.setAttribute("position",new Ut([0,0,0,0,0,1],3)),this.targetLine=new Zh(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),SX.setFromMatrixPosition(this.light.matrixWorld),WC.setFromMatrixPosition(this.light.target.matrixWorld),wX.subVectors(WC,SX),this.lightPlane.lookAt(WC),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(WC),this.targetLine.scale.z=wX.length()}}const XC=new le,Vi=new OM;class kFe extends vc{constructor(e){const t=new ln,i=new Qs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ut(r,3)),t.setAttribute("color",new Ut(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ct(16755200),h=new Ct(16711680),d=new Ct(43775),p=new Ct(16777215),m=new Ct(3355443);this.setColors(c,h,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Vi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),er("c",t,e,Vi,0,0,-1),er("t",t,e,Vi,0,0,1),er("n1",t,e,Vi,-i,-r,-1),er("n2",t,e,Vi,i,-r,-1),er("n3",t,e,Vi,-i,r,-1),er("n4",t,e,Vi,i,r,-1),er("f1",t,e,Vi,-i,-r,1),er("f2",t,e,Vi,i,-r,1),er("f3",t,e,Vi,-i,r,1),er("f4",t,e,Vi,i,r,1),er("u1",t,e,Vi,i*.7,r*1.1,-1),er("u2",t,e,Vi,-i*.7,r*1.1,-1),er("u3",t,e,Vi,0,r*2,-1),er("cf1",t,e,Vi,-i,0,1),er("cf2",t,e,Vi,i,0,1),er("cf3",t,e,Vi,0,-r,1),er("cf4",t,e,Vi,0,r,1),er("cn1",t,e,Vi,-i,0,-1),er("cn2",t,e,Vi,i,0,-1),er("cn3",t,e,Vi,0,-r,-1),er("cn4",t,e,Vi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function er(n,e,t,i,r,s,o){XC.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],XC.x,XC.y,XC.z)}}const JC=new js;class zFe extends vc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ln;s.setIndex(new Fn(i,1)),s.setAttribute("position",new Fn(r,3)),super(s,new Qs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&JC.setFromObject(this.object),JC.isEmpty())return;const t=JC.min,i=JC.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class HFe extends vc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ln;s.setIndex(new Fn(i,1)),s.setAttribute("position",new Ut(r,3)),super(s,new Qs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class GFe extends Zh{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ln;o.setAttribute("position",new Ut(s,3)),o.computeBoundingSphere(),super(o,new Qs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ln;l.setAttribute("position",new Ut(a,3)),l.computeBoundingSphere(),this.add(new qi(l,new fa({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const MX=new le;let KC,c3;class VFe extends Pn{constructor(e=new le(0,0,1),t=new le(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",KC===void 0&&(KC=new ln,KC.setAttribute("position",new Ut([0,0,0,0,1,0],3)),c3=new C1(0,.5,1,5,1),c3.translate(0,-.5,0)),this.position.copy(t),this.line=new Zh(KC,new Qs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qi(c3,new fa({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{MX.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(MX,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class jFe extends vc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ln;r.setAttribute("position",new Ut(t,3)),r.setAttribute("color",new Ut(i,3));const s=new Qs({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ct,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WFe{constructor(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new jw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const S=[];for(let w=0,b=g.length;w<b;w++){const P=g[w],T=new Cg;T.curves=P.curves,S.push(T)}return S}function i(g,S){const w=S.length;let b=!1;for(let P=w-1,T=0;T<w;P=T++){let B=S[P],I=S[T],R=I.x-B.x,C=I.y-B.y;if(Math.abs(C)>Number.EPSILON){if(C<0&&(B=S[T],R=-R,I=S[P],C=-C),g.y<B.y||g.y>I.y)continue;if(g.y===B.y){if(g.x===B.x)return!0}else{const N=C*(g.x-B.x)-R*(g.y-B.y);if(N===0)return!0;if(N<0)continue;b=!b}}else{if(g.y!==B.y)continue;if(I.x<=g.x&&g.x<=B.x||B.x<=g.x&&g.x<=I.x)return!0}}return b}const r=ou.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Cg,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,S=s.length;g<S;g++)a=s[g],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new Cg,p:x},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,S=0;for(let w=0,b=p.length;w<b;w++)d[w]=[];for(let w=0,b=p.length;w<b;w++){const P=m[w];for(let T=0;T<P.length;T++){const B=P[T];let I=!0;for(let R=0;R<p.length;R++)i(B.p,p[R].p)&&(w!==R&&S++,I?(I=!1,d[R].push(B)):g=!0);I&&d[w].push(B)}}S>0&&g===!1&&(m=d)}let y;for(let g=0,S=p.length;g<S;g++){l=p[g].s,c.push(l),y=m[g];for(let w=0,b=y.length;w<b;w++)l.holes.push(y[w].h)}return c}}class XFe extends hc{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:w1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=w1);const JFe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:GH,AddEquation:cf,AddOperation:qre,AdditiveAnimationBlendMode:QH,AdditiveBlending:KO,AgXToneMapping:nse,AlphaFormat:lse,AlwaysCompare:Cse,AlwaysDepth:jre,AlwaysStencilFunc:MU,AmbientLight:yoe,AnimationAction:Coe,AnimationClip:$x,AnimationLoader:Q3e,AnimationMixer:wFe,AnimationObjectGroup:AFe,AnimationUtils:X3e,ArcCurve:Kse,ArrayCamera:Gse,ArrowHelper:VFe,AttachedBindMode:qO,Audio:boe,AudioAnalyser:hFe,AudioContext:PG,AudioListener:lFe,AudioLoader:sFe,AxesHelper:jFe,BackSide:mo,BasicDepthPacking:yse,BasicShadowMap:Mre,BatchedMesh:Jse,Bone:gB,BooleanKeyframeTrack:v0,Box2:RFe,Box3:js,Box3Helper:HFe,BoxGeometry:g0,BoxHelper:zFe,BufferAttribute:Fn,BufferGeometry:ln,BufferGeometryLoader:woe,ByteType:sse,Cache:bh,Camera:OM,CameraHelper:kFe,CanvasTexture:g3e,CapsuleGeometry:xB,CatmullRomCurve3:Yse,CineonToneMapping:ese,CircleGeometry:_B,ClampToEdgeWrapping:ha,Clock:BG,Color:Ct,ColorKeyframeTrack:MG,ColorManagement:Gn,CompressedArrayTexture:p3e,CompressedCubeTexture:m3e,CompressedTexture:vB,CompressedTextureLoader:q3e,ConeGeometry:AB,ConstantAlphaFactor:Hre,ConstantColorFactor:kre,CubeCamera:sG,CubeReflectionMapping:$h,CubeRefractionMapping:Xf,CubeTexture:UM,CubeTextureLoader:$3e,CubeUVReflectionMapping:M1,CubicBezierCurve:vG,CubicBezierCurve3:Qse,CubicInterpolant:poe,CullFaceBack:JO,CullFaceFront:wre,CullFaceFrontBack:s2e,CullFaceNone:Sre,Curve:yc,CurvePath:$se,CustomBlending:bre,CustomToneMapping:tse,CylinderGeometry:C1,Cylindrical:TFe,Data3DTexture:nG,DataArrayTexture:dB,DataTexture:Nh,DataTextureLoader:Z3e,DataUtils:uPe,DecrementStencilOp:f2e,DecrementWrapStencilOp:m2e,DefaultLoadingManager:Jy,DepthFormat:wg,DepthStencilFormat:$g,DepthTexture:lG,DetachedBindMode:rse,DirectionalLight:RG,DirectionalLightHelper:UFe,DiscreteInterpolant:moe,DisplayP3ColorSpace:hB,DodecahedronGeometry:SB,DoubleSide:hl,DstAlphaFactor:Dre,DstColorFactor:Nre,DynamicCopyUsage:R2e,DynamicDrawUsage:Mg,DynamicReadUsage:E2e,EdgesGeometry:Zse,EllipseCurve:yB,EqualCompare:wse,EqualDepth:Xre,EqualStencilFunc:x2e,EquirectangularReflectionMapping:Dw,EquirectangularRefractionMapping:Fw,Euler:go,EventDispatcher:xu,ExtrudeGeometry:MB,FileLoader:Ea,Float16BufferAttribute:gPe,Float32BufferAttribute:Ut,FloatType:da,Fog:mB,FogExp2:pB,FramebufferTexture:f3e,FrontSide:fu,Frustum:kM,GLBufferAttribute:CFe,GLSL1:B2e,GLSL3:bU,GreaterCompare:Mse,GreaterDepth:Kre,GreaterEqualCompare:Ese,GreaterEqualDepth:Jre,GreaterEqualStencilFunc:w2e,GreaterStencilFunc:A2e,GridHelper:NFe,Group:Mh,HalfFloatType:FM,HemisphereLight:voe,HemisphereLightHelper:FFe,IcosahedronGeometry:bB,ImageBitmapLoader:Moe,ImageLoader:Kw,ImageUtils:Pse,IncrementStencilOp:d2e,IncrementWrapStencilOp:p2e,InstancedBufferAttribute:Zg,InstancedBufferGeometry:Soe,InstancedInterleavedBuffer:EFe,InstancedMesh:fG,Int16BufferAttribute:pPe,Int32BufferAttribute:mPe,Int8BufferAttribute:hPe,IntType:VH,InterleavedBuffer:zM,InterleavedBufferAttribute:Kf,Interpolant:T1,InterpolateDiscrete:Kx,InterpolateLinear:Yx,InterpolateSmooth:XT,InvertStencilOp:g2e,KeepStencilOp:Dm,KeyframeTrack:xc,LOD:Xse,LatheGeometry:VM,Layers:Eg,LessCompare:Sse,LessDepth:Wre,LessEqualCompare:$H,LessEqualDepth:Lw,LessEqualStencilFunc:_2e,LessStencilFunc:y2e,Light:hp,LightProbe:Aoe,Line:Zh,Line3:PFe,LineBasicMaterial:Qs,LineCurve:yG,LineCurve3:qse,LineDashedMaterial:hoe,LineLoop:pG,LineSegments:vc,LinearDisplayP3ColorSpace:NM,LinearFilter:Yi,LinearInterpolant:wG,LinearMipMapLinearFilter:c2e,LinearMipMapNearestFilter:l2e,LinearMipmapLinearFilter:gl,LinearMipmapNearestFilter:gx,LinearSRGBColorSpace:sd,LinearToneMapping:$re,LinearTransfer:Uw,Loader:qs,LoaderUtils:Lf,LoadingManager:bG,LoopOnce:pse,LoopPingPong:gse,LoopRepeat:mse,LuminanceAlphaFormat:hse,LuminanceFormat:use,MOUSE:Im,Material:yr,MaterialLoader:IB,MathUtils:eG,Matrix3:un,Matrix4:Wt,MaxEquation:Rre,Mesh:qi,MeshBasicMaterial:fa,MeshDepthMaterial:cG,MeshDistanceMaterial:uG,MeshLambertMaterial:coe,MeshMatcapMaterial:uoe,MeshNormalMaterial:loe,MeshPhongMaterial:ooe,MeshPhysicalMaterial:bl,MeshStandardMaterial:XM,MeshToonMaterial:aoe,MinEquation:Tre,MirroredRepeatWrapping:Jx,MixOperation:Qre,MultiplyBlending:QO,MultiplyOperation:DM,NearestFilter:Br,NearestMipMapLinearFilter:a2e,NearestMipMapNearestFilter:o2e,NearestMipmapLinearFilter:ng,NearestMipmapNearestFilter:cB,NeutralToneMapping:ise,NeverCompare:Ase,NeverDepth:Vre,NeverStencilFunc:v2e,NoBlending:Fh,NoColorSpace:mh,NoToneMapping:su,NormalAnimationBlendMode:uB,NormalBlending:Sg,NotEqualCompare:bse,NotEqualDepth:Yre,NotEqualStencilFunc:S2e,NumberKeyframeTrack:t0,Object3D:Pn,ObjectLoader:iFe,ObjectSpaceNormalMap:_se,OctahedronGeometry:jM,OneFactor:Bre,OneMinusConstantAlphaFactor:Gre,OneMinusConstantColorFactor:zre,OneMinusDstAlphaFactor:Fre,OneMinusDstColorFactor:Ore,OneMinusSrcAlphaFactor:v2,OneMinusSrcColorFactor:Lre,OrthographicCamera:vl,P3Primaries:zw,PCFShadowMap:aB,PCFSoftShadowMap:AS,PMREMGenerator:EU,Path:jw,PerspectiveCamera:_i,Plane:dh,PlaneGeometry:b1,PlaneHelper:GFe,PointLight:TG,PointLightHelper:LFe,Points:mG,PointsMaterial:GM,PolarGridHelper:OFe,PolyhedronGeometry:up,PositionalAudio:uFe,PropertyBinding:Ln,PropertyMixer:Eoe,QuadraticBezierCurve:xG,QuadraticBezierCurve3:_G,Quaternion:$r,QuaternionKeyframeTrack:n0,QuaternionLinearInterpolant:goe,RED_GREEN_RGTC2_Format:SU,RED_RGTC1_Format:fse,REVISION:w1,RGBADepthPacking:xse,RGBAFormat:uo,RGBAIntegerFormat:YH,RGBA_ASTC_10x10_Format:gU,RGBA_ASTC_10x5_Format:fU,RGBA_ASTC_10x6_Format:pU,RGBA_ASTC_10x8_Format:mU,RGBA_ASTC_12x10_Format:vU,RGBA_ASTC_12x12_Format:yU,RGBA_ASTC_4x4_Format:sU,RGBA_ASTC_5x4_Format:oU,RGBA_ASTC_5x5_Format:aU,RGBA_ASTC_6x5_Format:lU,RGBA_ASTC_6x6_Format:cU,RGBA_ASTC_8x5_Format:uU,RGBA_ASTC_8x6_Format:hU,RGBA_ASTC_8x8_Format:dU,RGBA_BPTC_Format:WT,RGBA_ETC2_EAC_Format:rU,RGBA_PVRTC_2BPPV1_Format:tU,RGBA_PVRTC_4BPPV1_Format:eU,RGBA_S3TC_DXT1_Format:GT,RGBA_S3TC_DXT3_Format:VT,RGBA_S3TC_DXT5_Format:jT,RGBFormat:cse,RGB_BPTC_SIGNED_Format:xU,RGB_BPTC_UNSIGNED_Format:_U,RGB_ETC1_Format:nU,RGB_ETC2_Format:iU,RGB_PVRTC_2BPPV1_Format:ZO,RGB_PVRTC_4BPPV1_Format:$O,RGB_S3TC_DXT1_Format:HT,RGFormat:dse,RGIntegerFormat:KH,RawShaderMaterial:soe,Ray:m0,Raycaster:Toe,Rec709Primaries:kw,RectAreaLight:xoe,RedFormat:XH,RedIntegerFormat:JH,ReinhardToneMapping:Zre,RenderTarget:Bse,RepeatWrapping:Jf,ReplaceStencilOp:h2e,ReverseSubtractEquation:Cre,RingGeometry:EB,SIGNED_RED_GREEN_RGTC2_Format:wU,SIGNED_RED_RGTC1_Format:AU,SRGBColorSpace:sl,SRGBTransfer:li,Scene:x2,ShaderChunk:gn,ShaderLib:Zl,ShaderMaterial:dc,ShadowMaterial:roe,Shape:Cg,ShapeGeometry:CB,ShapePath:WFe,ShapeUtils:ou,ShortType:ose,Skeleton:HM,SkeletonHelper:IFe,SkinnedMesh:dG,Source:sg,Sphere:ys,SphereGeometry:WM,Spherical:LU,SphericalHarmonics3:_oe,SplineCurve:AG,SpotLight:CG,SpotLightHelper:BFe,Sprite:Wse,SpriteMaterial:hG,SrcAlphaFactor:g2,SrcAlphaSaturateFactor:Ure,SrcColorFactor:Ire,StaticCopyUsage:T2e,StaticDrawUsage:Hw,StaticReadUsage:b2e,StereoCamera:oFe,StreamCopyUsage:P2e,StreamDrawUsage:M2e,StreamReadUsage:C2e,StringKeyframeTrack:y0,SubtractEquation:Ere,SubtractiveBlending:YO,TOUCH:Lm,TangentSpaceNormalMap:cp,TetrahedronGeometry:TB,Texture:si,TextureLoader:JM,TorusGeometry:RB,TorusKnotGeometry:PB,Triangle:sa,TriangleFanDrawMode:y2,TriangleStripDrawMode:qH,TrianglesDrawMode:vse,TubeGeometry:BB,UVMapping:lB,Uint16BufferAttribute:iG,Uint32BufferAttribute:rG,Uint8BufferAttribute:dPe,Uint8ClampedBufferAttribute:fPe,Uniform:DG,UniformsGroup:bFe,UniformsLib:Bt,UniformsUtils:Dse,UnsignedByteType:pu,UnsignedInt248Type:qg,UnsignedInt5999Type:ase,UnsignedIntType:Qg,UnsignedShort4444Type:jH,UnsignedShort5551Type:WH,UnsignedShortType:Nw,VSMShadowMap:Jl,Vector2:nt,Vector3:le,Vector4:Qn,VectorKeyframeTrack:i0,VideoTexture:d3e,WebGL3DRenderTarget:ePe,WebGLArrayRenderTarget:Z2e,WebGLCoordinateSystem:qc,WebGLCubeRenderTarget:oG,WebGLMultipleRenderTargets:XFe,WebGLRenderTarget:hc,WebGLRenderer:Vse,WebGLUtils:Hse,WebGPUCoordinateSystem:Gw,WireframeGeometry:ioe,WrapAroundEnding:Ow,ZeroCurvatureEnding:ig,ZeroFactor:Pre,ZeroSlopeEnding:rg,ZeroStencilOp:u2e,createCanvasElement:Rse},Symbol.toStringTag,{value:"Module"}));var Poe={exports:{}},x0={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */x0.ConcurrentRoot=1;x0.ContinuousEventPriority=4;x0.DefaultEventPriority=16;x0.DiscreteEventPriority=1;x0.IdleEventPriority=536870912;x0.LegacyRoot=0;Poe.exports=x0;var Ky=Poe.exports;function KFe(n){let e;const t=new Set,i=(c,h)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const v=h(e);if(!d(p,v)){const x=p;c(p=v,x)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,h,d)=>h||d?s(c,h,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const YFe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),bX=YFe?he.useEffect:he.useLayoutEffect;function Boe(n){const e=typeof n=="function"?KFe(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=he.useReducer(y=>y+1,0),o=e.getState(),a=he.useRef(o),l=he.useRef(i),c=he.useRef(r),h=he.useRef(!1),d=he.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),bX(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,h.current=!1});const v=he.useRef(o);bX(()=>{const y=()=>{try{const S=e.getState(),w=l.current(S);c.current(d.current,w)||(a.current=S,d.current=w,s())}catch{h.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:d.current;return he.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var Ioe={exports:{}},u3={exports:{}},h3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EX;function QFe(){return EX||(EX=1,function(n){function e(D,z){var H=D.length;D.push(z);e:for(;0<H;){var ee=H-1>>>1,pe=D[ee];if(0<r(pe,z))D[ee]=z,D[H]=pe,H=ee;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var ee=0,pe=D.length,ke=pe>>>1;ee<ke;){var ne=2*(ee+1)-1,ve=D[ne],be=ne+1,xe=D[be];if(0>r(ve,H))be<pe&&0>r(xe,ve)?(D[ee]=xe,D[be]=H,ee=be):(D[ee]=ve,D[ne]=H,ee=ne);else if(be<pe&&0>r(xe,H))D[ee]=xe,D[be]=H,ee=be;else break e}}return z}function r(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=D)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function b(D){if(x=!1,w(D),!v)if(t(l)!==null)v=!0,Y(P);else{var z=t(c);z!==null&&ie(b,z.startTime-D)}}function P(D,z){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var H=p;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var pe=ee(d.expirationTime<=z);z=n.unstable_now(),typeof pe=="function"?d.callback=pe:d===t(l)&&i(l),w(z)}else i(l);d=t(l)}if(d!==null)var ke=!0;else{var ne=t(c);ne!==null&&ie(b,ne.startTime-z),ke=!1}return ke}finally{d=null,p=H,m=!1}}var T=!1,B=null,I=-1,R=5,C=-1;function N(){return!(n.unstable_now()-C<R)}function j(){if(B!==null){var D=n.unstable_now();C=D;var z=!0;try{z=B(!0,D)}finally{z?W():(T=!1,B=null)}}else T=!1}var W;if(typeof S=="function")W=function(){S(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){y(j,0)};function Y(D){B=D,T||(T=!0,W())}function ie(D,z){I=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Y(P))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var H=p;p=z;try{return D()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return z()}finally{p=H}},n.unstable_scheduleCallback=function(D,z,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:h++,callback:z,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ee?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(x?(g(I),I=-1):x=!0,ie(b,H-ee))):(D.sortIndex=pe,e(l,D),v||m||(v=!0,Y(P))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var z=p;return function(){var H=p;p=z;try{return D.apply(this,arguments)}finally{p=H}}}}(h3)),h3}var CX;function qFe(){return CX||(CX=1,u3.exports=QFe()),u3.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Fe=function(e){var t={},i=he,r=qFe(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,A=1;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),P=Symbol.iterator;function T(u){return u===null||typeof u!="object"?null:(u=P&&u[P]||u["@@iterator"],typeof u=="function"?u:null)}function B(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case x:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case S:return f=u.displayName||null,f!==null?f:B(u.type)||"Memo";case w:f=u._payload,u=u._init;try{return B(u(f))}catch{}}return null}function I(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(u){var f=u,A=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(A=f.return),u=f.return;while(u)}return f.tag===3?A:null}function C(u){if(R(u)!==u)throw Error(o(188))}function N(u){var f=u.alternate;if(!f){if(f=R(u),f===null)throw Error(o(188));return f!==u?null:u}for(var A=u,M=f;;){var E=A.return;if(E===null)break;var L=E.alternate;if(L===null){if(M=E.return,M!==null){A=M;continue}break}if(E.child===L.child){for(L=E.child;L;){if(L===A)return C(E),u;if(L===M)return C(E),f;L=L.sibling}throw Error(o(188))}if(A.return!==M.return)A=E,M=L;else{for(var V=!1,re=E.child;re;){if(re===A){V=!0,A=E,M=L;break}if(re===M){V=!0,M=E,A=L;break}re=re.sibling}if(!V){for(re=L.child;re;){if(re===A){V=!0,A=L,M=E;break}if(re===M){V=!0,M=L,A=E;break}re=re.sibling}if(!V)throw Error(o(189))}}if(A.alternate!==M)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?u:f}function j(u){return u=N(u),u!==null?W(u):null}function W(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=W(u);if(f!==null)return f;u=u.sibling}return null}function X(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=X(u);if(f!==null)return f}u=u.sibling}return null}var Q=Array.isArray,Y=e.getPublicInstance,ie=e.getRootHostContext,D=e.getChildHostContext,z=e.prepareForCommit,H=e.resetAfterCommit,ee=e.createInstance,pe=e.appendInitialChild,ke=e.finalizeInitialChildren,ne=e.prepareUpdate,ve=e.shouldSetTextContent,be=e.createTextInstance,xe=e.scheduleTimeout,st=e.cancelTimeout,Ke=e.noTimeout,Ge=e.isPrimaryRenderer,U=e.supportsMutation,fe=e.supportsPersistence,me=e.supportsHydration,Ce=e.getInstanceFromNode,_e=e.preparePortalMount,Ne=e.getCurrentEventPriority,Oe=e.detachDeletedInstance,Re=e.supportsMicrotasks,at=e.scheduleMicrotask,k=e.supportsTestSelectors,F=e.findFiberRoot,se=e.getBoundingRect,ge=e.getTextContent,Ae=e.isHiddenSubtree,Se=e.matchAccessibilityRole,qe=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,ze=e.appendChild,ct=e.appendChildToContainer,Te=e.commitTextUpdate,$e=e.commitMount,ht=e.commitUpdate,Ye=e.insertBefore,te=e.insertInContainerBefore,$=e.removeChild,Me=e.removeChildFromContainer,Qe=e.resetTextContent,G=e.hideInstance,De=e.hideTextInstance,de=e.unhideInstance,ye=e.unhideTextInstance,Le=e.clearContainer,Xe=e.cloneInstance,dt=e.createContainerChildSet,Ve=e.appendChildToContainerChildSet,rt=e.finalizeContainerChildren,pt=e.replaceContainerChildren,$t=e.cloneHiddenInstance,Ue=e.cloneHiddenTextInstance,ot=e.canHydrateInstance,gt=e.canHydrateTextInstance,nn=e.canHydrateSuspenseInstance,on=e.isSuspenseInstancePending,_n=e.isSuspenseInstanceFallback,En=e.registerSuspenseInstanceRetry,Zt=e.getNextHydratableSibling,Bn=e.getFirstHydratableChild,Gt=e.getFirstHydratableChildWithinContainer,xr=e.getFirstHydratableChildWithinSuspenseInstance,El=e.hydrateInstance,Oo=e.hydrateTextInstance,O=e.hydrateSuspenseInstance,J=e.getNextHydratableInstanceAfterSuspenseInstance,ae=e.commitHydratedContainer,q=e.commitHydratedSuspenseInstance,K=e.clearSuspenseBoundary,Fe=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance,ft;function vt(u){if(ft===void 0)try{throw Error()}catch(A){var f=A.stack.trim().match(/\n( *(at )?)/);ft=f&&f[1]||""}return`
`+ft+u}var ut=!1;function Lt(u,f){if(!u||ut)return"";ut=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(We){var M=We}Reflect.construct(u,[],f)}else{try{f.call()}catch(We){M=We}u.call(f.prototype)}else{try{throw Error()}catch(We){M=We}u()}}catch(We){if(We&&M&&typeof We.stack=="string"){for(var E=We.stack.split(`
`),L=M.stack.split(`
`),V=E.length-1,re=L.length-1;1<=V&&0<=re&&E[V]!==L[re];)re--;for(;1<=V&&0<=re;V--,re--)if(E[V]!==L[re]){if(V!==1||re!==1)do if(V--,re--,0>re||E[V]!==L[re]){var we=`
`+E[V].replace(" at new "," at ");return u.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",u.displayName)),we}while(1<=V&&0<=re);break}}}finally{ut=!1,Error.prepareStackTrace=A}return(u=u?u.displayName||u.name:"")?vt(u):""}var en=Object.prototype.hasOwnProperty,Xt=[],tn=-1;function At(u){return{current:u}}function je(u){0>tn||(u.current=Xt[tn],Xt[tn]=null,tn--)}function Nt(u,f){tn++,Xt[tn]=u.current,u.current=f}var zt={},Jt=At(zt),kn=At(!1),Vn=zt;function Wn(u,f){var A=u.type.contextTypes;if(!A)return zt;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var E={},L;for(L in A)E[L]=f[L];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=E),E}function Vt(u){return u=u.childContextTypes,u!=null}function hi(){je(kn),je(Jt)}function Uo(u,f,A){if(Jt.current!==zt)throw Error(o(168));Nt(Jt,f),Nt(kn,A)}function Nn(u,f,A){var M=u.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return A;M=M.getChildContext();for(var E in M)if(!(E in f))throw Error(o(108,I(u)||"Unknown",E));return s({},A,M)}function $s(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||zt,Vn=Jt.current,Nt(Jt,u),Nt(kn,kn.current),!0}function Nr(u,f,A){var M=u.stateNode;if(!M)throw Error(o(169));A?(u=Nn(u,f,Vn),M.__reactInternalMemoizedMergedChildContext=u,je(kn),je(Jt),Nt(Jt,u)):je(kn),Nt(kn,A)}var _r=Math.clz32?Math.clz32:A0,XB=Math.log,JB=Math.LN2;function A0(u){return u>>>=0,u===0?32:31-(XB(u)/JB|0)|0}var _u=64,_c=4194304;function Ac(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function S0(u,f){var A=u.pendingLanes;if(A===0)return 0;var M=0,E=u.suspendedLanes,L=u.pingedLanes,V=A&268435455;if(V!==0){var re=V&~E;re!==0?M=Ac(re):(L&=V,L!==0&&(M=Ac(L)))}else V=A&~E,V!==0?M=Ac(V):L!==0&&(M=Ac(L));if(M===0)return 0;if(f!==0&&f!==M&&!(f&E)&&(E=M&-M,L=f&-f,E>=L||E===16&&(L&4194240)!==0))return f;if(M&4&&(M|=A&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=M;0<f;)A=31-_r(f),E=1<<A,M|=u[A],f&=~E;return M}function KB(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(u,f){for(var A=u.suspendedLanes,M=u.pingedLanes,E=u.expirationTimes,L=u.pendingLanes;0<L;){var V=31-_r(L),re=1<<V,we=E[V];we===-1?(!(re&A)||re&M)&&(E[V]=KB(re,f)):we<=f&&(u.expiredLanes|=re),L&=~re}}function pp(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Au(u){for(var f=[],A=0;31>A;A++)f.push(u);return f}function mp(u,f,A){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-_r(f),u[f]=A}function D1(u,f){var A=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<A;){var E=31-_r(A),L=1<<E;f[E]=0,M[E]=-1,u[E]=-1,A&=~L}}function bn(u,f){var A=u.entangledLanes|=f;for(u=u.entanglements;A;){var M=31-_r(A),E=1<<M;E&f|u[M]&f&&(u[M]|=f),A&=~E}}var Cn=0;function w0(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var M0=r.unstable_scheduleCallback,ob=r.unstable_cancelCallback,YB=r.unstable_shouldYield,sr=r.unstable_requestPaint,zi=r.unstable_now,F1=r.unstable_ImmediatePriority,N1=r.unstable_UserBlockingPriority,O1=r.unstable_NormalPriority,b0=r.unstable_IdlePriority,Zs=null,La=null;function QB(u){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Zs,u,void 0,(u.current.flags&128)===128)}catch{}}function Da(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var or=typeof Object.is=="function"?Object.is:Da,Ao=null,ad=!1,E0=!1;function ab(u){Ao===null?Ao=[u]:Ao.push(u)}function Fa(u){ad=!0,ab(u)}function Na(){if(!E0&&Ao!==null){E0=!0;var u=0,f=Cn;try{var A=Ao;for(Cn=1;u<A.length;u++){var M=A[u];do M=M(!0);while(M!==null)}Ao=null,ad=!1}catch(E){throw Ao!==null&&(Ao=Ao.slice(u+1)),M0(F1,Na),E}finally{Cn=f,E0=!1}}return null}var C0=a.ReactCurrentBatchConfig;function T0(u,f){if(or(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var A=Object.keys(u),M=Object.keys(f);if(A.length!==M.length)return!1;for(M=0;M<A.length;M++){var E=A[M];if(!en.call(f,E)||!or(u[E],f[E]))return!1}return!0}function ko(u){switch(u.tag){case 5:return vt(u.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 2:case 15:return u=Lt(u.type,!1),u;case 11:return u=Lt(u.type.render,!1),u;case 1:return u=Lt(u.type,!0),u;default:return""}}function As(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var A in u)f[A]===void 0&&(f[A]=u[A]);return f}return f}var Su=At(null),Cl=null,Sc=null,gp=null;function R0(){gp=Sc=Cl=null}function P0(u,f,A){Ge?(Nt(Su,f._currentValue),f._currentValue=A):(Nt(Su,f._currentValue2),f._currentValue2=A)}function vp(u){var f=Su.current;je(Su),Ge?u._currentValue=f:u._currentValue2=f}function wc(u,f,A){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===A)break;u=u.return}}function Ar(u,f){Cl=u,gp=Sc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Jn=!0),u.firstContext=null)}function Ti(u){var f=Ge?u._currentValue:u._currentValue2;if(gp!==u)if(u={context:u,memoizedValue:f,next:null},Sc===null){if(Cl===null)throw Error(o(308));Sc=u,Cl.dependencies={lanes:0,firstContext:u}}else Sc=Sc.next=u;return f}var Sr=null,Oa=!1;function B0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Or(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function zo(u,f){var A=u.updateQueue;A!==null&&(A=A.shared,fn!==null&&u.mode&1&&!(Ht&2)?(u=A.interleaved,u===null?(f.next=f,Sr===null?Sr=[A]:Sr.push(A)):(f.next=u.next,u.next=f),A.interleaved=f):(u=A.pending,u===null?f.next=f:(f.next=u.next,u.next=f),A.pending=f))}function yp(u,f,A){if(f=f.updateQueue,f!==null&&(f=f.shared,(A&4194240)!==0)){var M=f.lanes;M&=u.pendingLanes,A|=M,f.lanes=A,bn(u,A)}}function xp(u,f){var A=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,A===M)){var E=null,L=null;if(A=A.firstBaseUpdate,A!==null){do{var V={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};L===null?E=L=V:L=L.next=V,A=A.next}while(A!==null);L===null?E=L=f:L=L.next=f}else E=L=f;A={baseState:M.baseState,firstBaseUpdate:E,lastBaseUpdate:L,shared:M.shared,effects:M.effects},u.updateQueue=A;return}u=A.lastBaseUpdate,u===null?A.firstBaseUpdate=f:u.next=f,A.lastBaseUpdate=f}function _p(u,f,A,M){var E=u.updateQueue;Oa=!1;var L=E.firstBaseUpdate,V=E.lastBaseUpdate,re=E.shared.pending;if(re!==null){E.shared.pending=null;var we=re,We=we.next;we.next=null,V===null?L=We:V.next=We,V=we;var lt=u.alternate;lt!==null&&(lt=lt.updateQueue,re=lt.lastBaseUpdate,re!==V&&(re===null?lt.firstBaseUpdate=We:re.next=We,lt.lastBaseUpdate=we))}if(L!==null){var yt=E.baseState;V=0,lt=We=we=null,re=L;do{var Mt=re.lane,St=re.eventTime;if((M&Mt)===Mt){lt!==null&&(lt=lt.next={eventTime:St,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var It=u,Kn=re;switch(Mt=f,St=A,Kn.tag){case 1:if(It=Kn.payload,typeof It=="function"){yt=It.call(St,yt,Mt);break e}yt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Kn.payload,Mt=typeof It=="function"?It.call(St,yt,Mt):It,Mt==null)break e;yt=s({},yt,Mt);break e;case 2:Oa=!0}}re.callback!==null&&re.lane!==0&&(u.flags|=64,Mt=E.effects,Mt===null?E.effects=[re]:Mt.push(re))}else St={eventTime:St,lane:Mt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},lt===null?(We=lt=St,we=yt):lt=lt.next=St,V|=Mt;if(re=re.next,re===null){if(re=E.shared.pending,re===null)break;Mt=re,re=Mt.next,Mt.next=null,E.lastBaseUpdate=Mt,E.shared.pending=null}}while(!0);if(lt===null&&(we=yt),E.baseState=we,E.firstBaseUpdate=We,E.lastBaseUpdate=lt,f=E.shared.interleaved,f!==null){E=f;do V|=E.lane,E=E.next;while(E!==f)}else L===null&&(E.shared.lanes=0);Il|=V,u.lanes=V,u.memoizedState=yt}}function U1(u,f,A){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var M=u[f],E=M.callback;if(E!==null){if(M.callback=null,M=A,typeof E!="function")throw Error(o(191,E));E.call(M)}}}var I0=new i.Component().refs;function ld(u,f,A,M){f=u.memoizedState,A=A(M,f),A=A==null?f:s({},f,A),u.memoizedState=A,u.lanes===0&&(u.updateQueue.baseState=A)}var Ap={isMounted:function(u){return(u=u._reactInternals)?R(u)===u:!1},enqueueSetState:function(u,f,A){u=u._reactInternals;var M=wi(),E=$i(u),L=Or(M,E);L.payload=f,A!=null&&(L.callback=A),zo(u,L),f=os(u,E,M),f!==null&&yp(f,u,E)},enqueueReplaceState:function(u,f,A){u=u._reactInternals;var M=wi(),E=$i(u),L=Or(M,E);L.tag=1,L.payload=f,A!=null&&(L.callback=A),zo(u,L),f=os(u,E,M),f!==null&&yp(f,u,E)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var A=wi(),M=$i(u),E=Or(A,M);E.tag=2,f!=null&&(E.callback=f),zo(u,E),f=os(u,M,A),f!==null&&yp(f,u,M)}};function k1(u,f,A,M,E,L,V){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,L,V):f.prototype&&f.prototype.isPureReactComponent?!T0(A,M)||!T0(E,L):!0}function z1(u,f,A){var M=!1,E=zt,L=f.contextType;return typeof L=="object"&&L!==null?L=Ti(L):(E=Vt(f)?Vn:Jt.current,M=f.contextTypes,L=(M=M!=null)?Wn(u,E):zt),f=new f(A,L),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ap,u.stateNode=f,f._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=L),f}function L0(u,f,A,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(A,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(A,M),f.state!==u&&Ap.enqueueReplaceState(f,f.state,null)}function Mc(u,f,A,M){var E=u.stateNode;E.props=A,E.state=u.memoizedState,E.refs=I0,B0(u);var L=f.contextType;typeof L=="object"&&L!==null?E.context=Ti(L):(L=Vt(f)?Vn:Jt.current,E.context=Wn(u,L)),E.state=u.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(ld(u,f,L,A),E.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&Ap.enqueueReplaceState(E,E.state,null),_p(u,A,E,M),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}var Ho=[],Tl=0,wu=null,Zr=0,di=[],ar=0,es=null,wr=1,ts="";function bc(u,f){Ho[Tl++]=Zr,Ho[Tl++]=wu,wu=u,Zr=f}function D0(u,f,A){di[ar++]=wr,di[ar++]=ts,di[ar++]=es,es=u;var M=wr;u=ts;var E=32-_r(M)-1;M&=~(1<<E),A+=1;var L=32-_r(f)+E;if(30<L){var V=E-E%5;L=(M&(1<<V)-1).toString(32),M>>=V,E-=V,wr=1<<32-_r(f)+E|A<<E|M,ts=L+u}else wr=1<<L|A<<E|M,ts=u}function Sp(u){u.return!==null&&(bc(u,1),D0(u,1,0))}function ns(u){for(;u===wu;)wu=Ho[--Tl],Ho[Tl]=null,Zr=Ho[--Tl],Ho[Tl]=null;for(;u===es;)es=di[--ar],di[ar]=null,ts=di[--ar],di[ar]=null,wr=di[--ar],di[ar]=null}var ni=null,yn=null,jn=!1,is=!1,So=null;function H1(u,f){var A=ws(5,null,null,0);A.elementType="DELETED",A.stateNode=f,A.return=u,f=u.deletions,f===null?(u.deletions=[A],u.flags|=16):f.push(A)}function F0(u,f){switch(u.tag){case 5:return f=ot(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,ni=u,yn=Bn(f),!0):!1;case 6:return f=gt(f,u.pendingProps),f!==null?(u.stateNode=f,ni=u,yn=null,!0):!1;case 13:if(f=nn(f),f!==null){var A=es!==null?{id:wr,overflow:ts}:null;return u.memoizedState={dehydrated:f,treeContext:A,retryLane:1073741824},A=ws(18,null,null,0),A.stateNode=f,A.return=u,u.child=A,ni=u,yn=null,!0}return!1;default:return!1}}function wp(u){return(u.mode&1)!==0&&(u.flags&128)===0}function N0(u){if(jn){var f=yn;if(f){var A=f;if(!F0(u,f)){if(wp(u))throw Error(o(418));f=Zt(A);var M=ni;f&&F0(u,f)?H1(M,A):(u.flags=u.flags&-4097|2,jn=!1,ni=u)}}else{if(wp(u))throw Error(o(418));u.flags=u.flags&-4097|2,jn=!1,ni=u}}}function cd(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ni=u}function ka(u){if(!me||u!==ni)return!1;if(!jn)return cd(u),jn=!0,!1;if(u.tag!==3&&(u.tag!==5||Je(u.type)&&!ve(u.type,u.memoizedProps))){var f=yn;if(f){if(wp(u)){for(u=yn;u;)u=Zt(u);throw Error(o(418))}for(;f;)H1(u,f),f=Zt(f)}}if(cd(u),u.tag===13){if(!me)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));yn=J(u)}else yn=ni?Zt(u.stateNode):null;return!0}function Ec(){me&&(yn=ni=null,is=jn=!1)}function Mu(u){So===null?So=[u]:So.push(u)}function Cc(u,f,A){if(u=A.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var M=A.stateNode}if(!M)throw Error(o(147,u));var E=M,L=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===L?f.ref:(f=function(V){var re=E.refs;re===I0&&(re=E.refs={}),V===null?delete re[L]:re[L]=V},f._stringRef=L,f)}if(typeof u!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,u))}return u}function Mp(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function G1(u){var f=u._init;return f(u._payload)}function bu(u){function f(Z,oe){if(u){var Ee=Z.deletions;Ee===null?(Z.deletions=[oe],Z.flags|=16):Ee.push(oe)}}function A(Z,oe){if(!u)return null;for(;oe!==null;)f(Z,oe),oe=oe.sibling;return null}function M(Z,oe){for(Z=new Map;oe!==null;)oe.key!==null?Z.set(oe.key,oe):Z.set(oe.index,oe),oe=oe.sibling;return Z}function E(Z,oe){return Z=Yo(Z,oe),Z.index=0,Z.sibling=null,Z}function L(Z,oe,Ee){return Z.index=Ee,u?(Ee=Z.alternate,Ee!==null?(Ee=Ee.index,Ee<oe?(Z.flags|=2,oe):Ee):(Z.flags|=2,oe)):(Z.flags|=1048576,oe)}function V(Z){return u&&Z.alternate===null&&(Z.flags|=2),Z}function re(Z,oe,Ee,tt){return oe===null||oe.tag!==6?(oe=Wp(Ee,Z.mode,tt),oe.return=Z,oe):(oe=E(oe,Ee),oe.return=Z,oe)}function we(Z,oe,Ee,tt){var mt=Ee.type;return mt===h?lt(Z,oe,Ee.props.children,tt,Ee.key):oe!==null&&(oe.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&G1(mt)===oe.type)?(tt=E(oe,Ee.props),tt.ref=Cc(Z,oe,Ee),tt.return=Z,tt):(tt=Xa(Ee.type,Ee.key,Ee.props,null,Z.mode,tt),tt.ref=Cc(Z,oe,Ee),tt.return=Z,tt)}function We(Z,oe,Ee,tt){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==Ee.containerInfo||oe.stateNode.implementation!==Ee.implementation?(oe=T_(Ee,Z.mode,tt),oe.return=Z,oe):(oe=E(oe,Ee.children||[]),oe.return=Z,oe)}function lt(Z,oe,Ee,tt,mt){return oe===null||oe.tag!==7?(oe=Ja(Ee,Z.mode,tt,mt),oe.return=Z,oe):(oe=E(oe,Ee),oe.return=Z,oe)}function yt(Z,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Wp(""+oe,Z.mode,Ee),oe.return=Z,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case l:return Ee=Xa(oe.type,oe.key,oe.props,null,Z.mode,Ee),Ee.ref=Cc(Z,null,oe),Ee.return=Z,Ee;case c:return oe=T_(oe,Z.mode,Ee),oe.return=Z,oe;case w:var tt=oe._init;return yt(Z,tt(oe._payload),Ee)}if(Q(oe)||T(oe))return oe=Ja(oe,Z.mode,Ee,null),oe.return=Z,oe;Mp(Z,oe)}return null}function Mt(Z,oe,Ee,tt){var mt=oe!==null?oe.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return mt!==null?null:re(Z,oe,""+Ee,tt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:return Ee.key===mt?we(Z,oe,Ee,tt):null;case c:return Ee.key===mt?We(Z,oe,Ee,tt):null;case w:return mt=Ee._init,Mt(Z,oe,mt(Ee._payload),tt)}if(Q(Ee)||T(Ee))return mt!==null?null:lt(Z,oe,Ee,tt,null);Mp(Z,Ee)}return null}function St(Z,oe,Ee,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Z=Z.get(Ee)||null,re(oe,Z,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case l:return Z=Z.get(tt.key===null?Ee:tt.key)||null,we(oe,Z,tt,mt);case c:return Z=Z.get(tt.key===null?Ee:tt.key)||null,We(oe,Z,tt,mt);case w:var wt=tt._init;return St(Z,oe,Ee,wt(tt._payload),mt)}if(Q(tt)||T(tt))return Z=Z.get(Ee)||null,lt(oe,Z,tt,mt,null);Mp(oe,tt)}return null}function It(Z,oe,Ee,tt){for(var mt=null,wt=null,Rt=oe,Kt=oe=0,Yt=null;Rt!==null&&Kt<Ee.length;Kt++){Rt.index>Kt?(Yt=Rt,Rt=null):Yt=Rt.sibling;var pn=Mt(Z,Rt,Ee[Kt],tt);if(pn===null){Rt===null&&(Rt=Yt);break}u&&Rt&&pn.alternate===null&&f(Z,Rt),oe=L(pn,oe,Kt),wt===null?mt=pn:wt.sibling=pn,wt=pn,Rt=Yt}if(Kt===Ee.length)return A(Z,Rt),jn&&bc(Z,Kt),mt;if(Rt===null){for(;Kt<Ee.length;Kt++)Rt=yt(Z,Ee[Kt],tt),Rt!==null&&(oe=L(Rt,oe,Kt),wt===null?mt=Rt:wt.sibling=Rt,wt=Rt);return jn&&bc(Z,Kt),mt}for(Rt=M(Z,Rt);Kt<Ee.length;Kt++)Yt=St(Rt,Z,Kt,Ee[Kt],tt),Yt!==null&&(u&&Yt.alternate!==null&&Rt.delete(Yt.key===null?Kt:Yt.key),oe=L(Yt,oe,Kt),wt===null?mt=Yt:wt.sibling=Yt,wt=Yt);return u&&Rt.forEach(function(kc){return f(Z,kc)}),jn&&bc(Z,Kt),mt}function Kn(Z,oe,Ee,tt){var mt=T(Ee);if(typeof mt!="function")throw Error(o(150));if(Ee=mt.call(Ee),Ee==null)throw Error(o(151));for(var wt=mt=null,Rt=oe,Kt=oe=0,Yt=null,pn=Ee.next();Rt!==null&&!pn.done;Kt++,pn=Ee.next()){Rt.index>Kt?(Yt=Rt,Rt=null):Yt=Rt.sibling;var kc=Mt(Z,Rt,pn.value,tt);if(kc===null){Rt===null&&(Rt=Yt);break}u&&Rt&&kc.alternate===null&&f(Z,Rt),oe=L(kc,oe,Kt),wt===null?mt=kc:wt.sibling=kc,wt=kc,Rt=Yt}if(pn.done)return A(Z,Rt),jn&&bc(Z,Kt),mt;if(Rt===null){for(;!pn.done;Kt++,pn=Ee.next())pn=yt(Z,pn.value,tt),pn!==null&&(oe=L(pn,oe,Kt),wt===null?mt=pn:wt.sibling=pn,wt=pn);return jn&&bc(Z,Kt),mt}for(Rt=M(Z,Rt);!pn.done;Kt++,pn=Ee.next())pn=St(Rt,Z,Kt,pn.value,tt),pn!==null&&(u&&pn.alternate!==null&&Rt.delete(pn.key===null?Kt:pn.key),oe=L(pn,oe,Kt),wt===null?mt=pn:wt.sibling=pn,wt=pn);return u&&Rt.forEach(function(sce){return f(Z,sce)}),jn&&bc(Z,Kt),mt}function He(Z,oe,Ee,tt){if(typeof Ee=="object"&&Ee!==null&&Ee.type===h&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:e:{for(var mt=Ee.key,wt=oe;wt!==null;){if(wt.key===mt){if(mt=Ee.type,mt===h){if(wt.tag===7){A(Z,wt.sibling),oe=E(wt,Ee.props.children),oe.return=Z,Z=oe;break e}}else if(wt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&G1(mt)===wt.type){A(Z,wt.sibling),oe=E(wt,Ee.props),oe.ref=Cc(Z,wt,Ee),oe.return=Z,Z=oe;break e}A(Z,wt);break}else f(Z,wt);wt=wt.sibling}Ee.type===h?(oe=Ja(Ee.props.children,Z.mode,tt,Ee.key),oe.return=Z,Z=oe):(tt=Xa(Ee.type,Ee.key,Ee.props,null,Z.mode,tt),tt.ref=Cc(Z,oe,Ee),tt.return=Z,Z=tt)}return V(Z);case c:e:{for(wt=Ee.key;oe!==null;){if(oe.key===wt)if(oe.tag===4&&oe.stateNode.containerInfo===Ee.containerInfo&&oe.stateNode.implementation===Ee.implementation){A(Z,oe.sibling),oe=E(oe,Ee.children||[]),oe.return=Z,Z=oe;break e}else{A(Z,oe);break}else f(Z,oe);oe=oe.sibling}oe=T_(Ee,Z.mode,tt),oe.return=Z,Z=oe}return V(Z);case w:return wt=Ee._init,He(Z,oe,wt(Ee._payload),tt)}if(Q(Ee))return It(Z,oe,Ee,tt);if(T(Ee))return Kn(Z,oe,Ee,tt);Mp(Z,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,oe!==null&&oe.tag===6?(A(Z,oe.sibling),oe=E(oe,Ee),oe.return=Z,Z=oe):(A(Z,oe),oe=Wp(Ee,Z.mode,tt),oe.return=Z,Z=oe),V(Z)):A(Z,oe)}return He}var Eu=bu(!0),ud=bu(!1),Ur={},kr=At(Ur),za=At(Ur),rs=At(Ur);function wo(u){if(u===Ur)throw Error(o(174));return u}function Tc(u,f){Nt(rs,f),Nt(za,u),Nt(kr,Ur),u=ie(f),je(kr),Nt(kr,u)}function Cu(){je(kr),je(za),je(rs)}function O0(u){var f=wo(rs.current),A=wo(kr.current);f=D(A,u.type,f),A!==f&&(Nt(za,u),Nt(kr,f))}function ii(u){za.current===u&&(je(kr),je(za))}var Zn=At(0);function hd(u){for(var f=u;f!==null;){if(f.tag===13){var A=f.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||on(A)||_n(A)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var bp=[];function dd(){for(var u=0;u<bp.length;u++){var f=bp[u];Ge?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}bp.length=0}var ss=a.ReactCurrentDispatcher,Mr=a.ReactCurrentBatchConfig,Xn=0,vn=null,Tn=null,Ri=null,Rc=!1,Rl=!1,Ep=0,zr=0;function lr(){throw Error(o(321))}function Cp(u,f){if(f===null)return!1;for(var A=0;A<f.length&&A<u.length;A++)if(!or(u[A],f[A]))return!1;return!0}function Tp(u,f,A,M,E,L){if(Xn=L,vn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ss.current=u===null||u.memoizedState===null?$B:ZB,u=A(M,E),Rl){L=0;do{if(Rl=!1,Ep=0,25<=L)throw Error(o(301));L+=1,Ri=Tn=null,f.updateQueue=null,ss.current=t_,u=A(M,E)}while(Rl)}if(ss.current=H0,f=Tn!==null&&Tn.next!==null,Xn=0,Ri=Tn=vn=null,Rc=!1,f)throw Error(o(300));return u}function Go(){var u=Ep!==0;return Ep=0,u}function cr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?vn.memoizedState=Ri=u:Ri=Ri.next=u,Ri}function Hr(){if(Tn===null){var u=vn.alternate;u=u!==null?u.memoizedState:null}else u=Tn.next;var f=Ri===null?vn.memoizedState:Ri.next;if(f!==null)Ri=f,Tn=u;else{if(u===null)throw Error(o(310));Tn=u,u={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Ri===null?vn.memoizedState=Ri=u:Ri=Ri.next=u}return Ri}function Ha(u,f){return typeof f=="function"?f(u):f}function Tu(u){var f=Hr(),A=f.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=u;var M=Tn,E=M.baseQueue,L=A.pending;if(L!==null){if(E!==null){var V=E.next;E.next=L.next,L.next=V}M.baseQueue=E=L,A.pending=null}if(E!==null){L=E.next,M=M.baseState;var re=V=null,we=null,We=L;do{var lt=We.lane;if((Xn&lt)===lt)we!==null&&(we=we.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),M=We.hasEagerState?We.eagerState:u(M,We.action);else{var yt={lane:lt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};we===null?(re=we=yt,V=M):we=we.next=yt,vn.lanes|=lt,Il|=lt}We=We.next}while(We!==null&&We!==L);we===null?V=M:we.next=re,or(M,f.memoizedState)||(Jn=!0),f.memoizedState=M,f.baseState=V,f.baseQueue=we,A.lastRenderedState=M}if(u=A.interleaved,u!==null){E=u;do L=E.lane,vn.lanes|=L,Il|=L,E=E.next;while(E!==u)}else E===null&&(A.lanes=0);return[f.memoizedState,A.dispatch]}function Rp(u){var f=Hr(),A=f.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=u;var M=A.dispatch,E=A.pending,L=f.memoizedState;if(E!==null){A.pending=null;var V=E=E.next;do L=u(L,V.action),V=V.next;while(V!==E);or(L,f.memoizedState)||(Jn=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),A.lastRenderedState=L}return[L,M]}function V1(){}function j1(u,f){var A=vn,M=Hr(),E=f(),L=!or(M.memoizedState,E);if(L&&(M.memoizedState=E,Jn=!0),M=M.queue,md(J1.bind(null,A,M,u),[u]),M.getSnapshot!==f||L||Ri!==null&&Ri.memoizedState.tag&1){if(A.flags|=2048,fd(9,X1.bind(null,A,M,E,f),void 0,null),fn===null)throw Error(o(349));Xn&30||W1(A,f,E)}return E}function W1(u,f,A){u.flags|=16384,u={getSnapshot:f,value:A},f=vn.updateQueue,f===null?(f={lastEffect:null,stores:null},vn.updateQueue=f,f.stores=[u]):(A=f.stores,A===null?f.stores=[u]:A.push(u))}function X1(u,f,A,M){f.value=A,f.getSnapshot=M,U0(f)&&os(u,1,-1)}function J1(u,f,A){return A(function(){U0(f)&&os(u,1,-1)})}function U0(u){var f=u.getSnapshot;u=u.value;try{var A=f();return!or(u,A)}catch{return!0}}function Ru(u){var f=cr();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:u},f.queue=u,u=u.dispatch=hb.bind(null,vn,u),[f.memoizedState,u]}function fd(u,f,A,M){return u={tag:u,create:f,destroy:A,deps:M,next:null},f=vn.updateQueue,f===null?(f={lastEffect:null,stores:null},vn.updateQueue=f,f.lastEffect=u.next=u):(A=f.lastEffect,A===null?f.lastEffect=u.next=u:(M=A.next,A.next=u,u.next=M,f.lastEffect=u)),u}function Pp(){return Hr().memoizedState}function Pu(u,f,A,M){var E=cr();vn.flags|=u,E.memoizedState=fd(1|f,A,void 0,M===void 0?null:M)}function pd(u,f,A,M){var E=Hr();M=M===void 0?null:M;var L=void 0;if(Tn!==null){var V=Tn.memoizedState;if(L=V.destroy,M!==null&&Cp(M,V.deps)){E.memoizedState=fd(f,A,L,M);return}}vn.flags|=u,E.memoizedState=fd(1|f,A,L,M)}function Bu(u,f){return Pu(8390656,8,u,f)}function md(u,f){return pd(2048,8,u,f)}function K1(u,f){return pd(4,2,u,f)}function Y1(u,f){return pd(4,4,u,f)}function Q1(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function k0(u,f,A){return A=A!=null?A.concat([u]):null,pd(4,4,Q1.bind(null,f,u),A)}function z0(){}function q1(u,f){var A=Hr();f=f===void 0?null:f;var M=A.memoizedState;return M!==null&&f!==null&&Cp(f,M[1])?M[0]:(A.memoizedState=[u,f],u)}function lb(u,f){var A=Hr();f=f===void 0?null:f;var M=A.memoizedState;return M!==null&&f!==null&&Cp(f,M[1])?M[0]:(u=u(),A.memoizedState=[u,f],u)}function cb(u,f){var A=Cn;Cn=A!==0&&4>A?A:4,u(!0);var M=Mr.transition;Mr.transition={};try{u(!1),f()}finally{Cn=A,Mr.transition=M}}function ub(){return Hr().memoizedState}function qB(u,f,A){var M=$i(u);A={lane:M,action:A,hasEagerState:!1,eagerState:null,next:null},$1(u)?Z1(f,A):(e_(u,f,A),A=wi(),u=os(u,M,A),u!==null&&Bp(u,f,M))}function hb(u,f,A){var M=$i(u),E={lane:M,action:A,hasEagerState:!1,eagerState:null,next:null};if($1(u))Z1(f,E);else{e_(u,f,E);var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var V=f.lastRenderedState,re=L(V,A);if(E.hasEagerState=!0,E.eagerState=re,or(re,V))return}catch{}finally{}A=wi(),u=os(u,M,A),u!==null&&Bp(u,f,M)}}function $1(u){var f=u.alternate;return u===vn||f!==null&&f===vn}function Z1(u,f){Rl=Rc=!0;var A=u.pending;A===null?f.next=f:(f.next=A.next,A.next=f),u.pending=f}function e_(u,f,A){fn!==null&&u.mode&1&&!(Ht&2)?(u=f.interleaved,u===null?(A.next=A,Sr===null?Sr=[f]:Sr.push(f)):(A.next=u.next,u.next=A),f.interleaved=A):(u=f.pending,u===null?A.next=A:(A.next=u.next,u.next=A),f.pending=A)}function Bp(u,f,A){if(A&4194240){var M=f.lanes;M&=u.pendingLanes,A|=M,f.lanes=A,bn(u,A)}}var H0={readContext:Ti,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},$B={readContext:Ti,useCallback:function(u,f){return cr().memoizedState=[u,f===void 0?null:f],u},useContext:Ti,useEffect:Bu,useImperativeHandle:function(u,f,A){return A=A!=null?A.concat([u]):null,Pu(4194308,4,Q1.bind(null,f,u),A)},useLayoutEffect:function(u,f){return Pu(4194308,4,u,f)},useInsertionEffect:function(u,f){return Pu(4,2,u,f)},useMemo:function(u,f){var A=cr();return f=f===void 0?null:f,u=u(),A.memoizedState=[u,f],u},useReducer:function(u,f,A){var M=cr();return f=A!==void 0?A(f):f,M.memoizedState=M.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},M.queue=u,u=u.dispatch=qB.bind(null,vn,u),[M.memoizedState,u]},useRef:function(u){var f=cr();return u={current:u},f.memoizedState=u},useState:Ru,useDebugValue:z0,useDeferredValue:function(u){var f=Ru(u),A=f[0],M=f[1];return Bu(function(){var E=Mr.transition;Mr.transition={};try{M(u)}finally{Mr.transition=E}},[u]),A},useTransition:function(){var u=Ru(!1),f=u[0];return u=cb.bind(null,u[1]),cr().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,A){var M=vn,E=cr();if(jn){if(A===void 0)throw Error(o(407));A=A()}else{if(A=f(),fn===null)throw Error(o(349));Xn&30||W1(M,f,A)}E.memoizedState=A;var L={value:A,getSnapshot:f};return E.queue=L,Bu(J1.bind(null,M,L,u),[u]),M.flags|=2048,fd(9,X1.bind(null,M,L,A,f),void 0,null),A},useId:function(){var u=cr(),f=fn.identifierPrefix;if(jn){var A=ts,M=wr;A=(M&~(1<<32-_r(M)-1)).toString(32)+A,f=":"+f+"R"+A,A=Ep++,0<A&&(f+="H"+A.toString(32)),f+=":"}else A=zr++,f=":"+f+"r"+A.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},ZB={readContext:Ti,useCallback:q1,useContext:Ti,useEffect:md,useImperativeHandle:k0,useInsertionEffect:K1,useLayoutEffect:Y1,useMemo:lb,useReducer:Tu,useRef:Pp,useState:function(){return Tu(Ha)},useDebugValue:z0,useDeferredValue:function(u){var f=Tu(Ha),A=f[0],M=f[1];return md(function(){var E=Mr.transition;Mr.transition={};try{M(u)}finally{Mr.transition=E}},[u]),A},useTransition:function(){var u=Tu(Ha)[0],f=Hr().memoizedState;return[u,f]},useMutableSource:V1,useSyncExternalStore:j1,useId:ub,unstable_isNewReconciler:!1},t_={readContext:Ti,useCallback:q1,useContext:Ti,useEffect:md,useImperativeHandle:k0,useInsertionEffect:K1,useLayoutEffect:Y1,useMemo:lb,useReducer:Rp,useRef:Pp,useState:function(){return Rp(Ha)},useDebugValue:z0,useDeferredValue:function(u){var f=Rp(Ha),A=f[0],M=f[1];return md(function(){var E=Mr.transition;Mr.transition={};try{M(u)}finally{Mr.transition=E}},[u]),A},useTransition:function(){var u=Rp(Ha)[0],f=Hr().memoizedState;return[u,f]},useMutableSource:V1,useSyncExternalStore:j1,useId:ub,unstable_isNewReconciler:!1};function Ip(u,f){try{var A="",M=f;do A+=ko(M),M=M.return;while(M);var E=A}catch(L){E=`
Error generating stack: `+L.message+`
`+L.stack}return{value:u,source:f,stack:E}}function n_(u,f){try{console.error(f.value)}catch(A){setTimeout(function(){throw A})}}var db=typeof WeakMap=="function"?WeakMap:Map;function i_(u,f,A){A=Or(-1,A),A.tag=3,A.payload={element:null};var M=f.value;return A.callback=function(){Ad||(Ad=!0,Wa=M),n_(u,f)},A}function r_(u,f,A){A=Or(-1,A),A.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var E=f.value;A.payload=function(){return M(E)},A.callback=function(){n_(u,f)}}var L=u.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(A.callback=function(){n_(u,f),typeof M!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var V=f.stack;this.componentDidCatch(f.value,{componentStack:V!==null?V:""})}),A}function s_(u,f,A){var M=u.pingCache;if(M===null){M=u.pingCache=new db;var E=new Set;M.set(f,E)}else E=M.get(f),E===void 0&&(E=new Set,M.set(f,E));E.has(A)||(E.add(A),u=gb.bind(null,u,f,A),f.then(u,u))}function o_(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function Vo(u,f,A,M,E){return u.mode&1?(u.flags|=65536,u.lanes=E,u):(u===f?u.flags|=65536:(u.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(f=Or(-1,1),f.tag=2,zo(A,f))),A.lanes|=1),u)}function jo(u){u.flags|=4}function gd(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Pl,Pc,Iu,Lp;if(U)Pl=function(u,f){for(var A=f.child;A!==null;){if(A.tag===5||A.tag===6)pe(u,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},Pc=function(){},Iu=function(u,f,A,M,E){if(u=u.memoizedProps,u!==M){var L=f.stateNode,V=wo(kr.current);A=ne(L,A,u,M,E,V),(f.updateQueue=A)&&jo(f)}},Lp=function(u,f,A,M){A!==M&&jo(f)};else if(fe){Pl=function(u,f,A,M){for(var E=f.child;E!==null;){if(E.tag===5){var L=E.stateNode;A&&M&&(L=$t(L,E.type,E.memoizedProps,E)),pe(u,L)}else if(E.tag===6)L=E.stateNode,A&&M&&(L=Ue(L,E.memoizedProps,E)),pe(u,L);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)L=E.child,L!==null&&(L.return=E),Pl(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var vd=function(u,f,A,M){for(var E=f.child;E!==null;){if(E.tag===5){var L=E.stateNode;A&&M&&(L=$t(L,E.type,E.memoizedProps,E)),Ve(u,L)}else if(E.tag===6)L=E.stateNode,A&&M&&(L=Ue(L,E.memoizedProps,E)),Ve(u,L);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)L=E.child,L!==null&&(L.return=E),vd(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Pc=function(u,f){var A=f.stateNode;if(!gd(u,f)){u=A.containerInfo;var M=dt(u);vd(M,f,!1,!1),A.pendingChildren=M,jo(f),rt(u,M)}},Iu=function(u,f,A,M,E){var L=u.stateNode,V=u.memoizedProps;if((u=gd(u,f))&&V===M)f.stateNode=L;else{var re=f.stateNode,we=wo(kr.current),We=null;V!==M&&(We=ne(re,A,V,M,E,we)),u&&We===null?f.stateNode=L:(L=Xe(L,We,A,V,M,f,u,re),ke(L,A,M,E,we)&&jo(f),f.stateNode=L,u?jo(f):Pl(L,f,!1,!1))}},Lp=function(u,f,A,M){A!==M?(u=wo(rs.current),A=wo(kr.current),f.stateNode=be(M,u,A,f),jo(f)):f.stateNode=u.stateNode}}else Pc=function(){},Iu=function(){},Lp=function(){};function Hi(u,f){if(!jn)switch(u.tailMode){case"hidden":f=u.tail;for(var A=null;f!==null;)f.alternate!==null&&(A=f),f=f.sibling;A===null?u.tail=null:A.sibling=null;break;case"collapsed":A=u.tail;for(var M=null;A!==null;)A.alternate!==null&&(M=A),A=A.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function Gr(u){var f=u.alternate!==null&&u.alternate.child===u.child,A=0,M=0;if(f)for(var E=u.child;E!==null;)A|=E.lanes|E.childLanes,M|=E.subtreeFlags&14680064,M|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)A|=E.lanes|E.childLanes,M|=E.subtreeFlags,M|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=M,u.childLanes=A,f}function eI(u,f,A){var M=f.pendingProps;switch(ns(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(f),null;case 1:return Vt(f.type)&&hi(),Gr(f),null;case 3:return M=f.stateNode,Cu(),je(kn),je(Jt),dd(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(ka(f)?jo(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,So!==null&&(S_(So),So=null))),Pc(u,f),Gr(f),null;case 5:ii(f),A=wo(rs.current);var E=f.type;if(u!==null&&f.stateNode!=null)Iu(u,f,E,M,A),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(o(166));return Gr(f),null}if(u=wo(kr.current),ka(f)){if(!me)throw Error(o(175));u=El(f.stateNode,f.type,f.memoizedProps,A,u,f,!is),f.updateQueue=u,u!==null&&jo(f)}else{var L=ee(E,M,A,u,f);Pl(L,f,!1,!1),f.stateNode=L,ke(L,E,M,A,u)&&jo(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Gr(f),null;case 6:if(u&&f.stateNode!=null)Lp(u,f,u.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(o(166));if(u=wo(rs.current),A=wo(kr.current),ka(f)){if(!me)throw Error(o(176));if(u=f.stateNode,M=f.memoizedProps,(A=Oo(u,M,f,!is))&&(E=ni,E!==null))switch(L=(E.mode&1)!==0,E.tag){case 3:Ze(E.stateNode.containerInfo,u,M,L);break;case 5:et(E.type,E.memoizedProps,E.stateNode,u,M,L)}A&&jo(f)}else f.stateNode=be(M,u,A,f)}return Gr(f),null;case 13:if(je(Zn),M=f.memoizedState,jn&&yn!==null&&f.mode&1&&!(f.flags&128)){for(u=yn;u;)u=Zt(u);return Ec(),f.flags|=98560,f}if(M!==null&&M.dehydrated!==null){if(M=ka(f),u===null){if(!M)throw Error(o(318));if(!me)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));O(u,f)}else Ec(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Gr(f),null}return So!==null&&(S_(So),So=null),f.flags&128?(f.lanes=A,f):(M=M!==null,A=!1,u===null?ka(f):A=u.memoizedState!==null,M&&!A&&(f.child.flags|=8192,f.mode&1&&(u===null||Zn.current&1?pi===0&&(pi=3):wd())),f.updateQueue!==null&&(f.flags|=4),Gr(f),null);case 4:return Cu(),Pc(u,f),u===null&&_e(f.stateNode.containerInfo),Gr(f),null;case 10:return vp(f.type._context),Gr(f),null;case 17:return Vt(f.type)&&hi(),Gr(f),null;case 19:if(je(Zn),E=f.memoizedState,E===null)return Gr(f),null;if(M=(f.flags&128)!==0,L=E.rendering,L===null)if(M)Hi(E,!1);else{if(pi!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(L=hd(u),L!==null){for(f.flags|=128,Hi(E,!1),u=L.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=A,M=f.child;M!==null;)A=M,E=u,A.flags&=14680066,L=A.alternate,L===null?(A.childLanes=0,A.lanes=E,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=L.childLanes,A.lanes=L.lanes,A.child=L.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=L.memoizedProps,A.memoizedState=L.memoizedState,A.updateQueue=L.updateQueue,A.type=L.type,E=L.dependencies,A.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),M=M.sibling;return Nt(Zn,Zn.current&1|2),f.child}u=u.sibling}E.tail!==null&&zi()>Ic&&(f.flags|=128,M=!0,Hi(E,!1),f.lanes=4194304)}else{if(!M)if(u=hd(L),u!==null){if(f.flags|=128,M=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),Hi(E,!0),E.tail===null&&E.tailMode==="hidden"&&!L.alternate&&!jn)return Gr(f),null}else 2*zi()-E.renderingStartTime>Ic&&A!==1073741824&&(f.flags|=128,M=!0,Hi(E,!1),f.lanes=4194304);E.isBackwards?(L.sibling=f.child,f.child=L):(u=E.last,u!==null?u.sibling=L:f.child=L,E.last=L)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=zi(),f.sibling=null,u=Zn.current,Nt(Zn,M?u&1|2:u&1),f):(Gr(f),null);case 22:case 23:return Fl(),M=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(f.flags|=8192),M&&f.mode&1?ur&1073741824&&(Gr(f),U&&f.subtreeFlags&6&&(f.flags|=8192)):Gr(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var eo=a.ReactCurrentOwner,Jn=!1;function Vr(u,f,A,M){f.child=u===null?ud(f,null,A,M):Eu(f,u.child,A,M)}function a_(u,f,A,M,E){A=A.render;var L=f.ref;return Ar(f,E),M=Tp(u,f,A,M,L,E),A=Go(),u!==null&&!Jn?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~E,Bl(u,f,E)):(jn&&A&&Sp(f),f.flags|=1,Vr(u,f,M,E),f.child)}function l_(u,f,A,M,E){if(u===null){var L=A.type;return typeof L=="function"&&!C_(L)&&L.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(f.tag=15,f.type=L,c_(u,f,L,M,E)):(u=Xa(A.type,null,M,f,f.mode,E),u.ref=f.ref,u.return=f,f.child=u)}if(L=u.child,!(u.lanes&E)){var V=L.memoizedProps;if(A=A.compare,A=A!==null?A:T0,A(V,M)&&u.ref===f.ref)return Bl(u,f,E)}return f.flags|=1,u=Yo(L,M),u.ref=f.ref,u.return=f,f.child=u}function c_(u,f,A,M,E){if(u!==null&&T0(u.memoizedProps,M)&&u.ref===f.ref)if(Jn=!1,(u.lanes&E)!==0)u.flags&131072&&(Jn=!0);else return f.lanes=u.lanes,Bl(u,f,E);return V0(u,f,A,M,E)}function u_(u,f,A){var M=f.pendingProps,E=M.children,L=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Nt(oi,ur),ur|=A;else if(A&1073741824)f.memoizedState={baseLanes:0,cachePool:null},M=L!==null?L.baseLanes:A,Nt(oi,ur),ur|=M;else return u=L!==null?L.baseLanes|A:A,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,Nt(oi,ur),ur|=u,null;else L!==null?(M=L.baseLanes|A,f.memoizedState=null):M=A,Nt(oi,ur),ur|=M;return Vr(u,f,E,A),f.child}function G0(u,f){var A=f.ref;(u===null&&A!==null||u!==null&&u.ref!==A)&&(f.flags|=512,f.flags|=2097152)}function V0(u,f,A,M,E){var L=Vt(A)?Vn:Jt.current;return L=Wn(f,L),Ar(f,E),A=Tp(u,f,A,M,L,E),M=Go(),u!==null&&!Jn?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~E,Bl(u,f,E)):(jn&&M&&Sp(f),f.flags|=1,Vr(u,f,A,E),f.child)}function j0(u,f,A,M,E){if(Vt(A)){var L=!0;$s(f)}else L=!1;if(Ar(f,E),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),z1(f,A,M),Mc(f,A,M,E),M=!0;else if(u===null){var V=f.stateNode,re=f.memoizedProps;V.props=re;var we=V.context,We=A.contextType;typeof We=="object"&&We!==null?We=Ti(We):(We=Vt(A)?Vn:Jt.current,We=Wn(f,We));var lt=A.getDerivedStateFromProps,yt=typeof lt=="function"||typeof V.getSnapshotBeforeUpdate=="function";yt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(re!==M||we!==We)&&L0(f,V,M,We),Oa=!1;var Mt=f.memoizedState;V.state=Mt,_p(f,M,V,E),we=f.memoizedState,re!==M||Mt!==we||kn.current||Oa?(typeof lt=="function"&&(ld(f,A,lt,M),we=f.memoizedState),(re=Oa||k1(f,A,re,M,Mt,we,We))?(yt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(f.flags|=4194308)):(typeof V.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=we),V.props=M,V.state=we,V.context=We,M=re):(typeof V.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{V=f.stateNode,Ua(u,f),re=f.memoizedProps,We=f.type===f.elementType?re:As(f.type,re),V.props=We,yt=f.pendingProps,Mt=V.context,we=A.contextType,typeof we=="object"&&we!==null?we=Ti(we):(we=Vt(A)?Vn:Jt.current,we=Wn(f,we));var St=A.getDerivedStateFromProps;(lt=typeof St=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(re!==yt||Mt!==we)&&L0(f,V,M,we),Oa=!1,Mt=f.memoizedState,V.state=Mt,_p(f,M,V,E);var It=f.memoizedState;re!==yt||Mt!==It||kn.current||Oa?(typeof St=="function"&&(ld(f,A,St,M),It=f.memoizedState),(We=Oa||k1(f,A,We,M,Mt,It,we)||!1)?(lt||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(M,It,we),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(M,It,we)),typeof V.componentDidUpdate=="function"&&(f.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof V.componentDidUpdate!="function"||re===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=It),V.props=M,V.state=It,V.context=we,M=We):(typeof V.componentDidUpdate!="function"||re===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=1024),M=!1)}return W0(u,f,A,M,L,E)}function W0(u,f,A,M,E,L){G0(u,f);var V=(f.flags&128)!==0;if(!M&&!V)return E&&Nr(f,A,!1),Bl(u,f,L);M=f.stateNode,eo.current=f;var re=V&&typeof A.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,u!==null&&V?(f.child=Eu(f,u.child,null,L),f.child=Eu(f,null,re,L)):Vr(u,f,re,L),f.memoizedState=M.state,E&&Nr(f,A,!0),f.child}function h_(u){var f=u.stateNode;f.pendingContext?Uo(u,f.pendingContext,f.pendingContext!==f.context):f.context&&Uo(u,f.context,!1),Tc(u,f.containerInfo)}function Dp(u,f,A,M,E){return Ec(),Mu(E),f.flags|=256,Vr(u,f,A,M),f.child}var Lu={dehydrated:null,treeContext:null,retryLane:0};function Fp(u){return{baseLanes:u,cachePool:null}}function X0(u,f,A){var M=f.pendingProps,E=Zn.current,L=!1,V=(f.flags&128)!==0,re;if((re=V)||(re=u!==null&&u.memoizedState===null?!1:(E&2)!==0),re?(L=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),Nt(Zn,E&1),u===null)return N0(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?_n(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=M.children,u=M.fallback,L?(M=f.mode,L=f.child,E={mode:"hidden",children:E},!(M&1)&&L!==null?(L.childLanes=0,L.pendingProps=E):L=Md(E,M,0,null),u=Ja(u,M,A,null),L.return=f,u.return=f,L.sibling=u,f.child=L,f.child.memoizedState=Fp(A),f.memoizedState=Lu,u):J0(f,E));if(E=u.memoizedState,E!==null){if(re=E.dehydrated,re!==null){if(V)return f.flags&256?(f.flags&=-257,Op(u,f,A,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(L=M.fallback,E=f.mode,M=Md({mode:"visible",children:M.children},E,0,null),L=Ja(L,E,A,null),L.flags|=2,M.return=f,L.return=f,M.sibling=L,f.child=M,f.mode&1&&Eu(f,u.child,null,A),f.child.memoizedState=Fp(A),f.memoizedState=Lu,L);if(!(f.mode&1))f=Op(u,f,A,null);else if(_n(re))f=Op(u,f,A,Error(o(419)));else if(M=(A&u.childLanes)!==0,Jn||M){if(M=fn,M!==null){switch(A&-A){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}M=L&(M.suspendedLanes|A)?0:L,M!==0&&M!==E.retryLane&&(E.retryLane=M,os(u,M,-1))}wd(),f=Op(u,f,A,Error(o(421)))}else on(re)?(f.flags|=128,f.child=u.child,f=rI.bind(null,u),En(re,f),f=null):(A=E.treeContext,me&&(yn=xr(re),ni=f,jn=!0,So=null,is=!1,A!==null&&(di[ar++]=wr,di[ar++]=ts,di[ar++]=es,wr=A.id,ts=A.overflow,es=f)),f=J0(f,f.pendingProps.children),f.flags|=4096);return f}return L?(M=Np(u,f,M.children,M.fallback,A),L=f.child,E=u.child.memoizedState,L.memoizedState=E===null?Fp(A):{baseLanes:E.baseLanes|A,cachePool:null},L.childLanes=u.childLanes&~A,f.memoizedState=Lu,M):(A=d_(u,f,M.children,A),f.memoizedState=null,A)}return L?(M=Np(u,f,M.children,M.fallback,A),L=f.child,E=u.child.memoizedState,L.memoizedState=E===null?Fp(A):{baseLanes:E.baseLanes|A,cachePool:null},L.childLanes=u.childLanes&~A,f.memoizedState=Lu,M):(A=d_(u,f,M.children,A),f.memoizedState=null,A)}function J0(u,f){return f=Md({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function d_(u,f,A,M){var E=u.child;return u=E.sibling,A=Yo(E,{mode:"visible",children:A}),!(f.mode&1)&&(A.lanes=M),A.return=f,A.sibling=null,u!==null&&(M=f.deletions,M===null?(f.deletions=[u],f.flags|=16):M.push(u)),f.child=A}function Np(u,f,A,M,E){var L=f.mode;u=u.child;var V=u.sibling,re={mode:"hidden",children:A};return!(L&1)&&f.child!==u?(A=f.child,A.childLanes=0,A.pendingProps=re,f.deletions=null):(A=Yo(u,re),A.subtreeFlags=u.subtreeFlags&14680064),V!==null?M=Yo(V,M):(M=Ja(M,L,E,null),M.flags|=2),M.return=f,A.return=f,A.sibling=M,f.child=A,M}function Op(u,f,A,M){return M!==null&&Mu(M),Eu(f,u.child,null,A),u=J0(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function K0(u,f,A){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),wc(u.return,f,A)}function Y0(u,f,A,M,E){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:A,tailMode:E}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=M,L.tail=A,L.tailMode=E)}function Ga(u,f,A){var M=f.pendingProps,E=M.revealOrder,L=M.tail;if(Vr(u,f,M.children,A),M=Zn.current,M&2)M=M&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&K0(u,A,f);else if(u.tag===19)K0(u,A,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(Nt(Zn,M),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(A=f.child,E=null;A!==null;)u=A.alternate,u!==null&&hd(u)===null&&(E=A),A=A.sibling;A=E,A===null?(E=f.child,f.child=null):(E=A.sibling,A.sibling=null),Y0(f,!1,E,A,L);break;case"backwards":for(A=null,E=f.child,f.child=null;E!==null;){if(u=E.alternate,u!==null&&hd(u)===null){f.child=E;break}u=E.sibling,E.sibling=A,A=E,E=u}Y0(f,!0,A,null,L);break;case"together":Y0(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Bl(u,f,A){if(u!==null&&(f.dependencies=u.dependencies),Il|=f.lanes,!(A&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,A=Yo(u,u.pendingProps),f.child=A,A.return=f;u.sibling!==null;)u=u.sibling,A=A.sibling=Yo(u,u.pendingProps),A.return=f;A.sibling=null}return f.child}function tI(u,f,A){switch(f.tag){case 3:h_(f),Ec();break;case 5:O0(f);break;case 1:Vt(f.type)&&$s(f);break;case 4:Tc(f,f.stateNode.containerInfo);break;case 10:P0(f,f.type._context,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(Nt(Zn,Zn.current&1),f.flags|=128,null):A&f.child.childLanes?X0(u,f,A):(Nt(Zn,Zn.current&1),u=Bl(u,f,A),u!==null?u.sibling:null);Nt(Zn,Zn.current&1);break;case 19:if(M=(A&f.childLanes)!==0,u.flags&128){if(M)return Ga(u,f,A);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Nt(Zn,Zn.current),M)break;return null;case 22:case 23:return f.lanes=0,u_(u,f,A)}return Bl(u,f,A)}function Q0(u,f){switch(ns(f),f.tag){case 1:return Vt(f.type)&&hi(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Cu(),je(kn),je(Jt),dd(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return ii(f),null;case 13:if(je(Zn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Ec()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return je(Zn),null;case 4:return Cu(),null;case 10:return vp(f.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var Va=!1,Du=!1,Tt=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Up(u,f){var A=u.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(M){Ss(u,f,M)}else A.current=null}function q0(u,f,A){try{A()}catch(M){Ss(u,f,M)}}var fb=!1;function Fu(u,f){for(z(u.containerInfo),bt=f;bt!==null;)if(u=bt,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,bt=f;else for(;bt!==null;){u=bt;try{var A=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var M=A.memoizedProps,E=A.memoizedState,L=u.stateNode,V=L.getSnapshotBeforeUpdate(u.elementType===u.type?M:As(u.type,M),E);L.__reactInternalSnapshotBeforeUpdate=V}break;case 3:U&&Le(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){Ss(u,u.return,re)}if(f=u.sibling,f!==null){f.return=u.return,bt=f;break}bt=u.return}return A=fb,fb=!1,A}function Wo(u,f,A){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var E=M=M.next;do{if((E.tag&u)===u){var L=E.destroy;E.destroy=void 0,L!==void 0&&q0(f,A,L)}E=E.next}while(E!==M)}}function Nu(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var A=f=f.next;do{if((A.tag&u)===u){var M=A.create;A.destroy=M()}A=A.next}while(A!==f)}}function $0(u){var f=u.ref;if(f!==null){var A=u.stateNode;switch(u.tag){case 5:u=Y(A);break;default:u=A}typeof f=="function"?f(u):f.current=u}}function f_(u,f,A){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Zs,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var E=M,L=E.destroy;E=E.tag,L!==void 0&&(E&2||E&4)&&q0(f,A,L),M=M.next}while(M!==u)}break;case 1:if(Up(f,A),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(V){Ss(f,A,V)}break;case 5:Up(f,A);break;case 4:U?tv(u,f,A):fe&&fe&&(f=f.stateNode.containerInfo,A=dt(f),pt(f,A))}}function p_(u,f,A){for(var M=f;;)if(f_(u,M,A),M.child===null||U&&M.tag===4){if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function m_(u){var f=u.alternate;f!==null&&(u.alternate=null,m_(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Oe(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function g_(u){return u.tag===5||u.tag===3||u.tag===4}function v_(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||g_(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Z0(u){if(U){e:{for(var f=u.return;f!==null;){if(g_(f))break e;f=f.return}throw Error(o(160))}var A=f;switch(A.tag){case 5:f=A.stateNode,A.flags&32&&(Qe(f),A.flags&=-33),A=v_(u),ev(u,A,f);break;case 3:case 4:f=A.stateNode.containerInfo,A=v_(u),kp(u,A,f);break;default:throw Error(o(161))}}}function kp(u,f,A){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?te(A,u,f):ct(A,u);else if(M!==4&&(u=u.child,u!==null))for(kp(u,f,A),u=u.sibling;u!==null;)kp(u,f,A),u=u.sibling}function ev(u,f,A){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?Ye(A,u,f):ze(A,u);else if(M!==4&&(u=u.child,u!==null))for(ev(u,f,A),u=u.sibling;u!==null;)ev(u,f,A),u=u.sibling}function tv(u,f,A){for(var M=f,E=!1,L,V;;){if(!E){E=M.return;e:for(;;){if(E===null)throw Error(o(160));switch(L=E.stateNode,E.tag){case 5:V=!1;break e;case 3:L=L.containerInfo,V=!0;break e;case 4:L=L.containerInfo,V=!0;break e}E=E.return}E=!0}if(M.tag===5||M.tag===6)p_(u,M,A),V?Me(L,M.stateNode):$(L,M.stateNode);else if(M.tag===18)V?Fe(L,M.stateNode):K(L,M.stateNode);else if(M.tag===4){if(M.child!==null){L=M.stateNode.containerInfo,V=!0,M.child.return=M,M=M.child;continue}}else if(f_(u,M,A),M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return,M.tag===4&&(E=!1)}M.sibling.return=M.return,M=M.sibling}}function yd(u,f){if(U){switch(f.tag){case 0:case 11:case 14:case 15:Wo(3,f,f.return),Nu(3,f),Wo(5,f,f.return);return;case 1:return;case 5:var A=f.stateNode;if(A!=null){var M=f.memoizedProps;u=u!==null?u.memoizedProps:M;var E=f.type,L=f.updateQueue;f.updateQueue=null,L!==null&&ht(A,L,E,u,M,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));A=f.memoizedProps,Te(f.stateNode,u!==null?u.memoizedProps:A,A);return;case 3:me&&u!==null&&u.memoizedState.isDehydrated&&ae(f.stateNode.containerInfo);return;case 12:return;case 13:nv(f);return;case 19:nv(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Wo(3,f,f.return),Nu(3,f),Wo(5,f,f.return);return;case 12:return;case 13:nv(f);return;case 19:nv(f);return;case 3:me&&u!==null&&u.memoizedState.isDehydrated&&ae(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,pt(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function nv(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var A=u.stateNode;A===null&&(A=u.stateNode=new Tt),f.forEach(function(M){var E=yb.bind(null,u,M);A.has(M)||(A.add(M),M.then(E,E))})}}function nI(u,f){for(bt=f;bt!==null;){f=bt;var A=f.deletions;if(A!==null)for(var M=0;M<A.length;M++){var E=A[M];try{var L=u;U?tv(L,E,f):p_(L,E,f);var V=E.alternate;V!==null&&(V.return=null),E.return=null}catch(mt){Ss(E,f,mt)}}if(A=f.child,f.subtreeFlags&12854&&A!==null)A.return=f,bt=A;else for(;bt!==null;){f=bt;try{var re=f.flags;if(re&32&&U&&Qe(f.stateNode),re&512){var we=f.alternate;if(we!==null){var We=we.ref;We!==null&&(typeof We=="function"?We(null):We.current=null)}}if(re&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var lt=f.alternate;(lt===null||lt.memoizedState===null)&&(Vp=zi())}break;case 22:var yt=f.memoizedState!==null,Mt=f.alternate,St=Mt!==null&&Mt.memoizedState!==null;if(A=f,U){e:if(M=A,E=yt,L=null,U)for(var It=M;;){if(It.tag===5){if(L===null){L=It;var Kn=It.stateNode;E?G(Kn):de(It.stateNode,It.memoizedProps)}}else if(It.tag===6){if(L===null){var He=It.stateNode;E?De(He):ye(He,It.memoizedProps)}}else if((It.tag!==22&&It.tag!==23||It.memoizedState===null||It===M)&&It.child!==null){It.child.return=It,It=It.child;continue}if(It===M)break;for(;It.sibling===null;){if(It.return===null||It.return===M)break e;L===It&&(L=null),It=It.return}L===It&&(L=null),It.sibling.return=It.return,It=It.sibling}}if(yt&&!St&&A.mode&1){bt=A;for(var Z=A.child;Z!==null;){for(A=bt=Z;bt!==null;){M=bt;var oe=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Wo(4,M,M.return);break;case 1:Up(M,M.return);var Ee=M.stateNode;if(typeof Ee.componentWillUnmount=="function"){var tt=M.return;try{Ee.props=M.memoizedProps,Ee.state=M.memoizedState,Ee.componentWillUnmount()}catch(mt){Ss(M,tt,mt)}}break;case 5:Up(M,M.return);break;case 22:if(M.memoizedState!==null){__(A);continue}}oe!==null?(oe.return=M,bt=oe):__(A)}Z=Z.sibling}}}switch(re&4102){case 2:Z0(f),f.flags&=-3;break;case 6:Z0(f),f.flags&=-3,yd(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,yd(f.alternate,f);break;case 4:yd(f.alternate,f)}}catch(mt){Ss(f,f.return,mt)}if(A=f.sibling,A!==null){A.return=f.return,bt=A;break}bt=f.return}}}function pb(u,f,A){bt=u,y_(u)}function y_(u,f,A){for(var M=(u.mode&1)!==0;bt!==null;){var E=bt,L=E.child;if(E.tag===22&&M){var V=E.memoizedState!==null||Va;if(!V){var re=E.alternate,we=re!==null&&re.memoizedState!==null||Du;re=Va;var We=Du;if(Va=V,(Du=we)&&!We)for(bt=E;bt!==null;)V=bt,we=V.child,V.tag===22&&V.memoizedState!==null?zp(E):we!==null?(we.return=V,bt=we):zp(E);for(;L!==null;)bt=L,y_(L),L=L.sibling;bt=E,Va=re,Du=We}x_(u)}else E.subtreeFlags&8772&&L!==null?(L.return=E,bt=L):x_(u)}}function x_(u){for(;bt!==null;){var f=bt;if(f.flags&8772){var A=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Du||Nu(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!Du)if(A===null)M.componentDidMount();else{var E=f.elementType===f.type?A.memoizedProps:As(f.type,A.memoizedProps);M.componentDidUpdate(E,A.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var L=f.updateQueue;L!==null&&U1(f,L,M);break;case 3:var V=f.updateQueue;if(V!==null){if(A=null,f.child!==null)switch(f.child.tag){case 5:A=Y(f.child.stateNode);break;case 1:A=f.child.stateNode}U1(f,V,A)}break;case 5:var re=f.stateNode;A===null&&f.flags&4&&$e(re,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&f.memoizedState===null){var we=f.alternate;if(we!==null){var We=we.memoizedState;if(We!==null){var lt=We.dehydrated;lt!==null&&q(lt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Du||f.flags&512&&$0(f)}catch(yt){Ss(f,f.return,yt)}}if(f===u){bt=null;break}if(A=f.sibling,A!==null){A.return=f.return,bt=A;break}bt=f.return}}function __(u){for(;bt!==null;){var f=bt;if(f===u){bt=null;break}var A=f.sibling;if(A!==null){A.return=f.return,bt=A;break}bt=f.return}}function zp(u){for(;bt!==null;){var f=bt;try{switch(f.tag){case 0:case 11:case 15:var A=f.return;try{Nu(4,f)}catch(we){Ss(f,A,we)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var E=f.return;try{M.componentDidMount()}catch(we){Ss(f,E,we)}}var L=f.return;try{$0(f)}catch(we){Ss(f,L,we)}break;case 5:var V=f.return;try{$0(f)}catch(we){Ss(f,V,we)}}}catch(we){Ss(f,f.return,we)}if(f===u){bt=null;break}var re=f.sibling;if(re!==null){re.return=f.return,bt=re;break}bt=f.return}}var Ou=0,Uu=1,ku=2,zu=3,Bc=4;if(typeof Symbol=="function"&&Symbol.for){var Hu=Symbol.for;Ou=Hu("selector.component"),Uu=Hu("selector.has_pseudo_class"),ku=Hu("selector.role"),zu=Hu("selector.test_id"),Bc=Hu("selector.text")}function Hp(u){var f=Ce(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=F(u),u===null)throw Error(o(362));return u.stateNode.current}function Gp(u,f){switch(f.$$typeof){case Ou:if(u.type===f.value)return!0;break;case Uu:e:{f=f.value,u=[u,0];for(var A=0;A<u.length;){var M=u[A++],E=u[A++],L=f[E];if(M.tag!==5||!Ae(M)){for(;L!=null&&Gp(M,L);)E++,L=f[E];if(E===f.length){f=!0;break e}else for(M=M.child;M!==null;)u.push(M,E),M=M.sibling}}f=!1}return f;case ku:if(u.tag===5&&Se(u.stateNode,f.value))return!0;break;case Bc:if((u.tag===5||u.tag===6)&&(u=ge(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case zu:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function iv(u){switch(u.$$typeof){case Ou:return"<"+(B(u.value)||"Unknown")+">";case Uu:return":has("+(iv(u)||"")+")";case ku:return'[role="'+u.value+'"]';case Bc:return'"'+u.value+'"';case zu:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function rv(u,f){var A=[];u=[u,0];for(var M=0;M<u.length;){var E=u[M++],L=u[M++],V=f[L];if(E.tag!==5||!Ae(E)){for(;V!=null&&Gp(E,V);)L++,V=f[L];if(L===f.length)A.push(E);else for(E=E.child;E!==null;)u.push(E,L),E=E.sibling}}return A}function A_(u,f){if(!k)throw Error(o(363));u=Hp(u),u=rv(u,f),f=[],u=Array.from(u);for(var A=0;A<u.length;){var M=u[A++];if(M.tag===5)Ae(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return f}var sv=Math.ceil,xd=a.ReactCurrentDispatcher,fi=a.ReactCurrentOwner,kt=a.ReactCurrentBatchConfig,Ht=0,fn=null,xn=null,zn=0,ur=0,oi=At(0),pi=0,ja=null,Il=0,_d=0,Gu=0,hr=null,jr=null,Vp=0,Ic=1/0;function Ll(){Ic=zi()+500}var Ad=!1,Wa=null,Xo=null,Jo=!1,Ko=null,Lc=0,Vu=0,Sd=null,ju=-1,dr=0;function wi(){return Ht&6?zi():ju!==-1?ju:ju=zi()}function $i(u){return u.mode&1?Ht&2&&zn!==0?zn&-zn:C0.transition!==null?(dr===0&&(u=_u,_u<<=1,!(_u&4194240)&&(_u=64),dr=u),dr):(u=Cn,u!==0?u:Ne()):1}function os(u,f,A){if(50<Vu)throw Vu=0,Sd=null,Error(o(185));var M=br(u,f);return M===null?null:(mp(M,f,A),(!(Ht&2)||M!==fn)&&(M===fn&&(!(Ht&2)&&(_d|=f),pi===4&&Dl(M,zn)),as(M,A),f===1&&Ht===0&&!(u.mode&1)&&(Ll(),ad&&Na())),M)}function br(u,f){u.lanes|=f;var A=u.alternate;for(A!==null&&(A.lanes|=f),A=u,u=u.return;u!==null;)u.childLanes|=f,A=u.alternate,A!==null&&(A.childLanes|=f),A=u,u=u.return;return A.tag===3?A.stateNode:null}function as(u,f){var A=u.callbackNode;L1(u,f);var M=S0(u,u===fn?zn:0);if(M===0)A!==null&&ob(A),u.callbackNode=null,u.callbackPriority=0;else if(f=M&-M,u.callbackPriority!==f){if(A!=null&&ob(A),f===1)u.tag===0?Fa(w_.bind(null,u)):ab(w_.bind(null,u)),Re?at(function(){Ht===0&&Na()}):M0(F1,Na),A=null;else{switch(w0(M)){case 1:A=F1;break;case 4:A=N1;break;case 16:A=O1;break;case 536870912:A=b0;break;default:A=O1}A=xb(A,ov.bind(null,u))}u.callbackPriority=f,u.callbackNode=A}}function ov(u,f){if(ju=-1,dr=0,Ht&6)throw Error(o(327));var A=u.callbackNode;if(Oc()&&u.callbackNode!==A)return null;var M=S0(u,u===fn?zn:0);if(M===0)return null;if(M&30||M&u.expiredLanes||f)f=cv(u,M);else{f=M;var E=Ht;Ht|=2;var L=lv();(fn!==u||zn!==f)&&(Ll(),Fc(u,f));do try{mb();break}catch(re){M_(u,re)}while(!0);R0(),xd.current=L,Ht=E,xn!==null?f=0:(fn=null,zn=0,f=pi)}if(f!==0){if(f===2&&(E=pp(u),E!==0&&(M=E,f=jp(u,E))),f===1)throw A=ja,Fc(u,0),Dl(u,M),as(u,zi()),A;if(f===6)Dl(u,M);else{if(E=u.current.alternate,!(M&30)&&!Dc(E)&&(f=cv(u,M),f===2&&(L=pp(u),L!==0&&(M=L,f=jp(u,L))),f===1))throw A=ja,Fc(u,0),Dl(u,M),as(u,zi()),A;switch(u.finishedWork=E,u.finishedLanes=M,f){case 0:case 1:throw Error(o(345));case 2:Wu(u,jr);break;case 3:if(Dl(u,M),(M&130023424)===M&&(f=Vp+500-zi(),10<f)){if(S0(u,0)!==0)break;if(E=u.suspendedLanes,(E&M)!==M){wi(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=xe(Wu.bind(null,u,jr),f);break}Wu(u,jr);break;case 4:if(Dl(u,M),(M&4194240)===M)break;for(f=u.eventTimes,E=-1;0<M;){var V=31-_r(M);L=1<<V,V=f[V],V>E&&(E=V),M&=~L}if(M=E,M=zi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*sv(M/1960))-M,10<M){u.timeoutHandle=xe(Wu.bind(null,u,jr),M);break}Wu(u,jr);break;case 5:Wu(u,jr);break;default:throw Error(o(329))}}}return as(u,zi()),u.callbackNode===A?ov.bind(null,u):null}function jp(u,f){var A=hr;return u.current.memoizedState.isDehydrated&&(Fc(u,f).flags|=256),u=cv(u,f),u!==2&&(f=jr,jr=A,f!==null&&S_(f)),u}function S_(u){jr===null?jr=u:jr.push.apply(jr,u)}function Dc(u){for(var f=u;;){if(f.flags&16384){var A=f.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var M=0;M<A.length;M++){var E=A[M],L=E.getSnapshot;E=E.value;try{if(!or(L(),E))return!1}catch{return!1}}}if(A=f.child,f.subtreeFlags&16384&&A!==null)A.return=f,f=A;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Dl(u,f){for(f&=~Gu,f&=~_d,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var A=31-_r(f),M=1<<A;u[A]=-1,f&=~M}}function w_(u){if(Ht&6)throw Error(o(327));Oc();var f=S0(u,0);if(!(f&1))return as(u,zi()),null;var A=cv(u,f);if(u.tag!==0&&A===2){var M=pp(u);M!==0&&(f=M,A=jp(u,M))}if(A===1)throw A=ja,Fc(u,0),Dl(u,f),as(u,zi()),A;if(A===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Wu(u,jr),as(u,zi()),null}function av(u){Ko!==null&&Ko.tag===0&&!(Ht&6)&&Oc();var f=Ht;Ht|=1;var A=kt.transition,M=Cn;try{if(kt.transition=null,Cn=1,u)return u()}finally{Cn=M,kt.transition=A,Ht=f,!(Ht&6)&&Na()}}function Fl(){ur=oi.current,je(oi)}function Fc(u,f){u.finishedWork=null,u.finishedLanes=0;var A=u.timeoutHandle;if(A!==Ke&&(u.timeoutHandle=Ke,st(A)),xn!==null)for(A=xn.return;A!==null;){var M=A;switch(ns(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&hi();break;case 3:Cu(),je(kn),je(Jt),dd();break;case 5:ii(M);break;case 4:Cu();break;case 13:je(Zn);break;case 19:je(Zn);break;case 10:vp(M.type._context);break;case 22:case 23:Fl()}A=A.return}if(fn=u,xn=u=Yo(u.current,null),zn=ur=f,pi=0,ja=null,Gu=_d=Il=0,jr=hr=null,Sr!==null){for(f=0;f<Sr.length;f++)if(A=Sr[f],M=A.interleaved,M!==null){A.interleaved=null;var E=M.next,L=A.pending;if(L!==null){var V=L.next;L.next=E,M.next=V}A.pending=M}Sr=null}return u}function M_(u,f){do{var A=xn;try{if(R0(),ss.current=H0,Rc){for(var M=vn.memoizedState;M!==null;){var E=M.queue;E!==null&&(E.pending=null),M=M.next}Rc=!1}if(Xn=0,Ri=Tn=vn=null,Rl=!1,Ep=0,fi.current=null,A===null||A.return===null){pi=1,ja=f,xn=null;break}e:{var L=u,V=A.return,re=A,we=f;if(f=zn,re.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var We=we,lt=re,yt=lt.tag;if(!(lt.mode&1)&&(yt===0||yt===11||yt===15)){var Mt=lt.alternate;Mt?(lt.updateQueue=Mt.updateQueue,lt.memoizedState=Mt.memoizedState,lt.lanes=Mt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var St=o_(V);if(St!==null){St.flags&=-257,Vo(St,V,re,L,f),St.mode&1&&s_(L,We,f),f=St,we=We;var It=f.updateQueue;if(It===null){var Kn=new Set;Kn.add(we),f.updateQueue=Kn}else It.add(we);break e}else{if(!(f&1)){s_(L,We,f),wd();break e}we=Error(o(426))}}else if(jn&&re.mode&1){var He=o_(V);if(He!==null){!(He.flags&65536)&&(He.flags|=256),Vo(He,V,re,L,f),Mu(we);break e}}L=we,pi!==4&&(pi=2),hr===null?hr=[L]:hr.push(L),we=Ip(we,re),re=V;do{switch(re.tag){case 3:re.flags|=65536,f&=-f,re.lanes|=f;var Z=i_(re,we,f);xp(re,Z);break e;case 1:L=we;var oe=re.type,Ee=re.stateNode;if(!(re.flags&128)&&(typeof oe.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Xo===null||!Xo.has(Ee)))){re.flags|=65536,f&=-f,re.lanes|=f;var tt=r_(re,L,f);xp(re,tt);break e}}re=re.return}while(re!==null)}Nc(A)}catch(mt){f=mt,xn===A&&A!==null&&(xn=A=A.return);continue}break}while(!0)}function lv(){var u=xd.current;return xd.current=H0,u===null?H0:u}function wd(){(pi===0||pi===3||pi===2)&&(pi=4),fn===null||!(Il&268435455)&&!(_d&268435455)||Dl(fn,zn)}function cv(u,f){var A=Ht;Ht|=2;var M=lv();fn===u&&zn===f||Fc(u,f);do try{iI();break}catch(E){M_(u,E)}while(!0);if(R0(),Ht=A,xd.current=M,xn!==null)throw Error(o(261));return fn=null,zn=0,pi}function iI(){for(;xn!==null;)b_(xn)}function mb(){for(;xn!==null&&!YB();)b_(xn)}function b_(u){var f=E_(u.alternate,u,ur);u.memoizedProps=u.pendingProps,f===null?Nc(u):xn=f,fi.current=null}function Nc(u){var f=u;do{var A=f.alternate;if(u=f.return,f.flags&32768){if(A=Q0(A,f),A!==null){A.flags&=32767,xn=A;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{pi=6,xn=null;return}}else if(A=eI(A,f,ur),A!==null){xn=A;return}if(f=f.sibling,f!==null){xn=f;return}xn=f=u}while(f!==null);pi===0&&(pi=5)}function Wu(u,f){var A=Cn,M=kt.transition;try{kt.transition=null,Cn=1,Xu(u,f,A)}finally{kt.transition=M,Cn=A}return null}function Xu(u,f,A){do Oc();while(Ko!==null);if(Ht&6)throw Error(o(327));var M=u.finishedWork,E=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var L=M.lanes|M.childLanes;if(D1(u,L),u===fn&&(xn=fn=null,zn=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Jo||(Jo=!0,xb(O1,function(){return Oc(),null})),L=(M.flags&15990)!==0,M.subtreeFlags&15990||L){L=kt.transition,kt.transition=null;var V=Cn;Cn=1;var re=Ht;Ht|=4,fi.current=null,Fu(u,M),nI(u,M),H(u.containerInfo),u.current=M,pb(M),sr(),Ht=re,Cn=V,kt.transition=L}else u.current=M;if(Jo&&(Jo=!1,Ko=u,Lc=E),L=u.pendingLanes,L===0&&(Xo=null),QB(M.stateNode),as(u,zi()),f!==null)for(A=u.onRecoverableError,M=0;M<f.length;M++)A(f[M]);if(Ad)throw Ad=!1,u=Wa,Wa=null,u;return Lc&1&&u.tag!==0&&Oc(),L=u.pendingLanes,L&1?u===Sd?Vu++:(Vu=0,Sd=u):Vu=0,Na(),null}function Oc(){if(Ko!==null){var u=w0(Lc),f=kt.transition,A=Cn;try{if(kt.transition=null,Cn=16>u?16:u,Ko===null)var M=!1;else{if(u=Ko,Ko=null,Lc=0,Ht&6)throw Error(o(331));var E=Ht;for(Ht|=4,bt=u.current;bt!==null;){var L=bt,V=L.child;if(bt.flags&16){var re=L.deletions;if(re!==null){for(var we=0;we<re.length;we++){var We=re[we];for(bt=We;bt!==null;){var lt=bt;switch(lt.tag){case 0:case 11:case 15:Wo(8,lt,L)}var yt=lt.child;if(yt!==null)yt.return=lt,bt=yt;else for(;bt!==null;){lt=bt;var Mt=lt.sibling,St=lt.return;if(m_(lt),lt===We){bt=null;break}if(Mt!==null){Mt.return=St,bt=Mt;break}bt=St}}}var It=L.alternate;if(It!==null){var Kn=It.child;if(Kn!==null){It.child=null;do{var He=Kn.sibling;Kn.sibling=null,Kn=He}while(Kn!==null)}}bt=L}}if(L.subtreeFlags&2064&&V!==null)V.return=L,bt=V;else e:for(;bt!==null;){if(L=bt,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Wo(9,L,L.return)}var Z=L.sibling;if(Z!==null){Z.return=L.return,bt=Z;break e}bt=L.return}}var oe=u.current;for(bt=oe;bt!==null;){V=bt;var Ee=V.child;if(V.subtreeFlags&2064&&Ee!==null)Ee.return=V,bt=Ee;else e:for(V=oe;bt!==null;){if(re=bt,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Nu(9,re)}}catch(mt){Ss(re,re.return,mt)}if(re===V){bt=null;break e}var tt=re.sibling;if(tt!==null){tt.return=re.return,bt=tt;break e}bt=re.return}}if(Ht=E,Na(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Zs,u)}catch{}M=!0}return M}finally{Cn=A,kt.transition=f}}return!1}function ls(u,f,A){f=Ip(A,f),f=i_(u,f,1),zo(u,f),f=wi(),u=br(u,1),u!==null&&(mp(u,1,f),as(u,f))}function Ss(u,f,A){if(u.tag===3)ls(u,u,A);else for(;f!==null;){if(f.tag===3){ls(f,u,A);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Xo===null||!Xo.has(M))){u=Ip(A,u),u=r_(f,u,1),zo(f,u),u=wi(),f=br(f,1),f!==null&&(mp(f,1,u),as(f,u));break}}f=f.return}}function gb(u,f,A){var M=u.pingCache;M!==null&&M.delete(f),f=wi(),u.pingedLanes|=u.suspendedLanes&A,fn===u&&(zn&A)===A&&(pi===4||pi===3&&(zn&130023424)===zn&&500>zi()-Vp?Fc(u,0):Gu|=A),as(u,f)}function vb(u,f){f===0&&(u.mode&1?(f=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):f=1);var A=wi();u=br(u,f),u!==null&&(mp(u,f,A),as(u,A))}function rI(u){var f=u.memoizedState,A=0;f!==null&&(A=f.retryLane),vb(u,A)}function yb(u,f){var A=0;switch(u.tag){case 13:var M=u.stateNode,E=u.memoizedState;E!==null&&(A=E.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(f),vb(u,A)}var E_;E_=function(u,f,A){if(u!==null)if(u.memoizedProps!==f.pendingProps||kn.current)Jn=!0;else{if(!(u.lanes&A)&&!(f.flags&128))return Jn=!1,tI(u,f,A);Jn=!!(u.flags&131072)}else Jn=!1,jn&&f.flags&1048576&&D0(f,Zr,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var E=Wn(f,Jt.current);Ar(f,A),E=Tp(null,f,M,u,E,A);var L=Go();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Vt(M)?(L=!0,$s(f)):L=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,B0(f),E.updater=Ap,f.stateNode=E,E._reactInternals=f,Mc(f,M,u,A),f=W0(null,f,M,!0,L,A)):(f.tag=0,jn&&L&&Sp(f),Vr(null,f,E,A),f=f.child),f;case 16:M=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,E=M._init,M=E(M._payload),f.type=M,E=f.tag=Uc(M),u=As(M,u),E){case 0:f=V0(null,f,M,u,A);break e;case 1:f=j0(null,f,M,u,A);break e;case 11:f=a_(null,f,M,u,A);break e;case 14:f=l_(null,f,M,As(M.type,u),A);break e}throw Error(o(306,M,""))}return f;case 0:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:As(M,E),V0(u,f,M,E,A);case 1:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:As(M,E),j0(u,f,M,E,A);case 3:e:{if(h_(f),u===null)throw Error(o(387));M=f.pendingProps,L=f.memoizedState,E=L.element,Ua(u,f),_p(f,M,null,A);var V=f.memoizedState;if(M=V.element,me&&L.isDehydrated)if(L={element:M,isDehydrated:!1,cache:V.cache,transitions:V.transitions},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){E=Error(o(423)),f=Dp(u,f,M,A,E);break e}else if(M!==E){E=Error(o(424)),f=Dp(u,f,M,A,E);break e}else for(me&&(yn=Gt(f.stateNode.containerInfo),ni=f,jn=!0,So=null,is=!1),A=ud(f,null,M,A),f.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Ec(),M===E){f=Bl(u,f,A);break e}Vr(u,f,M,A)}f=f.child}return f;case 5:return O0(f),u===null&&N0(f),M=f.type,E=f.pendingProps,L=u!==null?u.memoizedProps:null,V=E.children,ve(M,E)?V=null:L!==null&&ve(M,L)&&(f.flags|=32),G0(u,f),Vr(u,f,V,A),f.child;case 6:return u===null&&N0(f),null;case 13:return X0(u,f,A);case 4:return Tc(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Eu(f,null,M,A):Vr(u,f,M,A),f.child;case 11:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:As(M,E),a_(u,f,M,E,A);case 7:return Vr(u,f,f.pendingProps,A),f.child;case 8:return Vr(u,f,f.pendingProps.children,A),f.child;case 12:return Vr(u,f,f.pendingProps.children,A),f.child;case 10:e:{if(M=f.type._context,E=f.pendingProps,L=f.memoizedProps,V=E.value,P0(f,M,V),L!==null)if(or(L.value,V)){if(L.children===E.children&&!kn.current){f=Bl(u,f,A);break e}}else for(L=f.child,L!==null&&(L.return=f);L!==null;){var re=L.dependencies;if(re!==null){V=L.child;for(var we=re.firstContext;we!==null;){if(we.context===M){if(L.tag===1){we=Or(-1,A&-A),we.tag=2;var We=L.updateQueue;if(We!==null){We=We.shared;var lt=We.pending;lt===null?we.next=we:(we.next=lt.next,lt.next=we),We.pending=we}}L.lanes|=A,we=L.alternate,we!==null&&(we.lanes|=A),wc(L.return,A,f),re.lanes|=A;break}we=we.next}}else if(L.tag===10)V=L.type===f.type?null:L.child;else if(L.tag===18){if(V=L.return,V===null)throw Error(o(341));V.lanes|=A,re=V.alternate,re!==null&&(re.lanes|=A),wc(V,A,f),V=L.sibling}else V=L.child;if(V!==null)V.return=L;else for(V=L;V!==null;){if(V===f){V=null;break}if(L=V.sibling,L!==null){L.return=V.return,V=L;break}V=V.return}L=V}Vr(u,f,E.children,A),f=f.child}return f;case 9:return E=f.type,M=f.pendingProps.children,Ar(f,A),E=Ti(E),M=M(E),f.flags|=1,Vr(u,f,M,A),f.child;case 14:return M=f.type,E=As(M,f.pendingProps),E=As(M.type,E),l_(u,f,M,E,A);case 15:return c_(u,f,f.type,f.pendingProps,A);case 17:return M=f.type,E=f.pendingProps,E=f.elementType===M?E:As(M,E),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Vt(M)?(u=!0,$s(f)):u=!1,Ar(f,A),z1(f,M,E),Mc(f,M,E,A),W0(null,f,M,!0,u,A);case 19:return Ga(u,f,A);case 22:return u_(u,f,A)}throw Error(o(156,f.tag))};function xb(u,f){return M0(u,f)}function Mo(u,f,A,M){this.tag=u,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(u,f,A,M){return new Mo(u,f,A,M)}function C_(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Uc(u){if(typeof u=="function")return C_(u)?1:0;if(u!=null){if(u=u.$$typeof,u===x)return 11;if(u===S)return 14}return 2}function Yo(u,f){var A=u.alternate;return A===null?(A=ws(u.tag,f,u.key,u.mode),A.elementType=u.elementType,A.type=u.type,A.stateNode=u.stateNode,A.alternate=u,u.alternate=A):(A.pendingProps=f,A.type=u.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=u.flags&14680064,A.childLanes=u.childLanes,A.lanes=u.lanes,A.child=u.child,A.memoizedProps=u.memoizedProps,A.memoizedState=u.memoizedState,A.updateQueue=u.updateQueue,f=u.dependencies,A.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},A.sibling=u.sibling,A.index=u.index,A.ref=u.ref,A}function Xa(u,f,A,M,E,L){var V=2;if(M=u,typeof u=="function")C_(u)&&(V=1);else if(typeof u=="string")V=5;else e:switch(u){case h:return Ja(A.children,E,L,f);case d:V=8,E|=8;break;case p:return u=ws(12,A,f,E|2),u.elementType=p,u.lanes=L,u;case y:return u=ws(13,A,f,E),u.elementType=y,u.lanes=L,u;case g:return u=ws(19,A,f,E),u.elementType=g,u.lanes=L,u;case b:return Md(A,E,L,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:V=10;break e;case v:V=9;break e;case x:V=11;break e;case S:V=14;break e;case w:V=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=ws(V,A,f,E),f.elementType=u,f.type=M,f.lanes=L,f}function Ja(u,f,A,M){return u=ws(7,u,M,f),u.lanes=A,u}function Md(u,f,A,M){return u=ws(22,u,M,f),u.elementType=b,u.lanes=A,u.stateNode={},u}function Wp(u,f,A){return u=ws(6,u,null,f),u.lanes=A,u}function T_(u,f,A){return f=ws(4,u.children!==null?u.children:[],u.key,f),f.lanes=A,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function _b(u,f,A,M,E){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=M,this.onRecoverableError=E,me&&(this.mutableSourceEagerHydrationData=null)}function R_(u,f,A,M,E,L,V,re,we){return u=new _b(u,f,A,re,we),f===1?(f=1,L===!0&&(f|=8)):f=0,L=ws(3,null,null,f),u.current=L,L.stateNode=u,L.memoizedState={element:M,isDehydrated:A,cache:null,transitions:null},B0(L),u}function P_(u){if(!u)return zt;u=u._reactInternals;e:{if(R(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Vt(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var A=u.type;if(Vt(A))return Nn(u,A,f)}return f}function B_(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=j(f),u===null?null:u.stateNode}function uv(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var A=u.retryLane;u.retryLane=A!==0&&A<f?A:f}}function I_(u,f){uv(u,f),(u=u.alternate)&&uv(u,f)}function sI(u){return u=j(u),u===null?null:u.stateNode}function _(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=wi();os(u,134217728,f),I_(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=wi(),A=$i(u);os(u,A,f),I_(u,A)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var A=Ac(f.pendingLanes);A!==0&&(bn(f,A|1),as(f,zi()),!(Ht&6)&&(Ll(),Na()))}break;case 13:var M=wi();av(function(){return os(u,1,M)}),I_(u,1)}},t.batchedUpdates=function(u,f){var A=Ht;Ht|=1;try{return u(f)}finally{Ht=A,Ht===0&&(Ll(),ad&&Na())}},t.createComponentSelector=function(u){return{$$typeof:Ou,value:u}},t.createContainer=function(u,f,A,M,E,L,V){return R_(u,f,!1,null,A,M,E,L,V)},t.createHasPseudoClassSelector=function(u){return{$$typeof:Uu,value:u}},t.createHydrationContainer=function(u,f,A,M,E,L,V,re,we){return u=R_(A,M,!0,u,E,L,V,re,we),u.context=P_(null),A=u.current,M=wi(),E=$i(A),L=Or(M,E),L.callback=f??null,zo(A,L),u.current.lanes=E,mp(u,E,M),as(u,M),u},t.createPortal=function(u,f,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:f,implementation:A}},t.createRoleSelector=function(u){return{$$typeof:ku,value:u}},t.createTestNameSelector=function(u){return{$$typeof:zu,value:u}},t.createTextSelector=function(u){return{$$typeof:Bc,value:u}},t.deferredUpdates=function(u){var f=Cn,A=kt.transition;try{return kt.transition=null,Cn=16,u()}finally{Cn=f,kt.transition=A}},t.discreteUpdates=function(u,f,A,M,E){var L=Cn,V=kt.transition;try{return kt.transition=null,Cn=1,u(f,A,M,E)}finally{Cn=L,kt.transition=V,Ht===0&&Ll()}},t.findAllNodes=A_,t.findBoundingRects=function(u,f){if(!k)throw Error(o(363));f=A_(u,f),u=[];for(var A=0;A<f.length;A++)u.push(se(f[A]));for(f=u.length-1;0<f;f--){A=u[f];for(var M=A.x,E=M+A.width,L=A.y,V=L+A.height,re=f-1;0<=re;re--)if(f!==re){var we=u[re],We=we.x,lt=We+we.width,yt=we.y,Mt=yt+we.height;if(M>=We&&L>=yt&&E<=lt&&V<=Mt){u.splice(f,1);break}else if(M!==We||A.width!==we.width||Mt<L||yt>V){if(!(L!==yt||A.height!==we.height||lt<M||We>E)){We>M&&(we.width+=We-M,we.x=M),lt<E&&(we.width=E-We),u.splice(f,1);break}}else{yt>L&&(we.height+=yt-L,we.y=L),Mt<V&&(we.height=V-yt),u.splice(f,1);break}}}return u},t.findHostInstance=B_,t.findHostInstanceWithNoPortals=function(u){return u=N(u),u=u!==null?X(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return B_(u)},t.flushControlled=function(u){var f=Ht;Ht|=1;var A=kt.transition,M=Cn;try{kt.transition=null,Cn=1,u()}finally{Cn=M,kt.transition=A,Ht=f,Ht===0&&(Ll(),Na())}},t.flushPassiveEffects=Oc,t.flushSync=av,t.focusWithin=function(u,f){if(!k)throw Error(o(363));for(u=Hp(u),f=rv(u,f),f=Array.from(f),u=0;u<f.length;){var A=f[u++];if(!Ae(A)){if(A.tag===5&&qe(A.stateNode))return!0;for(A=A.child;A!==null;)f.push(A),A=A.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Cn},t.getFindAllNodesFailureDescription=function(u,f){if(!k)throw Error(o(363));var A=0,M=[];u=[Hp(u),0];for(var E=0;E<u.length;){var L=u[E++],V=u[E++],re=f[V];if((L.tag!==5||!Ae(L))&&(Gp(L,re)&&(M.push(iv(re)),V++,V>A&&(A=V)),V<f.length))for(L=L.child;L!==null;)u.push(L,V),L=L.sibling}if(A<f.length){for(u=[];A<f.length;A++)u.push(iv(f[A]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Y(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:sI,findFiberByHostInstance:u.findFiberByHostInstance||_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Zs=f.inject(u),La=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,A,M){if(!k)throw Error(o(363));u=A_(u,f);var E=Ie(u,A,M).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(u,f){var A=f._getVersion;A=A(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,A]:u.mutableSourceEagerHydrationData.push(f,A)},t.runWithPriority=function(u,f){var A=Cn;try{return Cn=u,f()}finally{Cn=A}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,A,M){var E=f.current,L=wi(),V=$i(E);return A=P_(A),f.context===null?f.context=A:f.pendingContext=A,f=Or(L,V),f.payload={element:u},M=M===void 0?null:M,M!==null&&(f.callback=M),zo(E,f),u=os(E,V,L),u!==null&&yp(u,E,V),V},t};Ioe.exports=$Fe;var ZFe=Ioe.exports;const eNe=HP(ZFe);var Loe={exports:{}},Doe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,z){var H=D.length;D.push(z);e:for(;0<H;){var ee=H-1>>>1,pe=D[ee];if(0<r(pe,z))D[ee]=z,D[H]=pe,H=ee;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var ee=0,pe=D.length,ke=pe>>>1;ee<ke;){var ne=2*(ee+1)-1,ve=D[ne],be=ne+1,xe=D[be];if(0>r(ve,H))be<pe&&0>r(xe,ve)?(D[ee]=xe,D[be]=H,ee=be):(D[ee]=ve,D[ne]=H,ee=ne);else if(be<pe&&0>r(xe,H))D[ee]=xe,D[be]=H,ee=be;else break e}}return z}function r(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=D)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function b(D){if(x=!1,w(D),!v)if(t(l)!==null)v=!0,Y(P);else{var z=t(c);z!==null&&ie(b,z.startTime-D)}}function P(D,z){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var H=p;try{for(w(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,p=d.priorityLevel;var pe=ee(d.expirationTime<=z);z=n.unstable_now(),typeof pe=="function"?d.callback=pe:d===t(l)&&i(l),w(z)}else i(l);d=t(l)}if(d!==null)var ke=!0;else{var ne=t(c);ne!==null&&ie(b,ne.startTime-z),ke=!1}return ke}finally{d=null,p=H,m=!1}}var T=!1,B=null,I=-1,R=5,C=-1;function N(){return!(n.unstable_now()-C<R)}function j(){if(B!==null){var D=n.unstable_now();C=D;var z=!0;try{z=B(!0,D)}finally{z?W():(T=!1,B=null)}}else T=!1}var W;if(typeof S=="function")W=function(){S(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){y(j,0)};function Y(D){B=D,T||(T=!0,W())}function ie(D,z){I=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Y(P))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var H=p;p=z;try{return D()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=p;p=D;try{return z()}finally{p=H}},n.unstable_scheduleCallback=function(D,z,H){var ee=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:h++,callback:z,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ee?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(x?(g(I),I=-1):x=!0,ie(b,H-ee))):(D.sortIndex=pe,e(l,D),v||m||(v=!0,Y(P))),D},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(D){var z=p;return function(){var H=p;p=z;try{return D.apply(this,arguments)}finally{p=H}}}})(Doe);Loe.exports=Doe;var TX=Loe.exports;const tNe=n=>typeof n=="object"&&typeof n.then=="function",ag=[];function Foe(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Noe(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ag)if(Foe(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ag.indexOf(r);s!==-1&&ag.splice(s,1)},promise:(tNe(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ag.push(r),!t)throw r.promise}const nNe=(n,e,t)=>Noe(n,e,!1,t),iNe=(n,e,t)=>void Noe(n,e,!0,t),rNe=n=>{if(n===void 0||n.length===0)ag.splice(0,ag.length);else{const e=ag.find(t=>Foe(n,t.keys,t.equal));e&&e.remove()}},FG={},sNe=n=>void Object.assign(FG,n);function oNe(n,e){function t(h,{args:d=[],attach:p,...m},v){let x=`${h[0].toUpperCase()}${h.slice(1)}`,y;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=cy(g,{type:h,root:v,attach:p,primitive:!0})}else{const g=FG[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=cy(new g(...d),{type:h,root:v,attach:p,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof ln?y.__r3f.attach="geometry":y instanceof yr&&(y.__r3f.attach="material")),x!=="inject"&&p3(y,m),y}function i(h,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?f3(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||cy(d,{}),d.__r3f.parent=h,FU(d),uy(d)}}function r(h,d,p){let m=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)f3(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:d});const y=h.children.filter(S=>S!==d),g=y.indexOf(p);h.children=[...y.slice(0,g),d,...y.slice(g)],m=!0}m||(x=h.__r3f)==null||x.objects.push(d),d.__r3f||cy(d,{}),d.__r3f.parent=h,FU(d),uy(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,v,x;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(b=>b!==d)),(v=d.__r3f)!=null&&v.attach)LX(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var y;h.remove(d),(y=d.__r3f)!=null&&y.root&&mNe(KT(d),d)}const S=(x=d.__r3f)==null?void 0:x.primitive,w=!S&&(p===void 0?d.dispose!==null:p);if(!S){var g;s((g=d.__r3f)==null?void 0:g.objects,d,w),s(d.children,d,w)}if(delete d.__r3f,w&&d.dispose&&d.type!=="Scene"){const b=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?TX.unstable_scheduleCallback(TX.unstable_IdlePriority,b):b()}uy(h)}}function a(h,d,p,m){var v;const x=(v=h.__r3f)==null?void 0:v.parent;if(!x)return;const y=t(d,p,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&i(y,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>i(y,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(x,h),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),i(x,y),y.raycast&&y.__r3f.eventCount&&KT(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:eNe({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){var v;if(((v=h==null?void 0:h.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:y=[],children:g,...S}=m,{args:w=[],children:b,...P}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((B,I)=>B!==w[I]))return[!0];const T=Voe(h,S,P,!0);return T.changes.length?[!1,T]:null}},commitUpdate(h,[d,p],m,v,x,y){d?a(h,m,x,y):p3(h,p)},commitMount(h,d,p,m){var v;const x=(v=h.__r3f)!=null?v:{};h.raycast&&x.handlers&&x.eventCount&&KT(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>cy(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&LX(m,h,p),h.isObject3D&&(h.visible=!1),uy(h)},unhideInstance(h,d){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&f3(v,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),uy(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ky.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&yi.fun(performance.now)?performance.now:yi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:yi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:yi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:p3}}var RX,PX;const d3=n=>"colorSpace"in n||"outputColorSpace"in n,Ooe=()=>{var n;return(n=FG.ColorManagement)!=null?n:null},Uoe=n=>n&&n.isOrthographicCamera,aNe=n=>n&&n.hasOwnProperty("current"),KM=typeof window<"u"&&((RX=window.document)!=null&&RX.createElement||((PX=window.navigator)==null?void 0:PX.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function koe(n){const e=he.useRef(n);return KM(()=>void(e.current=n),[n]),e}function lNe({set:n}){return KM(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class zoe extends he.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}zoe.getDerivedStateFromError=()=>({error:!0});const Hoe="__default",BX=new Map,cNe=n=>n&&!!n.memoized&&!!n.changes;function Goe(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const CA=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function KT(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yi={obj:n=>n===Object(n)&&!yi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yi.str(n)||yi.num(n))return n===e;const s=yi.obj(n);if(s&&i==="reference")return n===e;const o=yi.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!yi.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(yi.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function uNe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function hNe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function cy(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function DU(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const IX=/-\d+$/;function f3(n,e,t){if(yi.str(t)){if(IX.test(t)){const s=t.replace(IX,""),{target:o,key:a}=DU(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=DU(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function LX(n,e,t){var i,r;if(yi.str(t)){const{target:s,key:o}=DU(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function Voe(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const h=n.__r3f,d=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||d.unshift([v[x],Hoe+"remove"])}d.forEach(([v,x])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||yi.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,x,!1,g]);for(const S in r){const w=r[S];S.startsWith(`${v}-`)&&p.push([S,w,!1,S.split("-")])}});const m={...r};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}const dNe=typeof process<"u"&&!1;function p3(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=cNe(e)?e:Voe(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[d,p,m,v]=a[h];if(d3(n)){const S="srgb",w="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?S:w):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?S:w)}let x=n,y=x[d];if(v.length&&(y=v.reduce((g,S)=>g[S],n),!(y&&y.set))){const[g,...S]=v.reverse();x=S.reverse().reduce((w,b)=>w[b],n),d=g}if(p===Hoe+"remove")if(x.constructor){let g=BX.get(x.constructor);g||(g=new x.constructor,BX.set(x.constructor,g)),p=g[d]}else p=0;if(m&&i)p?i.handlers[d]=p:delete i.handlers[d],i.eventCount=Object.keys(i.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Eg)){if(Array.isArray(p))y.fromArray?y.fromArray(p):y.set(...p);else if(y.copy&&p&&p.constructor&&(dNe?y.constructor.name===p.constructor.name:y.constructor===p.constructor))y.copy(p);else if(p!==void 0){const g=y instanceof Ct;!g&&y.setScalar?y.setScalar(p):y instanceof Eg&&p instanceof Eg?y.mask=p.mask:y.set(p),!Ooe()&&s&&!s.linear&&g&&y.convertSRGBToLinear()}}else if(x[d]=p,x[d]instanceof si&&x[d].format===uo&&x[d].type===pu&&s){const g=x[d];d3(g)&&d3(s.gl)?g.colorSpace=s.gl.outputColorSpace:g.encoding=s.gl.outputEncoding}uy(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const h=KT(n).getState().internal,d=h.interaction.indexOf(n);d>-1&&h.interaction.splice(d,1),i.eventCount&&h.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&FU(n),n}function uy(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function FU(n){n.onUpdate==null||n.onUpdate(n)}function fNe(n,e){n.manual||(Uoe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function YC(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function pNe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ky.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ky.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ky.ContinuousEventPriority;default:return Ky.DefaultEventPriority}}function joe(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function mNe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{joe(t.capturedMap,e,i,r)})}function gNe(n){function e(l){const{internal:c}=n.getState(),h=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,c){const h=n.getState(),d=new Set,p=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const S=CA(m[g]);S&&(S.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const S=CA(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,S)=>{const w=CA(g.object),b=CA(S.object);return!w||!b?g.distance-S.distance:b.events.priority-w.events.priority||g.distance-S.distance}).filter(g=>{const S=YC(g);return d.has(S)?!1:(d.add(S),!0)});h.events.filter&&(x=h.events.filter(x,h));for(const g of x){let S=g.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(YC(g.intersection))||p.push(g.intersection);return p}function r(l,c,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=CA(v.object)||p,{raycaster:y,pointer:g,camera:S,internal:w}=x,b=new le(g.x,g.y,0).unproject(S),P=C=>{var N,j;return(N=(j=w.capturedMap.get(C))==null?void 0:j.has(v.eventObject))!=null?N:!1},T=C=>{const N={intersection:v,target:c.target};w.capturedMap.has(C)?w.capturedMap.get(C).set(v.eventObject,N):w.capturedMap.set(C,new Map([[v.eventObject,N]])),c.target.setPointerCapture(C)},B=C=>{const N=w.capturedMap.get(C);N&&joe(w.capturedMap,v.eventObject,N,C)};let I={};for(let C in c){let N=c[C];typeof N!="function"&&(I[C]=N)}let R={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:b,ray:y.ray,camera:S,stopPropagation(){const C="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!C||C.has(v.eventObject))&&(R.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(N=>N.eventObject===v.eventObject))){const N=l.slice(0,l.indexOf(v));s([...N,v])}},target:{hasPointerCapture:P,setPointerCapture:T,releasePointerCapture:B},currentTarget:{hasPointerCapture:P,setPointerCapture:T,releasePointerCapture:B},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(YC(h)),p!=null&&p.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let h=0;h<c.length;h++){const d=c[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=i(h,m?t:void 0),g=v?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=y.map(w=>w.eventObject)),v&&!y.length&&g<=2&&(o(h,p.interaction),d&&d(h)),m&&s(y);function S(w){const b=w.eventObject,P=b.__r3f,T=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const B=YC(w),I=p.hovered.get(B);I?I.stopped&&w.stopPropagation():(p.hovered.set(B,w),T.onPointerOver==null||T.onPointerOver(w),T.onPointerEnter==null||T.onPointerEnter(w))}T.onPointerMove==null||T.onPointerMove(w)}else{const B=T[l];B?(!v||p.initialHits.includes(b))&&(o(h,p.interaction.filter(I=>!p.initialHits.includes(I))),B(w)):v&&p.initialHits.includes(b)&&o(h,p.interaction.filter(I=>!p.initialHits.includes(I)))}}r(y,h,g,S)}}return{handlePointer:a}}const Woe=n=>!!(n!=null&&n.render),Xoe=he.createContext(null),vNe=(n,e)=>{const t=Boe((a,l)=>{const c=new le,h=new le,d=new le;function p(g=l().camera,S=h,w=l().size){const{width:b,height:P,top:T,left:B}=w,I=b/P;S instanceof le?d.copy(S):d.set(...S);const R=g.getWorldPosition(c).distanceTo(d);if(Uoe(g))return{width:b/g.zoom,height:P/g.zoom,top:T,left:B,factor:1,distance:R,aspect:I};{const C=g.fov*Math.PI/180,N=2*Math.tan(C/2)*R,j=N*(b/P);return{width:j,height:N,top:T,left:B,factor:b/j,distance:R,aspect:I}}}let m;const v=g=>a(S=>({performance:{...S.performance,current:g}})),x=new nt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,S)=>e(g,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new BG,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(S=>({...S,events:{...S.events,...g}})),setSize:(g,S,w,b,P)=>{const T=l().camera,B={width:g,height:S,top:b||0,left:P||0,updateStyle:w};a(I=>({size:B,viewport:{...I.viewport,...p(T,h,B)}}))},setDpr:g=>a(S=>{const w=Goe(g);return{viewport:{...S.viewport,dpr:w,initialDpr:S.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,g!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:he.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,S,w)=>{const b=l().internal;return b.priority=b.priority+(S>0?1:0),b.subscribers.push({ref:g,priority:S,store:w}),b.subscribers=b.subscribers.sort((P,T)=>P.priority-T.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(S>0?1:0),P.subscribers=P.subscribers.filter(T=>T.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:h,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,fNe(a,l),h.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let QC,yNe=new Set,xNe=new Set,_Ne=new Set;function m3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function TA(n,e){switch(n){case"before":return m3(yNe,e);case"after":return m3(xNe,e);case"tail":return m3(_Ne,e)}}let g3,v3;function y3(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),g3=e.internal.subscribers,QC=0;QC<g3.length;QC++)v3=g3[QC],v3.ref.current(v3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function ANe(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,TA("before",c),t=!0;for(const d of n.values()){var h;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(i+=y3(c,s))}if(t=!1,TA("after",c),i===0)return TA("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,h=1){var d;if(!c)return n.forEach(p=>a(p.store.getState(),h));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(h>1?c.internal.frames=Math.min(60,c.internal.frames+h):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,h=!0,d,p){if(h&&TA("before",c),d)y3(c,d,p);else for(const m of n.values())y3(c,m.store.getState());h&&TA("after",c)}return{loop:o,invalidate:a,advance:l}}function Joe(){const n=he.useContext(Xoe);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ia(n=t=>t,e){return Joe()(n,e)}function R1(n,e=0){const t=Joe(),i=t.getState().internal.subscribe,r=koe(n);return KM(()=>i(r,e,t),[e,i,t]),null}const DX=new WeakMap;function Koe(n,e){return function(t,...i){let r=DX.get(t);return r||(r=new t,DX.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,uNe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function dp(n,e,t,i){const r=Array.isArray(e)?e:[e],s=nNe(Koe(t,i),[n,...r],{equal:yi.equ});return Array.isArray(e)?s:s[0]}dp.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return iNe(Koe(t),[n,...i])};dp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return rNe([n,...t])};const Zx=new Map,{invalidate:FX,advance:NX}=ANe(Zx),{reconciler:w2,applyProps:Wc}=oNe(Zx,pNe),sy={objects:"shallow",strict:!1},SNe=(n,e)=>{const t=typeof n=="function"?n(e):n;return Woe(t)?t:new Vse({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function wNe(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function MNe(n){const e=Zx.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||vNe(FX,NX),o=t||w2.createContainer(s,Ky.ConcurrentRoot,null,!1,null,"",r,null);e||Zx.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(h={}){let{gl:d,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:S=!1,legacy:w=!1,orthographic:b=!1,frameloop:P="always",dpr:T=[1,2],performance:B,raycaster:I,camera:R,onPointerMissed:C}=h,N=s.getState(),j=N.gl;N.gl||N.set({gl:j=SNe(d,n)});let W=N.raycaster;W||N.set({raycaster:W=new Toe});const{params:X,...Q}=I||{};if(yi.equ(Q,W,sy)||Wc(W,{...Q}),yi.equ(X,W.params,sy)||Wc(W,{params:{...W.params,...X}}),!N.camera||N.camera===c&&!yi.equ(c,R,sy)){c=R;const H=R instanceof OM,ee=H?R:b?new vl(0,0,0,0,.1,1e3):new _i(75,0,.1,1e3);H||(ee.position.z=5,R&&(Wc(ee,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(ee.manual=!0,ee.updateProjectionMatrix())),!N.camera&&!(R!=null&&R.rotation)&&ee.lookAt(0,0,0)),N.set({camera:ee}),W.camera=ee}if(!N.scene){let H;m instanceof x2?H=m:(H=new x2,m&&Wc(H,m)),N.set({scene:cy(H)})}if(!N.xr){var Y;const H=(ke,ne)=>{const ve=s.getState();ve.frameloop!=="never"&&NX(ke,!0,ve,ne)},ee=()=>{const ke=s.getState();ke.gl.xr.enabled=ke.gl.xr.isPresenting,ke.gl.xr.setAnimationLoop(ke.gl.xr.isPresenting?H:null),ke.gl.xr.isPresenting||FX(ke)},pe={connect(){const ke=s.getState().gl;ke.xr.addEventListener("sessionstart",ee),ke.xr.addEventListener("sessionend",ee)},disconnect(){const ke=s.getState().gl;ke.xr.removeEventListener("sessionstart",ee),ke.xr.removeEventListener("sessionend",ee)}};typeof((Y=j.xr)==null?void 0:Y.addEventListener)=="function"&&pe.connect(),N.set({xr:pe})}if(j.shadowMap){const H=j.shadowMap.enabled,ee=j.shadowMap.type;if(j.shadowMap.enabled=!!y,yi.boo(y))j.shadowMap.type=AS;else if(yi.str(y)){var ie;const pe={basic:Mre,percentage:aB,soft:AS,variance:Jl};j.shadowMap.type=(ie=pe[y])!=null?ie:AS}else yi.obj(y)&&Object.assign(j.shadowMap,y);(H!==j.shadowMap.enabled||ee!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const D=Ooe();D&&("enabled"in D?D.enabled=!w:"legacyMode"in D&&(D.legacyMode=w)),l||Wc(j,{outputEncoding:g?3e3:3001,toneMapping:S?su:GH}),N.legacy!==w&&N.set(()=>({legacy:w})),N.linear!==g&&N.set(()=>({linear:g})),N.flat!==S&&N.set(()=>({flat:S})),d&&!yi.fun(d)&&!Woe(d)&&!yi.equ(d,j,sy)&&Wc(j,d),v&&!N.events.handlers&&N.set({events:v(s)});const z=wNe(n,p);return yi.equ(z,N.size,sy)||N.setSize(z.width,z.height,z.updateStyle,z.top,z.left),T&&N.viewport.dpr!==Goe(T)&&N.setDpr(T),N.frameloop!==P&&N.setFrameloop(P),N.onPointerMissed||N.set({onPointerMissed:C}),B&&!yi.equ(B,N.performance,sy)&&N.set(H=>({performance:{...H.performance,...B}})),a=x,l=!0,this},render(h){return l||this.configure(),w2.updateContainer(Be.jsx(bNe,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Yoe(n)}}}function bNe({store:n,children:e,onCreated:t,rootElement:i}){return KM(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Be.jsx(Xoe.Provider,{value:n,children:e})}function Yoe(n,e){const t=Zx.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),w2.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),hNe(r),Zx.delete(n)}catch{}},500)})}}w2.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:he.version});function NU(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}NU.debounce=NU;var ENe=NU;const OX=HP(ENe);function CNe(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=he.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=he.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=he.useRef(!1);he.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=he.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:w,top:b,width:P,height:T,bottom:B,right:I,x:R,y:C}=l.current.element.getBoundingClientRect(),N={left:w,top:b,width:P,height:T,bottom:B,right:I,x:R,y:C};l.current.element instanceof HTMLElement&&r&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),d.current&&!BNe(l.current.lastBounds,N)&&a(l.current.lastBounds=N)};return[S,h?OX(S,h):S,c?OX(S,c):S]},[a,r,c,h]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=Qoe(S),y())};return RNe(v,!!t),TNe(m),he.useEffect(()=>{x(),y()},[t,v,m]),he.useEffect(()=>x,[]),[g,o,p]}function TNe(n){he.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function RNe(n,e){he.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Qoe(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Qoe(n.parentElement)]}const PNe=["x","y","top","bottom","left","right","width","height"],BNe=(n,e)=>PNe.every(t=>n[t]===e[t]);var INe=Object.defineProperty,LNe=Object.defineProperties,DNe=Object.getOwnPropertyDescriptors,UX=Object.getOwnPropertySymbols,FNe=Object.prototype.hasOwnProperty,NNe=Object.prototype.propertyIsEnumerable,kX=(n,e,t)=>e in n?INe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zX=(n,e)=>{for(var t in e||(e={}))FNe.call(e,t)&&kX(n,t,e[t]);if(UX)for(var t of UX(e))NNe.call(e,t)&&kX(n,t,e[t]);return n},ONe=(n,e)=>LNe(n,DNe(e)),HX,GX;typeof window<"u"&&((HX=window.document)!=null&&HX.createElement||((GX=window.navigator)==null?void 0:GX.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function qoe(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=qoe(i,e,t);if(r)return r;i=i.sibling}}function $oe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const VX=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=VX;return}return VX.apply(this,arguments)};const NG=$oe(he.createContext(null));class Zoe extends he.Component{render(){return he.createElement(NG.Provider,{value:this._reactInternals},this.props.children)}}function UNe(){const n=he.useContext(NG);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=he.useId();return he.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=qoe(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function kNe(){const n=UNe(),[e]=he.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==NG&&!e.has(r)&&e.set(r,he.useContext($oe(r)))}t=t.return}return e}function zNe(){const n=kNe();return he.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>he.createElement(e,null,he.createElement(t.Provider,ONe(zX({},i),{value:n.get(t)}))),e=>he.createElement(Zoe,zX({},e))),[n])}const x3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function HNe(n){const{handlePointer:e}=gNe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(x3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=x3[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=x3[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const GNe=he.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=HNe,eventSource:a,eventPrefix:l,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:S,scene:w,onPointerMissed:b,onCreated:P,...T},B){he.useMemo(()=>sNe(JFe),[]);const I=zNe(),[R,C]=CNe({scroll:!0,debounce:{scroll:50,resize:0},...i}),N=he.useRef(null),j=he.useRef(null);he.useImperativeHandle(B,()=>N.current);const W=koe(b),[X,Q]=he.useState(!1),[Y,ie]=he.useState(!1);if(X)throw X;if(Y)throw Y;const D=he.useRef(null);KM(()=>{const H=N.current;C.width>0&&C.height>0&&H&&(D.current||(D.current=MNe(H)),D.current.configure({gl:s,events:o,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:S,scene:w,size:C,onPointerMissed:(...ee)=>W.current==null?void 0:W.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(a?aNe(a)?a.current:a:j.current),l&&ee.setEvents({compute:(pe,ke)=>{const ne=pe[l+"X"],ve=pe[l+"Y"];ke.pointer.set(ne/ke.size.width*2-1,-(ve/ke.size.height)*2+1),ke.raycaster.setFromCamera(ke.pointer,ke.camera)}}),P==null||P(ee)}}),D.current.render(Be.jsx(I,{children:Be.jsx(zoe,{set:ie,children:Be.jsx(he.Suspense,{fallback:Be.jsx(lNe,{set:Q}),children:e})})})))}),he.useEffect(()=>{const H=N.current;if(H)return()=>Yoe(H)},[]);const z=a?"none":"auto";return Be.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...r},...T,children:Be.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:Be.jsx("canvas",{ref:N,style:{display:"block"},children:t})})})}),LB=he.forwardRef(function(e,t){return Be.jsx(Zoe,{children:Be.jsx(GNe,{...e,ref:t})})});function mu(){return mu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mu.apply(null,arguments)}const YM=new le,OG=new le,VNe=new le,jX=new nt;function jNe(n,e,t){const i=YM.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function WNe(n,e){const t=YM.setFromMatrixPosition(n.matrixWorld),i=OG.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(VNe);return r.angleTo(s)>Math.PI/2}function XNe(n,e,t,i){const r=YM.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),jX.set(s.x,s.y),t.setFromCamera(jX,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function JNe(n,e){if(e instanceof vl)return e.zoom;if(e instanceof _i){const t=YM.setFromMatrixPosition(n.matrixWorld),i=OG.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function KNe(n,e,t){if(e instanceof _i||e instanceof vl){const i=YM.setFromMatrixPosition(n.matrixWorld),r=OG.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const OU=n=>Math.abs(n)<1e-10?0:n;function eae(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=OU(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const YNe=(n=>e=>eae(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),QNe=(n=>(e,t)=>eae(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function qNe(n){return n&&typeof n=="object"&&"current"in n}const $Ne=he.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:x,geometry:y,zIndexRange:g=[16777271,0],calculatePosition:S=jNe,as:w="div",wrapperClass:b,pointerEvents:P="auto",...T},B)=>{const{gl:I,camera:R,scene:C,size:N,raycaster:j,events:W,viewport:X}=ia(),[Q]=he.useState(()=>document.createElement(w)),Y=he.useRef(),ie=he.useRef(null),D=he.useRef(0),z=he.useRef([0,0]),H=he.useRef(null),ee=he.useRef(null),pe=(a==null?void 0:a.current)||W.connected||I.domElement.parentNode,ke=he.useRef(null),ne=he.useRef(!1),ve=he.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&qNe(d[0]),[d]);he.useLayoutEffect(()=>{const Ge=I.domElement;d&&d==="blending"?(Ge.style.zIndex=`${Math.floor(g[0]/2)}`,Ge.style.position="absolute",Ge.style.pointerEvents="none"):(Ge.style.zIndex=null,Ge.style.position=null,Ge.style.pointerEvents=null)},[d]),he.useLayoutEffect(()=>{if(ie.current){const Ge=Y.current=hre(Q);if(C.updateMatrixWorld(),h)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const U=S(ie.current,R,N);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${U[0]}px,${U[1]}px,0);transform-origin:0 0;`}return pe&&(r?pe.prepend(Q):pe.appendChild(Q)),()=>{pe&&pe.removeChild(Q),Ge.unmount()}}},[pe,h]),he.useLayoutEffect(()=>{b&&(Q.className=b)},[b]);const be=he.useMemo(()=>h?{position:"absolute",top:0,left:0,width:N.width,height:N.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-N.height/2,left:-N.width/2,width:N.width,height:N.height},...t},[t,s,o,N,h]),xe=he.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);he.useLayoutEffect(()=>{if(ne.current=!1,h){var Ge;(Ge=Y.current)==null||Ge.render(he.createElement("div",{ref:H,style:be},he.createElement("div",{ref:ee,style:xe},he.createElement("div",{ref:B,className:i,style:t,children:n}))))}else{var U;(U=Y.current)==null||U.render(he.createElement("div",{ref:B,style:be,className:i,children:n}))}});const st=he.useRef(!0);R1(Ge=>{if(ie.current){R.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const U=h?z.current:S(ie.current,R,N);if(h||Math.abs(D.current-R.zoom)>e||Math.abs(z.current[0]-U[0])>e||Math.abs(z.current[1]-U[1])>e){const fe=WNe(ie.current,R);let me=!1;ve&&(Array.isArray(d)?me=d.map(Oe=>Oe.current):d!=="blending"&&(me=[C]));const Ce=st.current;if(me){const Oe=XNe(ie.current,R,j,me);st.current=Oe&&!fe}else st.current=!fe;Ce!==st.current&&(p?p(!st.current):Q.style.display=st.current?"block":"none");const _e=Math.floor(g[0]/2),Ne=d?ve?[g[0],_e]:[_e-1,0]:g;if(Q.style.zIndex=`${KNe(ie.current,R,Ne)}`,h){const[Oe,Re]=[N.width/2,N.height/2],at=R.projectionMatrix.elements[5]*Re,{isOrthographicCamera:k,top:F,left:se,bottom:ge,right:Ae}=R,Se=YNe(R.matrixWorldInverse),qe=k?`scale(${at})translate(${OU(-(Ae+se)/2)}px,${OU((F+ge)/2)}px)`:`translateZ(${at}px)`;let Ie=ie.current.matrixWorld;c&&(Ie=R.matrixWorldInverse.clone().transpose().copyPosition(Ie).scale(ie.current.scale),Ie.elements[3]=Ie.elements[7]=Ie.elements[11]=0,Ie.elements[15]=1),Q.style.width=N.width+"px",Q.style.height=N.height+"px",Q.style.perspective=k?"":`${at}px`,H.current&&ee.current&&(H.current.style.transform=`${qe}${Se}translate(${Oe}px,${Re}px)`,ee.current.style.transform=QNe(Ie,1/((l||10)/400)))}else{const Oe=l===void 0?1:JNe(ie.current,R)*l;Q.style.transform=`translate3d(${U[0]}px,${U[1]}px,0) scale(${Oe})`}z.current=U,D.current=R.zoom}}if(!ve&&ke.current&&!ne.current)if(h){if(H.current){const U=H.current.children[0];if(U!=null&&U.clientWidth&&U!=null&&U.clientHeight){const{isOrthographicCamera:fe}=R;if(fe||y)T.scale&&(Array.isArray(T.scale)?T.scale instanceof le?ke.current.scale.copy(T.scale.clone().divideScalar(1)):ke.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):ke.current.scale.setScalar(1/T.scale));else{const me=(l||10)/400,Ce=U.clientWidth*me,_e=U.clientHeight*me;ke.current.scale.set(Ce,_e,1)}ne.current=!0}}}else{const U=Q.children[0];if(U!=null&&U.clientWidth&&U!=null&&U.clientHeight){const fe=1/X.factor,me=U.clientWidth*fe,Ce=U.clientHeight*fe;ke.current.scale.set(me,Ce,1),ne.current=!0}ke.current.lookAt(Ge.camera.position)}});const Ke=he.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return he.createElement("group",mu({},T,{ref:ie}),d&&!ve&&he.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ke},y||he.createElement("planeGeometry",null),x||he.createElement("shaderMaterial",{side:hl,vertexShader:Ke.vertexShader,fragmentShader:Ke.fragmentShader})))});let RA=0;const ZNe=Boe(n=>(Jy.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-RA)/(i-RA)*100})},Jy.onLoad=()=>{n({active:!1})},Jy.onError=e=>n(t=>({errors:[...t.errors,e]})),Jy.onProgress=(e,t,i)=>{t===i&&(RA=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-RA)/(i-RA)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function yx(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function XX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WX(Object(t),!0).forEach(function(i){yx(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WX(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new nt;new nt;function tae(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var $a=function n(e,t,i){var r=this;tae(this,n),yx(this,"dot2",function(s,o){return r.x*s+r.y*o}),yx(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},eOe=[new $a(1,1,0),new $a(-1,1,0),new $a(1,-1,0),new $a(-1,-1,0),new $a(1,0,1),new $a(-1,0,1),new $a(1,0,-1),new $a(-1,0,-1),new $a(0,1,1),new $a(0,-1,1),new $a(0,1,-1),new $a(0,-1,-1)],JX=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],KX=new Array(512),YX=new Array(512),tOe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=JX[t]^e&255:i=JX[t]^e>>8&255,KX[t]=KX[t+256]=i,YX[t]=YX[t+256]=eOe[i%12]}};tOe(0);function nOe(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function QX(n){var e=nOe(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var iOe=function n(e){var t=this;tae(this,n),yx(this,"seed",0),yx(this,"init",function(i){t.seed=i,t.value=QX(i)}),yx(this,"value",QX(this.seed)),this.init(e)},rOe=new iOe(Math.random()),sOe={radius:1,center:[0,0,0]};function oOe(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rOe,i=XX(XX({},sOe),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,h=t.value()*2-1,d=Math.sqrt(l*l+c*c+h*h);l=a*l/d,c=a*c/d,h=a*h/d,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=h*r+s[2]}return n}function qX(n,e){if(e===vse)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===y2||e===qH){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===y2)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const aOe=parseInt(w1.replace(/\D+/g,""));var lOe=Object.defineProperty,cOe=(n,e,t)=>e in n?lOe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sn=(n,e,t)=>(cOe(n,typeof e!="symbol"?e+"":e,t),t);const qC=new m0,$X=new dh,uOe=Math.cos(70*(Math.PI/180)),ZX=(n,e)=>(n%e+e)%e;let hOe=class extends xu{constructor(e,t){super(),sn(this,"object"),sn(this,"domElement"),sn(this,"enabled",!0),sn(this,"target",new le),sn(this,"minDistance",0),sn(this,"maxDistance",1/0),sn(this,"minZoom",0),sn(this,"maxZoom",1/0),sn(this,"minPolarAngle",0),sn(this,"maxPolarAngle",Math.PI),sn(this,"minAzimuthAngle",-1/0),sn(this,"maxAzimuthAngle",1/0),sn(this,"enableDamping",!1),sn(this,"dampingFactor",.05),sn(this,"enableZoom",!0),sn(this,"zoomSpeed",1),sn(this,"enableRotate",!0),sn(this,"rotateSpeed",1),sn(this,"enablePan",!0),sn(this,"panSpeed",1),sn(this,"screenSpacePanning",!0),sn(this,"keyPanSpeed",7),sn(this,"zoomToCursor",!1),sn(this,"autoRotate",!1),sn(this,"autoRotateSpeed",2),sn(this,"reverseOrbit",!1),sn(this,"reverseHorizontalOrbit",!1),sn(this,"reverseVerticalOrbit",!1),sn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),sn(this,"mouseButtons",{LEFT:Im.ROTATE,MIDDLE:Im.DOLLY,RIGHT:Im.PAN}),sn(this,"touches",{ONE:Lm.ROTATE,TWO:Lm.DOLLY_PAN}),sn(this,"target0"),sn(this,"position0"),sn(this,"zoom0"),sn(this,"_domElementKeyEvents",null),sn(this,"getPolarAngle"),sn(this,"getAzimuthalAngle"),sn(this,"setPolarAngle"),sn(this,"setAzimuthalAngle"),sn(this,"getDistance"),sn(this,"listenToKeyEvents"),sn(this,"stopListenToKeyEvents"),sn(this,"saveState"),sn(this,"reset"),sn(this,"update"),sn(this,"connect"),sn(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=$=>{let Me=ZX($,2*Math.PI),Qe=h.phi;Qe<0&&(Qe+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let G=Math.abs(Me-Qe);2*Math.PI-G<G&&(Me<Qe?Me+=2*Math.PI:Qe+=2*Math.PI),d.phi=Me-Qe,i.update()},this.setAzimuthalAngle=$=>{let Me=ZX($,2*Math.PI),Qe=h.theta;Qe<0&&(Qe+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let G=Math.abs(Me-Qe);2*Math.PI-G<G&&(Me<Qe?Me+=2*Math.PI:Qe+=2*Math.PI),d.theta=Me-Qe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=$=>{$.addEventListener("keydown",Ie),this._domElementKeyEvents=$},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ie),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const $=new le,Me=new le(0,1,0),Qe=new $r().setFromUnitVectors(e.up,Me),G=Qe.clone().invert(),De=new le,de=new $r,ye=2*Math.PI;return function(){const Xe=i.object.position;Qe.setFromUnitVectors(e.up,Me),G.copy(Qe).invert(),$.copy(Xe).sub(i.target),$.applyQuaternion(Qe),h.setFromVector3($),i.autoRotate&&l===a.NONE&&X(j()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let dt=i.minAzimuthAngle,Ve=i.maxAzimuthAngle;isFinite(dt)&&isFinite(Ve)&&(dt<-Math.PI?dt+=ye:dt>Math.PI&&(dt-=ye),Ve<-Math.PI?Ve+=ye:Ve>Math.PI&&(Ve-=ye),dt<=Ve?h.theta=Math.max(dt,Math.min(Ve,h.theta)):h.theta=h.theta>(dt+Ve)/2?Math.max(dt,h.theta):Math.min(Ve,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?h.radius=pe(h.radius):h.radius=pe(h.radius*p),$.setFromSpherical(h),$.applyQuaternion(G),Xe.copy(i.target).add($),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let rt=!1;if(i.zoomToCursor&&R){let pt=null;if(i.object instanceof _i&&i.object.isPerspectiveCamera){const $t=$.length();pt=pe($t*p);const Ue=$t-pt;i.object.position.addScaledVector(B,Ue),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const $t=new le(I.x,I.y,0);$t.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),rt=!0;const Ue=new le(I.x,I.y,0);Ue.unproject(i.object),i.object.position.sub(Ue).add($t),i.object.updateMatrixWorld(),pt=$.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;pt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(pt).add(i.object.position):(qC.origin.copy(i.object.position),qC.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(qC.direction))<uOe?e.lookAt(i.target):($X.setFromNormalAndCoplanarPoint(i.object.up,i.target),qC.intersectPlane($X,i.target))))}else i.object instanceof vl&&i.object.isOrthographicCamera&&(rt=p!==1,rt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,rt||De.distanceToSquared(i.object.position)>c||8*(1-de.dot(i.object.quaternion))>c?(i.dispatchEvent(r),De.copy(i.object.position),de.copy(i.object.quaternion),rt=!1,!0):!1}})(),this.connect=$=>{$===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=$,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Te),i.domElement.addEventListener("pointerdown",F),i.domElement.addEventListener("pointercancel",ge),i.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var $,Me,Qe,G,De,de;i.domElement&&(i.domElement.style.touchAction="auto"),($=i.domElement)==null||$.removeEventListener("contextmenu",Te),(Me=i.domElement)==null||Me.removeEventListener("pointerdown",F),(Qe=i.domElement)==null||Qe.removeEventListener("pointercancel",ge),(G=i.domElement)==null||G.removeEventListener("wheel",qe),(De=i.domElement)==null||De.ownerDocument.removeEventListener("pointermove",se),(de=i.domElement)==null||de.ownerDocument.removeEventListener("pointerup",ge),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ie)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,h=new LU,d=new LU;let p=1;const m=new le,v=new nt,x=new nt,y=new nt,g=new nt,S=new nt,w=new nt,b=new nt,P=new nt,T=new nt,B=new le,I=new nt;let R=!1;const C=[],N={};function j(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function X($){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=$:d.theta-=$}function Q($){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=$:d.phi-=$}const Y=(()=>{const $=new le;return function(Qe,G){$.setFromMatrixColumn(G,0),$.multiplyScalar(-Qe),m.add($)}})(),ie=(()=>{const $=new le;return function(Qe,G){i.screenSpacePanning===!0?$.setFromMatrixColumn(G,1):($.setFromMatrixColumn(G,0),$.crossVectors(i.object.up,$)),$.multiplyScalar(Qe),m.add($)}})(),D=(()=>{const $=new le;return function(Qe,G){const De=i.domElement;if(De&&i.object instanceof _i&&i.object.isPerspectiveCamera){const de=i.object.position;$.copy(de).sub(i.target);let ye=$.length();ye*=Math.tan(i.object.fov/2*Math.PI/180),Y(2*Qe*ye/De.clientHeight,i.object.matrix),ie(2*G*ye/De.clientHeight,i.object.matrix)}else De&&i.object instanceof vl&&i.object.isOrthographicCamera?(Y(Qe*(i.object.right-i.object.left)/i.object.zoom/De.clientWidth,i.object.matrix),ie(G*(i.object.top-i.object.bottom)/i.object.zoom/De.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function z($){i.object instanceof _i&&i.object.isPerspectiveCamera||i.object instanceof vl&&i.object.isOrthographicCamera?p/=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H($){i.object instanceof _i&&i.object.isPerspectiveCamera||i.object instanceof vl&&i.object.isOrthographicCamera?p*=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ee($){if(!i.zoomToCursor||!i.domElement)return;R=!0;const Me=i.domElement.getBoundingClientRect(),Qe=$.clientX-Me.left,G=$.clientY-Me.top,De=Me.width,de=Me.height;I.x=Qe/De*2-1,I.y=-(G/de)*2+1,B.set(I.x,I.y,1).unproject(i.object).sub(i.object.position).normalize()}function pe($){return Math.max(i.minDistance,Math.min(i.maxDistance,$))}function ke($){v.set($.clientX,$.clientY)}function ne($){ee($),b.set($.clientX,$.clientY)}function ve($){g.set($.clientX,$.clientY)}function be($){x.set($.clientX,$.clientY),y.subVectors(x,v).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(X(2*Math.PI*y.x/Me.clientHeight),Q(2*Math.PI*y.y/Me.clientHeight)),v.copy(x),i.update()}function xe($){P.set($.clientX,$.clientY),T.subVectors(P,b),T.y>0?z(W()):T.y<0&&H(W()),b.copy(P),i.update()}function st($){S.set($.clientX,$.clientY),w.subVectors(S,g).multiplyScalar(i.panSpeed),D(w.x,w.y),g.copy(S),i.update()}function Ke($){ee($),$.deltaY<0?H(W()):$.deltaY>0&&z(W()),i.update()}function Ge($){let Me=!1;switch($.code){case i.keys.UP:D(0,i.keyPanSpeed),Me=!0;break;case i.keys.BOTTOM:D(0,-i.keyPanSpeed),Me=!0;break;case i.keys.LEFT:D(i.keyPanSpeed,0),Me=!0;break;case i.keys.RIGHT:D(-i.keyPanSpeed,0),Me=!0;break}Me&&($.preventDefault(),i.update())}function U(){if(C.length==1)v.set(C[0].pageX,C[0].pageY);else{const $=.5*(C[0].pageX+C[1].pageX),Me=.5*(C[0].pageY+C[1].pageY);v.set($,Me)}}function fe(){if(C.length==1)g.set(C[0].pageX,C[0].pageY);else{const $=.5*(C[0].pageX+C[1].pageX),Me=.5*(C[0].pageY+C[1].pageY);g.set($,Me)}}function me(){const $=C[0].pageX-C[1].pageX,Me=C[0].pageY-C[1].pageY,Qe=Math.sqrt($*$+Me*Me);b.set(0,Qe)}function Ce(){i.enableZoom&&me(),i.enablePan&&fe()}function _e(){i.enableZoom&&me(),i.enableRotate&&U()}function Ne($){if(C.length==1)x.set($.pageX,$.pageY);else{const Qe=te($),G=.5*($.pageX+Qe.x),De=.5*($.pageY+Qe.y);x.set(G,De)}y.subVectors(x,v).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(X(2*Math.PI*y.x/Me.clientHeight),Q(2*Math.PI*y.y/Me.clientHeight)),v.copy(x)}function Oe($){if(C.length==1)S.set($.pageX,$.pageY);else{const Me=te($),Qe=.5*($.pageX+Me.x),G=.5*($.pageY+Me.y);S.set(Qe,G)}w.subVectors(S,g).multiplyScalar(i.panSpeed),D(w.x,w.y),g.copy(S)}function Re($){const Me=te($),Qe=$.pageX-Me.x,G=$.pageY-Me.y,De=Math.sqrt(Qe*Qe+G*G);P.set(0,De),T.set(0,Math.pow(P.y/b.y,i.zoomSpeed)),z(T.y),b.copy(P)}function at($){i.enableZoom&&Re($),i.enablePan&&Oe($)}function k($){i.enableZoom&&Re($),i.enableRotate&&Ne($)}function F($){var Me,Qe;i.enabled!==!1&&(C.length===0&&((Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointermove",se),(Qe=i.domElement)==null||Qe.ownerDocument.addEventListener("pointerup",ge)),$e($),$.pointerType==="touch"?ze($):Ae($))}function se($){i.enabled!==!1&&($.pointerType==="touch"?ct($):Se($))}function ge($){var Me,Qe,G;ht($),C.length===0&&((Me=i.domElement)==null||Me.releasePointerCapture($.pointerId),(Qe=i.domElement)==null||Qe.ownerDocument.removeEventListener("pointermove",se),(G=i.domElement)==null||G.ownerDocument.removeEventListener("pointerup",ge)),i.dispatchEvent(o),l=a.NONE}function Ae($){let Me;switch($.button){case 0:Me=i.mouseButtons.LEFT;break;case 1:Me=i.mouseButtons.MIDDLE;break;case 2:Me=i.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case Im.DOLLY:if(i.enableZoom===!1)return;ne($),l=a.DOLLY;break;case Im.ROTATE:if($.ctrlKey||$.metaKey||$.shiftKey){if(i.enablePan===!1)return;ve($),l=a.PAN}else{if(i.enableRotate===!1)return;ke($),l=a.ROTATE}break;case Im.PAN:if($.ctrlKey||$.metaKey||$.shiftKey){if(i.enableRotate===!1)return;ke($),l=a.ROTATE}else{if(i.enablePan===!1)return;ve($),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Se($){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;be($);break;case a.DOLLY:if(i.enableZoom===!1)return;xe($);break;case a.PAN:if(i.enablePan===!1)return;st($);break}}function qe($){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||($.preventDefault(),i.dispatchEvent(s),Ke($),i.dispatchEvent(o))}function Ie($){i.enabled===!1||i.enablePan===!1||Ge($)}function ze($){switch(Ye($),C.length){case 1:switch(i.touches.ONE){case Lm.ROTATE:if(i.enableRotate===!1)return;U(),l=a.TOUCH_ROTATE;break;case Lm.PAN:if(i.enablePan===!1)return;fe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Lm.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ce(),l=a.TOUCH_DOLLY_PAN;break;case Lm.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;_e(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ct($){switch(Ye($),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ne($),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Oe($),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;at($),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;k($),i.update();break;default:l=a.NONE}}function Te($){i.enabled!==!1&&$.preventDefault()}function $e($){C.push($)}function ht($){delete N[$.pointerId];for(let Me=0;Me<C.length;Me++)if(C[Me].pointerId==$.pointerId){C.splice(Me,1);return}}function Ye($){let Me=N[$.pointerId];Me===void 0&&(Me=new nt,N[$.pointerId]=Me),Me.set($.pageX,$.pageY)}function te($){const Me=$.pointerId===C[0].pointerId?C[1]:C[0];return N[Me.pointerId]}t!==void 0&&this.connect(t),this.update()}};function M2(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const lg="srgb",Oh="srgb-linear",eJ=3001,dOe=3e3;class UG extends qs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new vOe(t)}),this.register(function(t){return new yOe(t)}),this.register(function(t){return new COe(t)}),this.register(function(t){return new TOe(t)}),this.register(function(t){return new ROe(t)}),this.register(function(t){return new _Oe(t)}),this.register(function(t){return new AOe(t)}),this.register(function(t){return new SOe(t)}),this.register(function(t){return new wOe(t)}),this.register(function(t){return new gOe(t)}),this.register(function(t){return new MOe(t)}),this.register(function(t){return new xOe(t)}),this.register(function(t){return new EOe(t)}),this.register(function(t){return new bOe(t)}),this.register(function(t){return new pOe(t)}),this.register(function(t){return new POe(t)}),this.register(function(t){return new BOe(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Lf.extractUrlBase(e);o=Lf.resolveURL(c,this.path)}else o=Lf.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ea(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(M2(new Uint8Array(e.slice(0,4)))===nae){try{o[Sn.KHR_BINARY_GLTF]=new IOe(e)}catch(h){r&&r(h);return}s=JSON.parse(o[Sn.KHR_BINARY_GLTF].content)}else s=JSON.parse(M2(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new WOe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(h){case Sn.KHR_MATERIALS_UNLIT:o[h]=new mOe;break;case Sn.KHR_DRACO_MESH_COMPRESSION:o[h]=new LOe(s,this.dracoLoader);break;case Sn.KHR_TEXTURE_TRANSFORM:o[h]=new DOe;break;case Sn.KHR_MESH_QUANTIZATION:o[h]=new FOe;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function fOe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Sn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class pOe{constructor(e){this.parser=e,this.name=Sn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const h=new Ct(16777215);l.color!==void 0&&h.setRGB(l.color[0],l.color[1],l.color[2],Oh);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new RG(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new TG(h),c.distance=d;break;case"spot":c=new CG(h),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,lh(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class mOe{constructor(){this.name=Sn.KHR_MATERIALS_UNLIT}getMaterialType(){return fa}extendParams(e,t,i){const r=[];e.color=new Ct(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Oh),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,lg))}return Promise.all(r)}}class gOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class vOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new nt(a,a)}return Promise.all(s)}}class yOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class xOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class _Oe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ct(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Oh)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,lg)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class AOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class SOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ct().setRGB(a[0],a[1],a[2],Oh),Promise.all(s)}}class wOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class MOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ct().setRGB(a[0],a[1],a[2],Oh),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,lg)),Promise.all(s)}}class bOe{constructor(e){this.parser=e,this.name=Sn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class EOe{constructor(e){this.parser=e,this.name=Sn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:bl}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class COe{constructor(e){this.parser=e,this.name=Sn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class TOe{constructor(e){this.parser=e,this.name=Sn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ROe{constructor(e){this.parser=e,this.name=Sn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class POe{constructor(e){this.name=Sn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class BOe{constructor(e){this.name=Sn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==il.TRIANGLES&&c.mode!==il.TRIANGLE_STRIP&&c.mode!==il.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(l[c]=h,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),d=h.isGroup?h.children:[h],p=c[0].count,m=[];for(const v of d){const x=new Wt,y=new le,g=new $r,S=new le(1,1,1),w=new fG(v.geometry,v.material,p);for(let b=0;b<p;b++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,b),l.SCALE&&S.fromBufferAttribute(l.SCALE,b),w.setMatrixAt(b,x.compose(y,g,S));for(const b in l)if(b==="_COLOR_0"){const P=l[b];w.instanceColor=new Zg(P.array,P.itemSize,P.normalized)}else b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&v.geometry.setAttribute(b,l[b]);Pn.prototype.copy.call(w,v),this.parser.assignFinalMaterial(w),m.push(w)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const nae="glTF",PA=12,tJ={JSON:1313821514,BIN:5130562};class IOe{constructor(e){this.name=Sn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,PA);if(this.header={magic:M2(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==nae)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-PA,r=new DataView(e,PA);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===tJ.JSON){const l=new Uint8Array(e,PA+s,o);this.content=M2(l)}else if(a===tJ.BIN){const l=PA+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class LOe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Sn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const h in o){const d=UU[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=UU[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=xx[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d,p){r.decodeDracoFile(h,function(m){for(const v in m.attributes){const x=m.attributes[v],y=l[v];y!==void 0&&(x.normalized=y)}d(m)},a,c,Oh,p)})})}}class DOe{constructor(){this.name=Sn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class FOe{constructor(){this.name=Sn.KHR_MESH_QUANTIZATION}}class iae extends T1{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,h=r-t,d=(i-t)/h,p=d*d,m=p*d,v=e*c,x=v-c,y=-2*m+3*p,g=m-p,S=1-y,w=g-p+d;for(let b=0;b!==a;b++){const P=o[x+b+a],T=o[x+b+l]*h,B=o[v+b+a],I=o[v+b]*h;s[b]=S*P+w*T+y*B+g*I}return s}}const NOe=new $r;class OOe extends iae{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return NOe.fromArray(s).normalize().toArray(s),s}}const il={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},xx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},nJ={9728:Br,9729:Yi,9984:cB,9985:gx,9986:ng,9987:gl},iJ={33071:ha,33648:Jx,10497:Jf},_3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},UU={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...aOe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},UOe={CUBICSPLINE:void 0,LINEAR:Yx,STEP:Kx},A3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function kOe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new XM({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fu})),n.DefaultMaterial}function xm(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function lh(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function zOe(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,h=e.length;c<h;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=h),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function HOe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function GOe(n){let e;const t=n.extensions&&n.extensions[Sn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+S3(t.attributes):e=n.indices+":"+S3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+S3(n.targets[i]);return e}function S3(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function kU(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function VOe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const jOe=new Wt;class WOe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new fOe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new JM(this.options.manager):this.textureLoader=new Moe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ea(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return xm(s,a,r),lh(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Sn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Lf.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=_3[r.type],a=xx[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Fn(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=_3[r.type],c=xx[r.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let x,y;if(m&&m!==d){const g=Math.floor(p/m),S="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let w=t.cache.get(S);w||(x=new c(a,g*m,r.count*m/h),w=new zM(x,m/h),t.cache.add(S,w)),y=new Kf(w,l,p%m/h,v)}else a===null?x=new c(r.count*l):x=new c(a,p,r.count*l),y=new Fn(x,l,v);if(r.sparse!==void 0){const g=_3.SCALAR,S=xx[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,P=new S(o[1],w,r.sparse.count*g),T=new c(o[2],b,r.sparse.count*l);a!==null&&(y=new Fn(y.array.slice(),y.itemSize,y.normalized));for(let B=0,I=P.length;B<I;B++){const R=P[B];if(y.setX(R,T[B*l]),l>=2&&y.setY(R,T[B*l+1]),l>=3&&y.setZ(R,T[B*l+2]),l>=4&&y.setW(R,T[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=nJ[p.magFilter]||Yi,h.minFilter=nJ[p.minFilter]||gl,h.wrapS=iJ[p.wrapS]||Jf,h.wrapT=iJ[p.wrapT]||Jf,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(x){const y=new si(x);y.needsUpdate=!0,p(y)}),t.load(Lf.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),lh(d,o),d.userData.mimeType=o.mimeType||VOe(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Sn.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Sn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Sn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===eJ?lg:Oh),"colorSpace"in o?o.colorSpace=r:o.encoding=r===lg?eJ:dOe),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new GM,yr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Qs,yr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return XM}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Sn.KHR_MATERIALS_UNLIT]){const d=r[Sn.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ct(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Oh),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,lg)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=hl);const h=s.alphaMode||A3.OPAQUE;if(h===A3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===A3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==fa&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new nt(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==fa&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==fa){const d=s.emissiveFactor;a.emissive=new Ct().setRGB(d[0],d[1],d[2],Oh)}return s.emissiveTexture!==void 0&&o!==fa&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,lg)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),lh(d,s),t.associations.set(d,{materials:e}),s.extensions&&xm(r,d,s),d})}createUniqueName(e){const t=Ln.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Sn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return rJ(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],h=GOe(c),d=r[h];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Sn.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=rJ(new ln,c,t),r[h]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const h=o[l].material===void 0?kOe(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,v=h.length;m<v;m++){const x=h[m],y=o[m];let g;const S=c[m];if(y.mode===il.TRIANGLES||y.mode===il.TRIANGLE_STRIP||y.mode===il.TRIANGLE_FAN||y.mode===void 0)g=s.isSkinnedMesh===!0?new dG(x,S):new qi(x,S),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),y.mode===il.TRIANGLE_STRIP?g.geometry=qX(g.geometry,qH):y.mode===il.TRIANGLE_FAN&&(g.geometry=qX(g.geometry,y2));else if(y.mode===il.LINES)g=new vc(x,S);else if(y.mode===il.LINE_STRIP)g=new Zh(x,S);else if(y.mode===il.LINE_LOOP)g=new pG(x,S);else if(y.mode===il.POINTS)g=new mG(x,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(g.geometry.morphAttributes).length>0&&HOe(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),lh(g,s),y.extensions&&xm(r,g,y),t.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&xm(r,d[0],s),d[0];const p=new Mh;s.extensions&&xm(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new _i(eG.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new vl(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),lh(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,h=o.length;c<h;c++){const d=o[c];if(d){a.push(d);const p=new Wt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new HM(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],h=[];for(let d=0,p=r.channels.length;d<p;d++){const m=r.channels[d],v=r.samplers[m.sampler],x=m.target,y=x.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,S=r.parameters!==void 0?r.parameters[v.output]:v.output;x.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",S)),c.push(v),h.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(h)]).then(function(d){const p=d[0],m=d[1],v=d[2],x=d[3],y=d[4],g=[];for(let S=0,w=p.length;S<w;S++){const b=p[S],P=m[S],T=v[S],B=x[S],I=y[S];if(b===void 0)continue;b.updateMatrix&&b.updateMatrix();const R=i._createAnimationTracks(b,P,T,B,I);if(R)for(let C=0;C<R.length;C++)g.push(R[C])}return new $x(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,h=a.length;c<h;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const h=c[0],d=c[1],p=c[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,jOe)});for(let m=0,v=d.length;m<v;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(s.isBone===!0?h=new gB:c.length>1?h=new Mh:c.length===1?h=c[0]:h=new Pn,h!==c[0])for(let d=0,p=c.length;d<p;d++)h.add(c[d]);if(s.name&&(h.userData.name=s.name,h.name=o),lh(h,s),s.extensions&&xm(i,h,s),s.matrix!==void 0){const d=new Wt;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Mh;i.name&&(s.name=r.createUniqueName(i.name)),lh(s,i),i.extensions&&xm(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const c=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof yr||p instanceof si)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Xd[s.path]===Xd.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(Xd[s.path]){case Xd.weights:c=t0;break;case Xd.rotation:c=n0;break;case Xd.position:case Xd.scale:c=i0;break;default:switch(i.itemSize){case 1:c=t0;break;case 2:case 3:default:c=i0;break}break}const h=r.interpolation!==void 0?UOe[r.interpolation]:Yx,d=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new c(l[p]+"."+Xd[s.path],t.array,d,h);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=kU(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof n0?OOe:iae;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function XOe(n,e,t){const i=e.attributes,r=new js;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new le(l[0],l[1],l[2]),new le(c[0],c[1],c[2])),a.normalized){const h=kU(xx[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new le,l=new le;for(let c=0,h=s.length;c<h;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const x=kU(xx[p.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new ys;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function rJ(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=UU[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return lh(n,e),XOe(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?zOe(n,e.targets,t):n})}class JOe extends ln{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new le,c=new Wt;c.makeRotationFromEuler(i),c.setPosition(t);const h=new Wt;h.copy(c).invert(),d(),this.setAttribute("position",new Ut(s,3)),this.setAttribute("normal",new Ut(o,3)),this.setAttribute("uv",new Ut(a,2));function d(){let x,y=[];const g=new le,S=new le;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const w=e.geometry,b=w.attributes.position,P=w.attributes.normal;if(w.index!==null){const T=w.index;for(x=0;x<T.count;x++)g.fromBufferAttribute(b,T.getX(x)),S.fromBufferAttribute(P,T.getX(x)),p(y,g,S)}else for(x=0;x<b.count;x++)g.fromBufferAttribute(b,x),S.fromBufferAttribute(P,x),p(y,g,S);for(y=m(y,l.set(1,0,0)),y=m(y,l.set(-1,0,0)),y=m(y,l.set(0,1,0)),y=m(y,l.set(0,-1,0)),y=m(y,l.set(0,0,1)),y=m(y,l.set(0,0,-1)),x=0;x<y.length;x++){const T=y[x];a.push(.5+T.position.x/r.x,.5+T.position.y/r.y),T.position.applyMatrix4(c),s.push(T.position.x,T.position.y,T.position.z),o.push(T.normal.x,T.normal.y,T.normal.z)}}function p(x,y,g){y.applyMatrix4(e.matrixWorld),y.applyMatrix4(h),g.transformDirection(e.matrixWorld),x.push(new sJ(y.clone(),g.clone()))}function m(x,y){const g=[],S=.5*Math.abs(r.dot(y));for(let w=0;w<x.length;w+=3){let b,P,T,B=0,I,R,C,N;const j=x[w+0].position.dot(y)-S,W=x[w+1].position.dot(y)-S,X=x[w+2].position.dot(y)-S;switch(b=j>0,P=W>0,T=X>0,B=(b?1:0)+(P?1:0)+(T?1:0),B){case 0:{g.push(x[w]),g.push(x[w+1]),g.push(x[w+2]);break}case 1:{if(b&&(I=x[w+1],R=x[w+2],C=v(x[w],I,y,S),N=v(x[w],R,y,S)),P){I=x[w],R=x[w+2],C=v(x[w+1],I,y,S),N=v(x[w+1],R,y,S),g.push(C),g.push(R.clone()),g.push(I.clone()),g.push(R.clone()),g.push(C.clone()),g.push(N);break}T&&(I=x[w],R=x[w+1],C=v(x[w+2],I,y,S),N=v(x[w+2],R,y,S)),g.push(I.clone()),g.push(R.clone()),g.push(C),g.push(N),g.push(C.clone()),g.push(R.clone());break}case 2:{b||(I=x[w].clone(),R=v(I,x[w+1],y,S),C=v(I,x[w+2],y,S),g.push(I),g.push(R),g.push(C)),P||(I=x[w+1].clone(),R=v(I,x[w+2],y,S),C=v(I,x[w],y,S),g.push(I),g.push(R),g.push(C)),T||(I=x[w+2].clone(),R=v(I,x[w],y,S),C=v(I,x[w+1],y,S),g.push(I),g.push(R),g.push(C));break}}}return g}function v(x,y,g,S){const w=x.position.dot(g)-S,b=y.position.dot(g)-S,P=w/(w-b);return new sJ(new le(x.position.x+P*(y.position.x-x.position.x),x.position.y+P*(y.position.y-x.position.y),x.position.z+P*(y.position.z-x.position.z)),new le(x.normal.x+P*(y.normal.x-x.normal.x),x.normal.y+P*(y.normal.y-x.normal.y),x.normal.z+P*(y.normal.z-x.normal.z)))}}}class sJ{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const w3=new WeakMap;class KOe extends qs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Ea(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(w3.has(e)){const l=w3.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,h)=>{r._callbacks[s]={resolve:c,reject:h},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),w3.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ln;e.index&&t.setIndex(new Fn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Fn(o,a))}return t}_loadLibrary(e,t){const i=new Ea(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=YOe.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function YOe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,p,m,c),x=v.attributes.map(y=>y.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const h=c.attributeIDs,d=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const y in h){const g=self[d[y]];let S,w;if(c.useUniqueIDs)w=h[y],S=a.GetAttributeByUniqueId(p,w);else{if(w=a.GetAttributeId(p,o[h[y]]),w===-1)continue;S=a.GetAttribute(p,w)}x.attributes.push(r(o,a,p,y,g,S))}return v===o.TRIANGULAR_MESH&&(x.index=i(o,a,p)),o.destroy(p),x}function i(o,a,l){const h=l.num_faces()*3,d=h*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,h,d){const p=d.num_components(),v=l.num_points()*p,x=v*h.BYTES_PER_ELEMENT,y=s(o,h),g=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,y,x,g);const S=new h(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let $C;const M3=()=>{if($C)return $C;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const x=d.charCodeAt(v);p[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,x,y){const g=s.exports.sbrk,S=m+3&-4,w=g(S*v),b=g(x.length),P=new Uint8Array(s.exports.memory.buffer);P.set(x,b);const T=d(w,m,v,b,x.length);if(T===0&&y&&y(w,S,v),p.set(P.subarray(w,w+m*v)),g(w-g(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return $C={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,x){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[c[x]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,x,y){l(s.exports[h[x]],d,p,m,v,s.exports[c[y]])}},$C},b3=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function kG(n,e){const t=ia(s=>s.gl),i=dp(JM,b3(n)?Object.values(n):n);return he.useLayoutEffect(()=>{e==null||e(i)},[e]),he.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof si?s=[i]:b3(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof si&&t.initTexture(o)})}},[t,i]),he.useMemo(()=>{if(b3(n)){const s={};let o=0;for(const a in n)s[a]=i[o++];return s}else return i},[n,i])}kG.preload=n=>dp.preload(JM,n);kG.clear=n=>dp.clear(JM,n);const QOe=()=>parseInt(w1.replace(/\D+/g,"")),rae=QOe();function qOe(n){return Array.isArray(n)}function E3(n=[0,0,0]){return qOe(n)?n:n instanceof le||n instanceof go?[n.x,n.y,n.z]:[n,n,n]}const $Oe=he.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:i=-10,map:r,mesh:s,children:o,position:a,rotation:l,scale:c,...h},d){const p=he.useRef(null);he.useImperativeHandle(d,()=>p.current);const m=he.useRef(null);return he.useLayoutEffect(()=>{const v=(s==null?void 0:s.current)||p.current.parent,x=p.current;if(!(v instanceof qi))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const y={position:new le,rotation:new go,scale:new le(1,1,1)};if(v){Wc(y,{position:a,scale:c});const g=v.matrixWorld.clone();if(v.matrixWorld.identity(),!l||typeof l=="number"){const S=new Pn;S.position.copy(y.position),S.lookAt(v.position),typeof l=="number"&&S.rotateZ(l),Wc(y,{rotation:S.rotation})}else Wc(y,{rotation:l});return x.geometry=new JOe(v,y.position,y.rotation,y.scale),m.current&&(Wc(m.current,y),m.current.traverse(S=>S.raycast=()=>null)),v.matrixWorld=g,()=>{x.geometry.dispose()}}},[s,...E3(a),...E3(c),...E3(l)]),he.createElement("mesh",mu({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":i,"material-depthTest":t,"material-map":r},h),o,e&&he.createElement("mesh",{ref:m},he.createElement("boxGeometry",null),he.createElement("meshNormalMaterial",{wireframe:!0}),he.createElement("axesHelper",null)))});let ZC=null,sae="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function oae(n,e,t){return i=>{t&&t(i),n&&(ZC||(ZC=new KOe),ZC.setDecoderPath(typeof n=="string"?n:sae),i.setDRACOLoader(ZC)),e&&i.setMeshoptDecoder(typeof M3=="function"?M3():M3)}}function QM(n,e=!0,t=!0,i){return dp(UG,n,oae(e,t,i))}QM.preload=(n,e=!0,t=!0,i)=>dp.preload(UG,n,oae(e,t,i));QM.clear=n=>dp.clear(UG,n);QM.setDecoderPath=n=>{sae=n};const zG=he.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},h)=>{const d=ia(T=>T.invalidate),p=ia(T=>T.camera),m=ia(T=>T.gl),v=ia(T=>T.events),x=ia(T=>T.setEvents),y=ia(T=>T.set),g=ia(T=>T.get),S=ia(T=>T.performance),w=e||p,b=i||v.connected||m.domElement,P=he.useMemo(()=>new hOe(w),[w]);return R1(()=>{P.enabled&&P.update()},-1),he.useEffect(()=>(s&&P.connect(s===!0?b:s),P.connect(b),()=>void P.dispose()),[s,b,t,P,d]),he.useEffect(()=>{const T=R=>{d(),t&&S.regress(),o&&o(R)},B=R=>{a&&a(R)},I=R=>{l&&l(R)};return P.addEventListener("change",T),P.addEventListener("start",B),P.addEventListener("end",I),()=>{P.removeEventListener("start",B),P.removeEventListener("end",I),P.removeEventListener("change",T)}},[o,a,l,P,d,x]),he.useEffect(()=>{if(n){const T=g().controls;return y({controls:P}),()=>y({controls:T})}},[n,P]),he.createElement("primitive",mu({ref:h,object:P,enableDamping:r},c))});var aae={exports:{}},ZOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eUe=ZOe,tUe=eUe;function lae(){}function cae(){}cae.resetWarningCache=lae;var nUe=function(){function n(i,r,s,o,a,l){if(l!==tUe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cae,resetWarningCache:lae};return t.PropTypes=t,t};aae.exports=nUe();var uae=aae.exports;const C3=rae>=154?"opaque_fragment":"output_fragment";class iUe extends GM{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${C3}>`,`
        ${r?`#include <${C3}>`:`#extension GL_OES_standard_derivatives : enable
#include <${C3}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${rae>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const rUe=he.forwardRef((n,e)=>{const[t]=he.useState(()=>new iUe(null));return he.createElement("primitive",mu({},n,{object:t,ref:e,attach:"material"}))}),sUe=he.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=he.useRef(null);he.useImperativeHandle(a,()=>l.current,[]);const c=he.useRef(Math.random()*1e4);return R1(h=>{var d,p;if(!e||t===0)return;const m=c.current+h.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*i,l.current.rotation.y=Math.sin(m/4*t)/8*i,l.current.rotation.z=Math.sin(m/4*t)/20*i;let v=Math.sin(m/4*t)/10;v=eG.mapLinear(v,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*r,l.current.updateMatrix()}),he.createElement("group",o,he.createElement("group",{ref:l,matrixAutoUpdate:!1},n))});let _m,BA;const oUe=he.createContext(null),oJ=new Wt,aJ=new le,aUe=he.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=he.useRef(null);he.useImperativeHandle(r,()=>s.current,[]);const[o,a]=he.useState([]),[[l,c,h]]=he.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);he.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),R1(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),oJ.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),_m=0;_m<o.length;_m++)BA=o[_m].current,BA.getWorldPosition(aJ).applyMatrix4(oJ),aJ.toArray(l,_m*3),s.current.geometry.attributes.position.needsUpdate=!0,BA.matrixWorldNeedsUpdate=!0,BA.color.toArray(c,_m*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([BA.size],_m),s.current.geometry.attributes.size.needsUpdate=!0});const d=he.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return he.createElement("points",mu({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),he.createElement("bufferGeometry",null,he.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Mg}),he.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:Mg}),he.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:Mg})),he.createElement(oUe.Provider,{value:d},n))}),lUe=he.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=he.useRef(null);return he.useImperativeHandle(o,()=>a.current,[]),R1(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),he.createElement("points",mu({ref:a},s),he.createElement("bufferGeometry",null,he.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:Mg}),t&&he.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:Mg}),i&&he.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:Mg})),n)}),cUe=he.forwardRef((n,e)=>n.positions instanceof Float32Array?he.createElement(lUe,mu({},n,{ref:e})):he.createElement(aUe,mu({},n,{ref:e})));function DB({all:n,scene:e,camera:t}){const i=ia(({gl:o})=>o),r=ia(({camera:o})=>o),s=ia(({scene:o})=>o);return he.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new oG(128);new sG(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const HG=()=>{const{progress:n}=ZNe();return Be.jsxs($Ne,{children:[Be.jsx("span",{className:"canvas-load"}),Be.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},uUe=()=>{const n=QM("./planet/scene.gltf");return Be.jsx("primitive",{object:n.scene,scale:2.4,"position-y":0,"rotation-y":0})},hUe=()=>Be.jsx(LB,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},style:{width:"100%",height:"100%"},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:Be.jsxs(he.Suspense,{fallback:Be.jsx(HG,{}),children:[Be.jsx(zG,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),Be.jsx(uUe,{}),Be.jsx(DB,{all:!0})]})}),dUe=n=>{const[e]=kG([n.imgUrl]);return Be.jsxs(sUe,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[Be.jsx("ambientLight",{intensity:.25}),Be.jsx("directionalLight",{position:[0,-7,.05]}),Be.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[Be.jsx("icosahedronGeometry",{args:[1,1]}),Be.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),Be.jsx($Oe,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},fUe=({icon:n})=>Be.jsxs(LB,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[Be.jsxs(he.Suspense,{fallback:Be.jsx(HG,{}),children:[Be.jsx(zG,{enableZoom:!1}),Be.jsx(dUe,{imgUrl:n})]}),Be.jsx(DB,{all:!0})]}),pUe=({isMobile:n})=>{const e=QM("./desktop_pc/scene.gltf");return Be.jsxs("mesh",{children:[Be.jsx("hemisphereLight",{intensity:1.5,groundColor:"black"}),Be.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),Be.jsx("pointLight",{intensity:1}),Be.jsx("primitive",{object:e.scene,scale:n?.45:.75,position:n?[-3,-3,-1]:[0,-3,-1.5],rotation:[0,0,0]})]})},mUe=()=>{const[n,e]=he.useState(!1);return he.useEffect(()=>{const t=window.matchMedia("(max-width: 600px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),Be.jsxs(LB,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[Be.jsxs(he.Suspense,{fallback:Be.jsx(HG,{}),children:[Be.jsx(zG,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),Be.jsx(pUe,{isMobile:n})]}),Be.jsx(DB,{all:!0})]})},gUe=n=>{const e=he.useRef(),[t]=he.useState(()=>oOe(new Float32Array(5e3),{radius:1.2}));return R1((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),Be.jsx("group",{rotation:[0,0,Math.PI/4],children:Be.jsx(cUe,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:Be.jsx(rUe,{transparent:!0,color:"#f272c8",size:.001,sizeAttenuation:!0,depthWrite:!1})})})},vUe=()=>{const n={position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-10,backgroundColor:"#000000"};return Be.jsx("div",{style:n,children:Be.jsxs(LB,{camera:{position:[0,0,1]},children:[Be.jsx(he.Suspense,{fallback:null,children:Be.jsx(gUe,{})}),Be.jsx(DB,{all:!0})]})})},hae=he.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),FB=he.createContext({}),GG=he.createContext(null),VG=typeof document<"u",yUe=VG?he.useLayoutEffect:he.useEffect,dae=he.createContext({strict:!1}),jG=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xUe="framerAppearId",fae="data-"+jG(xUe),_Ue={skipAnimations:!1,useManualTiming:!1};class lJ{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function AUe(n){let e=new lJ,t=new lJ,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&r,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const h=e.order[c];o.has(h)&&(a.schedule(h),n()),h(l)}r=!1,s&&(s=!1,a.process(l))}};return a}const eT=["read","resolveKeyframes","update","preRender","render","postRender"],SUe=40;function pae(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=eT.reduce((d,p)=>(d[p]=AUe(()=>t=!0),d),{}),o=d=>{s[d].process(r)},a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,SUe),1),r.timestamp=d,r.isProcessing=!0,eT.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:eT.reduce((d,p)=>{const m=s[p];return d[p]=(v,x=!1,y=!1)=>(t||l(),m.schedule(v,x,y)),d},{}),cancel:d=>eT.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:WG,cancel:B5e}=pae(queueMicrotask,!1);function wUe(n,e,t,i){const{visualElement:r}=he.useContext(FB),s=he.useContext(dae),o=he.useContext(GG),a=he.useContext(hae).reducedMotion,l=he.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;he.useInsertionEffect(()=>{c&&c.update(t,o)});const h=he.useRef(!!(t[fae]&&!window.HandoffComplete));return yUe(()=>{c&&(WG.render(c.render),h.current&&c.animationState&&c.animationState.animateChanges())}),he.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Yy(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function MUe(n,e,t){return he.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Yy(t)&&(t.current=i))},[e])}function Yw(n){return typeof n=="string"||Array.isArray(n)}function NB(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const XG=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JG=["initial",...XG];function OB(n){return NB(n.animate)||JG.some(e=>Yw(n[e]))}function mae(n){return!!(OB(n)||n.variants)}function bUe(n,e){if(OB(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Yw(t)?t:void 0,animate:Yw(i)?i:void 0}}return n.inherit!==!1?e:{}}function EUe(n){const{initial:e,animate:t}=bUe(n,he.useContext(FB));return he.useMemo(()=>({initial:e,animate:t}),[cJ(e),cJ(t)])}function cJ(n){return Array.isArray(n)?n.join(" "):n}const uJ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qw={};for(const n in uJ)Qw[n]={isEnabled:e=>uJ[n].some(t=>!!e[t])};function CUe(n){for(const e in n)Qw[e]={...Qw[e],...n[e]}}const gae=he.createContext({}),vae=he.createContext({}),TUe=Symbol.for("motionComponentSymbol");function RUe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&CUe(n);function s(a,l){let c;const h={...he.useContext(hae),...a,layoutId:PUe(a)},{isStatic:d}=h,p=EUe(a),m=i(a,d);if(!d&&VG){p.visualElement=wUe(r,m,h,e);const v=he.useContext(vae),x=he.useContext(dae).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,x,n,v))}return Be.jsxs(FB.Provider,{value:p,children:[c&&p.visualElement?Be.jsx(c,{visualElement:p.visualElement,...h}):null,t(r,a,MUe(m,p.visualElement,l),m,d,p.visualElement)]})}const o=he.forwardRef(s);return o[TUe]=r,o}function PUe({layoutId:n}){const e=he.useContext(gae).id;return e&&n!==void 0?e+"-"+n:n}function BUe(n){function e(i,r={}){return RUe(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const IUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KG(n){return typeof n!="string"||n.includes("-")?!1:!!(IUe.indexOf(n)>-1||/[A-Z]/u.test(n))}const b2={};function LUe(n){Object.assign(b2,n)}const qM=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_0=new Set(qM);function yae(n,{layout:e,layoutId:t}){return _0.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!b2[n]||n==="opacity")}const zs=n=>!!(n&&n.getVelocity),DUe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FUe=qM.length;function NUe(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<FUe;o++){const a=qM[o];if(n[a]!==void 0){const l=DUe[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const xae=n=>e=>typeof e=="string"&&e.startsWith(n),_ae=xae("--"),OUe=xae("var(--"),YG=n=>OUe(n)?UUe.test(n.split("/*")[0].trim()):!1,UUe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kUe=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Yf=(n,e,t)=>t>e?e:t<n?n:t,P1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},bS={...P1,transform:n=>Yf(0,1,n)},tT={...P1,default:1},ES=n=>Math.round(n*1e5)/1e5,QG=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,zUe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,HUe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function $M(n){return typeof n=="string"}const ZM=n=>({test:e=>$M(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Qd=ZM("deg"),au=ZM("%"),qt=ZM("px"),GUe=ZM("vh"),VUe=ZM("vw"),hJ={...au,parse:n=>au.parse(n)/100,transform:n=>au.transform(n*100)},dJ={...P1,transform:Math.round},Aae={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,size:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,rotate:Qd,rotateX:Qd,rotateY:Qd,rotateZ:Qd,scale:tT,scaleX:tT,scaleY:tT,scaleZ:tT,skew:Qd,skewX:Qd,skewY:Qd,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:bS,originX:hJ,originY:hJ,originZ:qt,zIndex:dJ,backgroundPositionX:qt,backgroundPositionY:qt,fillOpacity:bS,strokeOpacity:bS,numOctaves:dJ};function qG(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(_ae(d)){s[d]=p;continue}const m=Aae[d],v=kUe(p,m);if(_0.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=NUe(n.transform,t,h,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const $G=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sae(n,e,t){for(const i in e)!zs(e[i])&&!yae(i,t)&&(n[i]=e[i])}function jUe({transformTemplate:n},e,t){return he.useMemo(()=>{const i=$G();return qG(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function WUe(n,e,t){const i=n.style||{},r={};return Sae(r,i,n),Object.assign(r,jUe(n,e,t)),r}function XUe(n,e,t){const i={},r=WUe(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const JUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function E2(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||JUe.has(n)}let wae=n=>!E2(n);function KUe(n){n&&(wae=e=>e.startsWith("on")?!E2(e):n(e))}try{KUe(require("@emotion/is-prop-valid").default)}catch{}function YUe(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(wae(r)||t===!0&&E2(r)||!e&&!E2(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function fJ(n,e,t){return typeof n=="string"?n:qt.transform(e+t*n)}function QUe(n,e,t){const i=fJ(e,n.x,n.width),r=fJ(t,n.y,n.height);return`${i} ${r}`}const qUe={offset:"stroke-dashoffset",array:"stroke-dasharray"},$Ue={offset:"strokeDashoffset",array:"strokeDasharray"};function ZUe(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?qUe:$Ue;n[s.offset]=qt.transform(-i);const o=qt.transform(e),a=qt.transform(t);n[s.array]=`${o} ${a}`}function ZG(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(qG(n,c,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:x}=n;m.transform&&(x&&(v.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=QUe(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&ZUe(m,o,a,l,!1)}const Mae=()=>({...$G(),attrs:{}}),e9=n=>typeof n=="string"&&n.toLowerCase()==="svg";function eke(n,e,t,i){const r=he.useMemo(()=>{const s=Mae();return ZG(s,e,{enableHardwareAcceleration:!1},e9(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Sae(s,n.style,n),r.style={...s,...r.style}}return r}function tke(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(KG(t)?eke:XUe)(i,s,o,t),c=YUe(i,typeof t=="string",n),h=t!==he.Fragment?{...c,...l,ref:r}:{},{children:d}=i,p=he.useMemo(()=>zs(d)?d.get():d,[d]);return he.createElement(t,{...h,children:p})}}function bae(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const Eae=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cae(n,e,t,i){bae(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(Eae.has(r)?r:jG(r),e.attrs[r])}function t9(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(zs(r[o])||e.style&&zs(e.style[o])||yae(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function Tae(n,e,t){const i=t9(n,e,t);for(const r in n)if(zs(n[r])||zs(e[r])){const s=qM.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function pJ(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function n9(n,e,t,i){if(typeof e=="function"){const[r,s]=pJ(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=pJ(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function nke(n){const e=he.useRef(null);return e.current===null&&(e.current=n()),e.current}const zU=n=>Array.isArray(n),ike=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),rke=n=>zU(n)?n[n.length-1]||0:n;function YT(n){const e=zs(n)?n.get():n;return ike(e)?e.toValue():e}function ske({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:oke(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const Rae=n=>(e,t)=>{const i=he.useContext(FB),r=he.useContext(GG),s=()=>ske(n,e,i,r);return t?s():nke(s)};function oke(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=YT(s[p]);let{initial:o,animate:a}=n;const l=OB(n),c=mae(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!NB(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=n9(n,m);if(!v)return;const{transitionEnd:x,transition:y,...g}=v;for(const S in g){let w=g[S];if(Array.isArray(w)){const b=h?w.length-1:0;w=w[b]}w!==null&&(r[S]=w)}for(const S in x)r[S]=x[S]}),r}const Ws=n=>n,{schedule:ti,cancel:ed,state:ds,steps:T3}=pae(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ws,!0),ake={useVisualState:Rae({scrapeMotionValuesFromProps:Tae,createRenderState:Mae,onMount:(n,e,{renderState:t,latestValues:i})=>{ti.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ti.render(()=>{ZG(t,i,{enableHardwareAcceleration:!1},e9(e.tagName),n.transformTemplate),Cae(e,t)})}})},lke={useVisualState:Rae({scrapeMotionValuesFromProps:t9,createRenderState:$G})};function cke(n,{forwardMotionProps:e=!1},t,i){return{...KG(n)?ake:lke,preloadedFeatures:t,useRender:tke(e),createVisualElement:i,Component:n}}function Eh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const Pae=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function UB(n,e="page"){return{point:{x:n[`${e}X`],y:n[`${e}Y`]}}}const uke=n=>e=>Pae(e)&&n(e,UB(e));function Uh(n,e,t,i){return Eh(n,e,uke(t),i)}const hke=(n,e)=>t=>e(n(t)),kh=(...n)=>n.reduce(hke);function Bae(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const mJ=Bae("dragHorizontal"),gJ=Bae("dragVertical");function Iae(n){let e=!1;if(n==="y")e=gJ();else if(n==="x")e=mJ();else{const t=mJ(),i=gJ();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function Lae(){const n=Iae(!0);return n?(n(),!1):!0}class fp{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vJ(n,e){const t=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||Lae())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e);const l=a[i];l&&ti.postRender(()=>l(s,o))};return Uh(n.current,t,r,{passive:!n.getProps()[i]})}class dke extends fp{mount(){this.unmount=kh(vJ(this.node,!0),vJ(this.node,!1))}unmount(){}}class fke extends fp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kh(Eh(this.node.current,"focus",()=>this.onFocus()),Eh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Dae=(n,e)=>e?n===e?!0:Dae(n,e.parentElement):!1;function R3(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,UB(t))}class pke extends fp{constructor(){super(...arguments),this.removeStartListeners=Ws,this.removeEndListeners=Ws,this.removeAccessibleListeners=Ws,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Uh(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),p=!d&&!Dae(this.node.current,a.target)?h:c;p&&ti.update(()=>p(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=Uh(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=kh(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||R3("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&ti.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Eh(this.node.current,"keyup",o),R3("down",(a,l)=>{this.startPress(a,l)})},t=Eh(this.node.current,"keydown",e),i=()=>{this.isPressing&&R3("cancel",(s,o)=>this.cancelPress(s,o))},r=Eh(this.node.current,"blur",i);this.removeAccessibleListeners=kh(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&ti.postRender(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Lae()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&ti.postRender(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Uh(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Eh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kh(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const HU=new WeakMap,P3=new WeakMap,mke=n=>{const e=HU.get(n.target);e&&e(n)},gke=n=>{n.forEach(mke)};function vke({root:n,...e}){const t=n||document;P3.has(t)||P3.set(t,{});const i=P3.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(gke,{root:n,...e})),i[r]}function yke(n,e,t){const i=vke(e);return HU.set(n,t),i.observe(n),()=>{HU.delete(n),i.unobserve(n)}}const xke={some:0,all:1};class _ke extends fp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:xke[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return yke(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Ake(e,t))&&this.startObserver()}unmount(){}}function Ake({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Ske={inView:{Feature:_ke},tap:{Feature:pke},focus:{Feature:fke},hover:{Feature:dke}};function Fae(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function kB(n,e,t){const i=n.getProps();return n9(i,e,t!==void 0?t:i.custom,n)}const Df=n=>n*1e3,zh=n=>n/1e3,wke={type:"spring",stiffness:500,damping:25,restSpeed:10},Mke=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),bke={type:"keyframes",duration:.8},Eke={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cke=(n,{keyframes:e})=>e.length>2?bke:_0.has(n)?n.startsWith("scale")?Mke(e[1]):wke:Eke;function Tke({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function i9(n,e){return n[e]||n.default||n}const Rke=n=>n!==null;function zB(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(Rke),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}let QT;function Pke(){QT=void 0}const Ff={now:()=>(QT===void 0&&Ff.set(ds.isProcessing||_Ue.useManualTiming?ds.timestamp:performance.now()),QT),set:n=>{QT=n,queueMicrotask(Pke)}},Nae=n=>/^0[^.\s]+$/u.test(n);function Bke(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Nae(n):!0}let GU=Ws;const Oae=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Ike=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lke(n){const e=Ike.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Uae(n,e,t=1){const[i,r]=Lke(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return Oae(o)?parseFloat(o):o}return YG(r)?Uae(r,e,t+1):r}const Dke=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yJ=n=>n===P1||n===qt,xJ=(n,e)=>parseFloat(n.split(", ")[e]),_J=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return xJ(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?xJ(s[1],n):0}},Fke=new Set(["x","y","z"]),Nke=qM.filter(n=>!Fke.has(n));function Oke(n){const e=[];return Nke.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const e1={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:_J(4,13),y:_J(5,14)};e1.translateX=e1.x;e1.translateY=e1.y;const kae=n=>e=>e.test(n),Uke={test:n=>n==="auto",parse:n=>n},zae=[P1,qt,au,Qd,VUe,GUe,Uke],AJ=n=>zae.find(kae(n)),Tg=new Set;let VU=!1,jU=!1;function Hae(){if(jU){const n=Array.from(Tg).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=Oke(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}jU=!1,VU=!1,Tg.forEach(n=>n.complete()),Tg.clear()}function Gae(){Tg.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(jU=!0)})}function kke(){Gae(),Hae()}class r9{constructor(e,t,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Tg.add(this),VU||(VU=!0,ti.read(Gae),ti.resolveKeyframes(Hae))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Tg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Tg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const s9=(n,e)=>t=>!!($M(t)&&HUe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),Vae=(n,e,t)=>i=>{if(!$M(i))return i;const[r,s,o,a]=i.match(QG);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zke=n=>Yf(0,255,n),B3={...P1,transform:n=>Math.round(zke(n))},cg={test:s9("rgb","red"),parse:Vae("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+B3.transform(n)+", "+B3.transform(e)+", "+B3.transform(t)+", "+ES(bS.transform(i))+")"};function Hke(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const WU={test:s9("#"),parse:Hke,transform:cg.transform},Qy={test:s9("hsl","hue"),parse:Vae("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+au.transform(ES(e))+", "+au.transform(ES(t))+", "+ES(bS.transform(i))+")"},Fs={test:n=>cg.test(n)||WU.test(n)||Qy.test(n),parse:n=>cg.test(n)?cg.parse(n):Qy.test(n)?Qy.parse(n):WU.parse(n),transform:n=>$M(n)?n:n.hasOwnProperty("red")?cg.transform(n):Qy.transform(n)};function Gke(n){var e,t;return isNaN(n)&&$M(n)&&(((e=n.match(QG))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(zUe))===null||t===void 0?void 0:t.length)||0)>0}const jae="number",Wae="color",Vke="var",jke="var(",SJ="${}",Wke=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qw(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Wke,l=>(Fs.test(l)?(i.color.push(s),r.push(Wae),t.push(Fs.parse(l))):l.startsWith(jke)?(i.var.push(s),r.push(Vke),t.push(l)):(i.number.push(s),r.push(jae),t.push(parseFloat(l))),++s,SJ)).split(SJ);return{values:t,split:a,indexes:i,types:r}}function Xae(n){return qw(n).values}function Jae(n){const{split:e,types:t}=qw(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===jae?s+=ES(r[o]):a===Wae?s+=Fs.transform(r[o]):s+=r[o]}return s}}const Xke=n=>typeof n=="number"?0:n;function Jke(n){const e=Xae(n);return Jae(n)(e.map(Xke))}const Qf={test:Gke,parse:Xae,createTransformer:Jae,getAnimatableNone:Jke},Kke=new Set(["brightness","contrast","saturate","opacity"]);function Yke(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(QG)||[];if(!i)return n;const r=t.replace(i,"");let s=Kke.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const Qke=/\b([a-z-]*)\(.*?\)/gu,XU={...Qf,getAnimatableNone:n=>{const e=n.match(Qke);return e?e.map(Yke).join(" "):n}},qke={...Aae,color:Fs,backgroundColor:Fs,outlineColor:Fs,fill:Fs,stroke:Fs,borderColor:Fs,borderTopColor:Fs,borderRightColor:Fs,borderBottomColor:Fs,borderLeftColor:Fs,filter:XU,WebkitFilter:XU},o9=n=>qke[n];function Kae(n,e){let t=o9(n);return t!==XU&&(t=Qf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $ke=new Set(["auto","none","0"]);function Zke(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!$ke.has(s)&&qw(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=Kae(t,r)}class Yae extends r9{constructor(e,t,i,r){super(e,t,i,r,r==null?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),YG(c))){const h=Uae(c,t.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Dke.has(i)||e.length!==2)return;const[r,s]=e,o=AJ(r),a=AJ(s);if(o!==a)if(yJ(o)&&yJ(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)Bke(e[r])&&i.push(r);i.length&&Zke(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=e1[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=e1[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Qae(n){let e;return()=>(e===void 0&&(e=n()),e)}const wJ=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Qf.test(n)||n==="0")&&!n.startsWith("url("));function e4e(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function t4e(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=wJ(r,e),a=wJ(s,e);return!o||!a?!1:e4e(n)||t==="spring"&&i}class qae{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&kke(),this._resolved}onKeyframesResolved(e,t){this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!t4e(e,i,r,s))if(o)this.options.duration=0;else{l==null||l(zB(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,t);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...h},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function $ae(n,e){return e?n*(1e3/e):0}const n4e=5;function Zae(n,e,t){const i=Math.max(e-n4e,0);return $ae(t-n(i),e-i)}const I3=.001,i4e=.01,r4e=10,s4e=.05,o4e=1;function a4e({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s,o=1-e;o=Yf(s4e,o4e,o),n=Yf(i4e,r4e,zh(n)),o<1?(r=c=>{const h=c*o,d=h*n,p=h-t,m=JU(c,o),v=Math.exp(-d);return I3-p/m*v},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-d),x=JU(Math.pow(c,2),o);return(-r(c)+I3>0?-1:1)*((p-m)*v)/x}):(r=c=>{const h=Math.exp(-c*n),d=(c-t)*n+1;return-I3+h*d},s=c=>{const h=Math.exp(-c*n),d=(t-c)*(n*n);return h*d});const a=5/n,l=c4e(r,s,a);if(n=Df(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const l4e=12;function c4e(n,e,t){let i=t;for(let r=1;r<l4e;r++)i=i-n(i)/e(i);return i}function JU(n,e){return n*Math.sqrt(1-e*e)}const u4e=["duration","bounce"],h4e=["stiffness","damping","mass"];function MJ(n,e){return e.some(t=>n[t]!==void 0)}function d4e(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!MJ(n,h4e)&&MJ(n,u4e)){const t=a4e(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function ele({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=d4e({...i,velocity:-zh(i.velocity||0)}),m=d||0,v=l/(2*Math.sqrt(a*c)),x=s-r,y=zh(Math.sqrt(a/c)),g=Math.abs(x)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let S;if(v<1){const w=JU(y,v);S=b=>{const P=Math.exp(-v*y*b);return s-P*((m+v*y*x)/w*Math.sin(w*b)+x*Math.cos(w*b))}}else if(v===1)S=w=>s-Math.exp(-y*w)*(x+(m+y*x)*w);else{const w=y*Math.sqrt(v*v-1);S=b=>{const P=Math.exp(-v*y*b),T=Math.min(w*b,300);return s-P*((m+v*y*x)*Math.sinh(T)+w*x*Math.cosh(T))/w}}return{calculatedDuration:p&&h||null,next:w=>{const b=S(w);if(p)o.done=w>=h;else{let P=m;w!==0&&(v<1?P=Zae(S,w,b):P=0);const T=Math.abs(P)<=t,B=Math.abs(s-b)<=e;o.done=T&&B}return o.value=o.done?s:b,o}}}function bJ({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],p={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let x=t*e;const y=d+x,g=o===void 0?y:o(y);g!==y&&(x=g-d);const S=I=>-x*Math.exp(-I/i),w=I=>g+S(I),b=I=>{const R=S(I),C=w(I);p.done=Math.abs(R)<=c,p.value=p.done?g:C};let P,T;const B=I=>{m(p.value)&&(P=I,T=ele({keyframes:[p.value,v(p.value)],velocity:Zae(w,I,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return B(0),{calculatedDuration:null,next:I=>{let R=!1;return!T&&P===void 0&&(R=!0,b(I),B(I)),P!==void 0&&I>=P?T.next(I-P):(!R&&b(I),p)}}}const tle=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,f4e=1e-7,p4e=12;function m4e(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=tle(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>f4e&&++a<p4e);return o}function eb(n,e,t,i){if(n===e&&t===i)return Ws;const r=s=>m4e(s,0,1,n,t);return s=>s===0||s===1?s:tle(r(s),e,i)}const g4e=eb(.42,0,1,1),v4e=eb(0,0,.58,1),nle=eb(.42,0,.58,1),y4e=n=>Array.isArray(n)&&typeof n[0]!="number",ile=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,rle=n=>e=>1-n(1-e),a9=n=>1-Math.sin(Math.acos(n)),sle=rle(a9),x4e=ile(a9),ole=eb(.33,1.53,.69,.99),l9=rle(ole),_4e=ile(l9),A4e=n=>(n*=2)<1?.5*l9(n):.5*(2-Math.pow(2,-10*(n-1))),EJ={linear:Ws,easeIn:g4e,easeInOut:nle,easeOut:v4e,circIn:a9,circInOut:x4e,circOut:sle,backIn:l9,backInOut:_4e,backOut:ole,anticipate:A4e},CJ=n=>{if(Array.isArray(n)){GU(n.length===4);const[e,t,i,r]=n;return eb(e,t,i,r)}else if(typeof n=="string")return GU(EJ[n]!==void 0),EJ[n];return n},$w=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Fi=(n,e,t)=>n+(e-n)*t;function L3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function S4e({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=L3(l,a,n+1/3),s=L3(l,a,n),o=L3(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function C2(n,e){return t=>t>0?e:n}const D3=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},w4e=[WU,cg,Qy],M4e=n=>w4e.find(e=>e.test(n));function TJ(n){const e=M4e(n);if(!e)return!1;let t=e.parse(n);return e===Qy&&(t=S4e(t)),t}const RJ=(n,e)=>{const t=TJ(n),i=TJ(e);if(!t||!i)return C2(n,e);const r={...t};return s=>(r.red=D3(t.red,i.red,s),r.green=D3(t.green,i.green,s),r.blue=D3(t.blue,i.blue,s),r.alpha=Fi(t.alpha,i.alpha,s),cg.transform(r))},KU=new Set(["none","hidden"]);function b4e(n,e){return KU.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function E4e(n,e){return t=>Fi(n,e,t)}function c9(n){return typeof n=="number"?E4e:typeof n=="string"?YG(n)?C2:Fs.test(n)?RJ:R4e:Array.isArray(n)?ale:typeof n=="object"?Fs.test(n)?RJ:C4e:C2}function ale(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>c9(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function C4e(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=c9(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function T4e(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][r[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;i[s]=l,r[o]++}return i}const R4e=(n,e)=>{const t=Qf.createTransformer(e),i=qw(n),r=qw(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?KU.has(n)&&!r.values.length||KU.has(e)&&!i.values.length?b4e(n,e):kh(ale(T4e(i,r),r.values),t):C2(n,e)};function lle(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Fi(n,e,t):c9(n)(n,e)}function P4e(n,e,t){const i=[],r=t||lle,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ws:e;a=kh(l,a)}i.push(a)}return i}function B4e(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(GU(s===e.length),s===1)return()=>e[0];if(s===2&&n[0]===n[1])return()=>e[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=P4e(e,i,r),a=o.length,l=c=>{let h=0;if(a>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=$w(n[h],n[h+1],c);return o[h](d)};return t?c=>l(Yf(n[0],n[s-1],c)):l}function I4e(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=$w(0,e,i);n.push(Fi(t,1,r))}}function L4e(n){const e=[0];return I4e(e,n.length-1),e}function D4e(n,e){return n.map(t=>t*e)}function F4e(n,e){return n.map(()=>e||nle).splice(0,n.length-1)}function T2({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=y4e(i)?i.map(CJ):CJ(i),s={done:!1,value:e[0]},o=D4e(t&&t.length===e.length?t:L4e(e),n),a=B4e(o,e,{ease:Array.isArray(r)?r:F4e(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const PJ=2e4;function N4e(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<PJ;)e+=t,i=n.next(e);return e>=PJ?1/0:e}const O4e=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ti.update(e,!0),stop:()=>ed(e),now:()=>ds.isProcessing?ds.timestamp:Ff.now()}},U4e={decay:bJ,inertia:bJ,tween:T2,keyframes:T2,spring:ele},k4e=n=>n/100;class u9 extends qae{constructor({KeyframeResolver:e=r9,...t}){super(t),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:i,motionValue:r,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);i&&r&&r.owner?this.resolver=r.owner.resolveKeyframes(s,o,i,r):this.resolver=new e(s,o,i,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=U4e[t]||T2;let l,c;a!==T2&&typeof e[0]!="number"&&(l=kh(k4e,lle(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=N4e(h));const{calculatedDuration:d}=h,p=d+r,m=p*(i+1)-r;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:x,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?g<0:g>h;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,b=s;if(m){const I=Math.min(this.currentTime,h)/d;let R=Math.floor(I),C=I%1;!C&&I>=1&&(C=1),C===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(C=1-C,x&&(C-=x/d)):v==="mirror"&&(b=o)),w=Yf(0,1,C)*d}const P=S?{done:!1,value:l[0]}:b.next(w);a&&(P.value=a(P.value));let{done:T}=P;!S&&c!==null&&(T=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return B&&r!==void 0&&(P.value=zB(l,this.options,r)),y&&y(P.value),B&&this.finish(),P}get duration(){const{resolved:e}=this;return e?zh(e.calculatedDuration):0}get time(){return zh(this.currentTime)}set time(e){e=Df(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=zh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=O4e,onPlay:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=i),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const cle=n=>Array.isArray(n)&&typeof n[0]=="number";function ule(n){return!!(!n||typeof n=="string"&&n in h9||cle(n)||Array.isArray(n)&&n.every(ule))}const KA=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,h9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:KA([0,.65,.55,1]),circOut:KA([.55,0,1,.45]),backIn:KA([.31,.01,.66,-.59]),backOut:KA([.33,1.53,.69,.99])};function z4e(n){return hle(n)||h9.easeOut}function hle(n){if(n)return cle(n)?KA(n):Array.isArray(n)?n.map(z4e):h9[n]}function H4e(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const h=hle(a);return Array.isArray(h)&&(c.easing=h),n.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const G4e=Qae(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),V4e=new Set(["opacity","clipPath","filter","transform"]),R2=10,j4e=2e4;function W4e(n){return n.type==="spring"||n.name==="backgroundColor"||!ule(n.ease)}function X4e(n,e){const t=new u9({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<j4e;)i=t.sample(s),r.push(i.value),s+=R2;return{times:void 0,keyframes:r,duration:s-R2,ease:"linear"}}class BJ extends qae{constructor(e){super(e);const{name:t,motionValue:i,keyframes:r}=this.options;this.resolver=new Yae(r,(s,o)=>this.onKeyframesResolved(s,o),t,i),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(W4e(this.options)){const{onComplete:d,onUpdate:p,motionValue:m,...v}=this.options,x=X4e(e,v);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,o=x.ease,a="keyframes"}const h=H4e(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return h.startTime=Ff.now(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(zB(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return zh(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return zh(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Df(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ws;const{animation:i}=t;i.timeline=e,i.onfinish=null}return Ws}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(!(t.playState==="idle"||t.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:h,...d}=this.options,p=new u9({...d,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),m=Df(this.time);l.setWithVelocity(p.sample(m-R2).value,p.sample(m).value,R2)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return G4e()&&i&&V4e.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}function J4e(n,e){let t;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&n(o),t=o};return ti.update(i,!0),()=>ed(i)}const K4e=Qae(()=>window.ScrollTimeline!==void 0);class Y4e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e){const t=this.animations.map(i=>{if(K4e()&&i.attachTimeline)i.attachTimeline(e);else return i.pause(),J4e(r=>{i.time=i.duration*r},e)});return()=>{t.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const d9=(n,e,t,i={},r,s)=>o=>{const a=i9(i,n)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Df(l);let h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};Tke(a)||(h={...h,...Cke(n,h)}),h.duration&&(h.duration=Df(h.duration)),h.repeatDelay&&(h.repeatDelay=Df(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=zB(h.keyframes,a);if(p!==void 0)return ti.update(()=>{h.onUpdate(p),h.onComplete()}),new Y4e([])}return!s&&BJ.supports(h)?new BJ(h):new u9(h)};function P2(n){return!!(zs(n)&&n.add)}function f9(n,e){n.indexOf(e)===-1&&n.push(e)}function p9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class m9{constructor(){this.subscriptions=[]}add(e){return f9(this.subscriptions,e),()=>p9(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const IJ=30,Q4e=n=>!isNaN(parseFloat(n));class q4e{constructor(e,t={}){this.version="11.2.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Ff.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ff.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Q4e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new m9);const i=this.events[e].add(t);return e==="change"?()=>{i(),ti.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ff.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IJ)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,IJ);return $ae(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zw(n,e){return new q4e(n,e)}function $4e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Zw(t))}function Z4e(n,e){const t=kB(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=rke(s[o]);$4e(n,o,a)}}function dle(n){return n.getProps()[fae]}function eze({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function fle(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;const c=n.getValue("willChange");i&&(o=i);const h=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const m=n.getValue(p,(s=n.latestValues[p])!==null&&s!==void 0?s:null),v=l[p];if(v===void 0||d&&eze(d,p))continue;const x={delay:t,elapsed:0,...i9(o||{},p)};let y=!1;if(window.HandoffAppearAnimations){const S=dle(n);if(S){const w=window.HandoffAppearAnimations(S,p,m,ti);w!==null&&(x.elapsed=w,y=!0)}}m.start(d9(p,m,v,n.shouldReduceMotion&&_0.has(p)?{type:!1}:x,n,y));const g=m.animation;g&&(P2(c)&&(c.add(p),g.then(()=>c.remove(p))),h.push(g))}return a&&Promise.all(h).then(()=>{ti.update(()=>{a&&Z4e(n,a)})}),h}function YU(n,e,t={}){var i;const r=kB(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(fle(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return tze(n,e,h+c,d,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(t.delay)])}function tze(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(nze).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(YU(c,e,{...s,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function nze(n,e){return n.sortNodePosition(e)}function ize(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>YU(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=YU(n,e,t);else{const r=typeof e=="function"?kB(n,e,t.custom):e;i=Promise.all(fle(n,r,t))}return i.then(()=>{ti.postRender(()=>{n.notify("AnimationComplete",e)})})}const rze=[...XG].reverse(),sze=XG.length;function oze(n){return e=>Promise.all(e.map(({animation:t,options:i})=>ize(n,t,i)))}function aze(n){let e=oze(n);const t=cze();let i=!0;const r=l=>(c,h)=>{var d;const p=kB(n,h,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:m,transitionEnd:v,...x}=p;c={...c,...x,...v}}return c};function s(l){e=l(n)}function o(l){const c=n.getProps(),h=n.getVariantContext(!0)||{},d=[],p=new Set;let m={},v=1/0;for(let y=0;y<sze;y++){const g=rze[y],S=t[g],w=c[g]!==void 0?c[g]:h[g],b=Yw(w),P=g===l?S.isActive:null;P===!1&&(v=y);let T=w===h[g]&&w!==c[g]&&b;if(T&&i&&n.manuallyAnimateOnMount&&(T=!1),S.protectedKeys={...m},!S.isActive&&P===null||!w&&!S.prevProp||NB(w)||typeof w=="boolean")continue;let I=lze(S.prevProp,w)||g===l&&S.isActive&&!T&&b||y>v&&b,R=!1;const C=Array.isArray(w)?w:[w];let N=C.reduce(r(g),{});P===!1&&(N={});const{prevResolvedValues:j={}}=S,W={...j,...N},X=Q=>{I=!0,p.has(Q)&&(R=!0,p.delete(Q)),S.needsAnimating[Q]=!0;const Y=n.getValue(Q);Y&&(Y.liveStyle=!1)};for(const Q in W){const Y=N[Q],ie=j[Q];if(m.hasOwnProperty(Q))continue;let D=!1;zU(Y)&&zU(ie)?D=!Fae(Y,ie):D=Y!==ie,D?Y!=null?X(Q):p.add(Q):Y!==void 0&&p.has(Q)?X(Q):S.protectedKeys[Q]=!0}S.prevProp=w,S.prevResolvedValues=N,S.isActive&&(m={...m,...N}),i&&n.blockInitialAnimation&&(I=!1),I&&(!T||R)&&d.push(...C.map(Q=>({animation:Q,options:{type:g}})))}if(p.size){const y={};p.forEach(g=>{const S=n.getBaseTarget(g),w=n.getValue(g);w&&(w.liveStyle=!0),y[g]=S??null}),d.push({animation:y})}let x=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(d):Promise.resolve()}function a(l,c){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const d=o(l);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function lze(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Fae(e,n):!1}function Am(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cze(){return{animate:Am(!0),whileInView:Am(),whileHover:Am(),whileTap:Am(),whileDrag:Am(),whileFocus:Am(),exit:Am()}}class uze extends fp{constructor(e){super(e),e.animationState||(e.animationState=aze(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),NB(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let hze=0;class dze extends fp{constructor(){super(...arguments),this.id=hze++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fze={animation:{Feature:uze},exit:{Feature:dze}},LJ=(n,e)=>Math.abs(n-e);function pze(n,e){const t=LJ(n.x,e.x),i=LJ(n.y,e.y);return Math.sqrt(t**2+i**2)}class ple{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=N3(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=pze(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=d,{timestamp:x}=ds;this.history.push({...v,timestamp:x});const{onStart:y,onMove:g}=this.handlers;p||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=F3(p,this.transformPagePoint),ti.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=N3(d.type==="pointercancel"?this.lastMoveEventInfo:F3(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),v&&v(d,y)},!Pae(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=UB(e),a=F3(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ds;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=t;h&&h(e,N3(a,this.history)),this.removeListeners=kh(Uh(this.contextWindow,"pointermove",this.handlePointerMove),Uh(this.contextWindow,"pointerup",this.handlePointerUp),Uh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ed(this.updatePoint)}}function F3(n,e){return e?{point:e(n.point)}:n}function DJ(n,e){return{x:n.x-e.x,y:n.y-e.y}}function N3({point:n},e){return{point:n,delta:DJ(n,mle(e)),offset:DJ(n,mze(e)),velocity:gze(e,.1)}}function mze(n){return n[0]}function mle(n){return n[n.length-1]}function gze(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=mle(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Df(e)));)t--;if(!i)return{x:0,y:0};const s=zh(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ca(n){return n.max-n.min}function QU(n,e=0,t=.01){return Math.abs(n-e)<=t}function FJ(n,e,t,i=.5){n.origin=i,n.originPoint=Fi(e.min,e.max,n.origin),n.scale=Ca(t)/Ca(e),(QU(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Fi(t.min,t.max,n.origin)-n.originPoint,(QU(n.translate)||isNaN(n.translate))&&(n.translate=0)}function CS(n,e,t,i){FJ(n.x,e.x,t.x,i?i.originX:void 0),FJ(n.y,e.y,t.y,i?i.originY:void 0)}function NJ(n,e,t){n.min=t.min+e.min,n.max=n.min+Ca(e)}function vze(n,e,t){NJ(n.x,e.x,t.x),NJ(n.y,e.y,t.y)}function OJ(n,e,t){n.min=e.min-t.min,n.max=n.min+Ca(e)}function TS(n,e,t){OJ(n.x,e.x,t.x),OJ(n.y,e.y,t.y)}function yze(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Fi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Fi(t,n,i.max):Math.min(n,t)),n}function UJ(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function xze(n,{top:e,left:t,bottom:i,right:r}){return{x:UJ(n.x,t,r),y:UJ(n.y,e,i)}}function kJ(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function _ze(n,e){return{x:kJ(n.x,e.x),y:kJ(n.y,e.y)}}function Aze(n,e){let t=.5;const i=Ca(n),r=Ca(e);return r>i?t=$w(e.min,e.max-i,n.min):i>r&&(t=$w(n.min,n.max-r,e.min)),Yf(0,1,t)}function Sze(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const qU=.35;function wze(n=qU){return n===!1?n=0:n===!0&&(n=qU),{x:zJ(n,"left","right"),y:zJ(n,"top","bottom")}}function zJ(n,e,t){return{min:HJ(n,e),max:HJ(n,t)}}function HJ(n,e){return typeof n=="number"?n:n[e]||0}const GJ=()=>({translate:0,scale:1,origin:0,originPoint:0}),qy=()=>({x:GJ(),y:GJ()}),VJ=()=>({min:0,max:0}),nr=()=>({x:VJ(),y:VJ()});function tl(n){return[n("x"),n("y")]}function gle({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Mze({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function bze(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function O3(n){return n===void 0||n===1}function $U({scale:n,scaleX:e,scaleY:t}){return!O3(n)||!O3(e)||!O3(t)}function Nm(n){return $U(n)||vle(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function vle(n){return jJ(n.x)||jJ(n.y)}function jJ(n){return n&&n!=="0%"}function B2(n,e,t){const i=n-t,r=e*i;return t+r}function WJ(n,e,t,i,r){return r!==void 0&&(n=B2(n,r,i)),B2(n,t,i)+e}function ZU(n,e=0,t=1,i,r){n.min=WJ(n.min,e,t,i,r),n.max=WJ(n.max,e,t,i,r)}function yle(n,{x:e,y:t}){ZU(n.x,e.translate,e.scale,e.originPoint),ZU(n.y,t.translate,t.scale,t.originPoint)}function Eze(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$y(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yle(n,o)),i&&Nm(s.latestValues)&&$y(n,s.latestValues))}e.x=XJ(e.x),e.y=XJ(e.y)}function XJ(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function nf(n,e){n.min=n.min+e,n.max=n.max+e}function JJ(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Fi(n.min,n.max,s);ZU(n,e[t],e[i],o,e.scale)}const Cze=["x","scaleX","originX"],Tze=["y","scaleY","originY"];function $y(n,e){JJ(n.x,e,Cze),JJ(n.y,e,Tze)}function xle(n,e){return gle(bze(n.getBoundingClientRect(),e))}function Rze(n,e,t){const i=xle(n,t),{scroll:r}=e;return r&&(nf(i.x,r.offset.x),nf(i.y,r.offset.y)),i}const _le=({current:n})=>n?n.ownerDocument.defaultView:null,Pze=new WeakMap;class Bze{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(UB(h,"page").point)},s=(h,d)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Iae(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tl(y=>{let g=this.getAxisMotionValue(y).get()||0;if(au.test(g)){const{projection:S}=this.visualElement;if(S&&S.layout){const w=S.layout.layoutBox[y];w&&(g=Ca(w)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&ti.postRender(()=>v(h,d));const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=Ize(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),x&&x(h,d)},a=(h,d)=>this.stop(h,d),l=()=>tl(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ple(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_le(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ti.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!nT(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=yze(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Yy(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xze(r.layoutBox,t):this.constraints=!1,this.elastic=wze(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Sze(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Yy(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Rze(i,r.root,this.visualElement.getTransformPagePoint());let o=_ze(r.layout.layoutBox,s);if(t){const a=t(Mze(o));this.hasMutatedConstraints=!!a,a&&(o=gle(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=tl(h=>{if(!nT(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(d9(e,i,0,t,this.visualElement))}stopAnimation(){tl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tl(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){tl(t=>{const{drag:i}=this.getProps();if(!nT(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Fi(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Yy(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};tl(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=Aze({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tl(o=>{if(!nT(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fi(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Pze.set(this.visualElement,this);const e=this.visualElement.current,t=Uh(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Yy(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Eh(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(tl(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=qU,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nT(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Ize(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Lze extends fp{constructor(e){super(e),this.removeGroupControls=Ws,this.removeListeners=Ws,this.controls=new Bze(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const KJ=n=>(e,t)=>{n&&ti.postRender(()=>n(e,t))};class Dze extends fp{constructor(){super(...arguments),this.removePointerDownListener=Ws}onPointerDown(e){this.session=new ple(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_le(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:KJ(e),onStart:KJ(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ti.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Uh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Fze(){const n=he.useContext(GG);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=he.useId();return he.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const qT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YJ(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const IA={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(qt.test(n))n=parseFloat(n);else return n;const t=YJ(n,e.target.x),i=YJ(n,e.target.y);return`${t}% ${i}%`}},Nze={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Qf.parse(n);if(r.length>5)return i;const s=Qf.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Fi(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class Oze extends he.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;LUe(Uze),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ti.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),WG.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ale(n){const[e,t]=Fze(),i=he.useContext(gae);return Be.jsx(Oze,{...n,layoutGroup:i,switchLayoutGroup:he.useContext(vae),isPresent:e,safeToRemove:t})}const Uze={borderRadius:{...IA,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:IA,borderTopRightRadius:IA,borderBottomLeftRadius:IA,borderBottomRightRadius:IA,boxShadow:Nze},Sle=["TopLeft","TopRight","BottomLeft","BottomRight"],kze=Sle.length,QJ=n=>typeof n=="string"?parseFloat(n):n,qJ=n=>typeof n=="number"||qt.test(n);function zze(n,e,t,i,r,s){r?(n.opacity=Fi(0,t.opacity!==void 0?t.opacity:1,Hze(i)),n.opacityExit=Fi(e.opacity!==void 0?e.opacity:1,0,Gze(i))):s&&(n.opacity=Fi(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<kze;o++){const a=`border${Sle[o]}Radius`;let l=$J(e,a),c=$J(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||qJ(l)===qJ(c)?(n[a]=Math.max(Fi(QJ(l),QJ(c),i),0),(au.test(c)||au.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Fi(e.rotate||0,t.rotate||0,i))}function $J(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Hze=wle(0,.5,sle),Gze=wle(.5,.95,Ws);function wle(n,e,t){return i=>i<n?0:i>e?1:t($w(n,e,i))}function ZJ(n,e){n.min=e.min,n.max=e.max}function Za(n,e){ZJ(n.x,e.x),ZJ(n.y,e.y)}function eK(n,e,t,i,r){return n-=e,n=B2(n,1/t,i),r!==void 0&&(n=B2(n,1/r,i)),n}function Vze(n,e=0,t=1,i=.5,r,s=n,o=n){if(au.test(e)&&(e=parseFloat(e),e=Fi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fi(s.min,s.max,i);n===s&&(a-=e),n.min=eK(n.min,e,t,a,r),n.max=eK(n.max,e,t,a,r)}function tK(n,e,[t,i,r],s,o){Vze(n,e[t],e[i],e[r],e.scale,s,o)}const jze=["x","scaleX","originX"],Wze=["y","scaleY","originY"];function nK(n,e,t,i){tK(n.x,e,jze,t?t.x:void 0,i?i.x:void 0),tK(n.y,e,Wze,t?t.y:void 0,i?i.y:void 0)}function iK(n){return n.translate===0&&n.scale===1}function Mle(n){return iK(n.x)&&iK(n.y)}function Xze(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function ble(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function rK(n){return Ca(n.x)/Ca(n.y)}class Jze{constructor(){this.members=[]}add(e){f9(this.members,e),e.scheduleRender()}remove(e){if(p9(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sK(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:m,skewY:v}=t;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Kze=(n,e)=>n.depth-e.depth;class Yze{constructor(){this.children=[],this.isDirty=!1}add(e){f9(this.children,e),this.isDirty=!0}remove(e){p9(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kze),this.isDirty=!1,this.children.forEach(e)}}function Qze(n,e){const t=Ff.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(ed(i),n(s-e))};return ti.read(i,!0),()=>ed(i)}function qze(n){window.MotionDebug&&window.MotionDebug.record(n)}function $ze(n){return n instanceof SVGElement&&n.tagName!=="svg"}function Zze(n,e,t){const i=zs(n)?n:Zw(n);return i.start(d9("",i,e,t)),i.animation}const U3=["","X","Y","Z"],eHe={visibility:"hidden"},oK=1e3;let tHe=0;const Om={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function k3(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Ele(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return!1;const{visualElement:e}=n.options;return e?dle(e)?!0:n.parent&&!n.parent.hasCheckedOptimisedAppear?Ele(n.parent):!1:!1}function Cle({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=tHe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Om.totalNodes=Om.resolvedTargetDeltas=Om.recalculatedProjection=0,this.nodes.forEach(rHe),this.nodes.forEach(cHe),this.nodes.forEach(uHe),this.nodes.forEach(sHe),qze(Om)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yze)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new m9),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$ze(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Qze(p,250),qT.hasAnimatedSinceResize&&(qT.hasAnimatedSinceResize=!1,this.nodes.forEach(lK))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||mHe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=h.getProps(),S=!this.targetLayout||!ble(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const b={...i9(x,"layout"),onPlay:y,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||lK(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ed(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hHe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&Ele(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aK);return}this.isUpdating||this.nodes.forEach(aHe),this.isUpdating=!1,this.nodes.forEach(lHe),this.nodes.forEach(nHe),this.nodes.forEach(iHe),this.clearAllSnapshots();const a=Ff.now();ds.delta=Yf(0,1e3/60,a-ds.timestamp),ds.timestamp=a,ds.isProcessing=!0,T3.update.process(ds),T3.preRender.process(ds),T3.render.process(ds),ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,WG.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oHe),this.sharedNodes.forEach(dHe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ti.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ti.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Mle(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Nm(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gHe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return nr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(nf(a.x,l.offset.x),nf(a.y,l.offset.y)),a}removeElementScroll(o){const a=nr();Za(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){Za(a,o);const{scroll:p}=this.root;p&&(nf(a.x,-p.offset.x),nf(a.y,-p.offset.y))}nf(a.x,h.offset.x),nf(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=nr();Za(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&$y(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Nm(h.latestValues)&&$y(l,h.latestValues)}return Nm(this.latestValues)&&$y(l,this.latestValues),l}removeTransform(o){const a=nr();Za(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Nm(c.latestValues))continue;$U(c.latestValues)&&c.updateSnapshot();const h=nr(),d=c.measurePageBox();Za(h,d),nK(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Nm(this.latestValues)&&nK(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ds.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),TS(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vze(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Za(this.target,this.layout.layoutBox),yle(this.target,this.targetDelta)):Za(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),TS(this.relativeTargetOrigin,this.target,m.target),Za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Om.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$U(this.parent.latestValues)||vle(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ds.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Za(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Eze(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=nr());const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=qy(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qy(),this.projectionDeltaWithTransform=qy());const x=this.projectionTransform;CS(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=sK(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Om.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=qy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=nr(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,y=this.getStack(),g=!y||y.members.length<=1,S=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(pHe));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const P=b/1e3;cK(d.x,o.x,P),cK(d.y,o.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(TS(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fHe(this.relativeTarget,this.relativeTargetOrigin,p,P),w&&Xze(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=nr()),Za(w,this.relativeTarget)),x&&(this.animationValues=h,zze(h,c,this.latestValues,P,S,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ed(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ti.update(()=>{qT.hasAnimatedSinceResize=!0,this.currentAnimation=Zze(0,oK,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Tle(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||nr();const d=Ca(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Ca(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Za(a,l),$y(a,h),CS(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Jze),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&k3("z",o,c,this.animationValues);for(let h=0;h<U3.length;h++)k3(`rotate${U3[h]}`,o,c,this.animationValues),k3(`skew${U3[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eHe;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=YT(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=YT(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Nm(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=sK(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in b2){if(p[x]===void 0)continue;const{correct:y,applyTo:g}=b2[x],S=c.transform==="none"?p[x]:y(p[x],d);if(g){const w=g.length;for(let b=0;b<w;b++)c[g[b]]=S}else c[x]=S}return this.options.layoutId&&(c.pointerEvents=d===this?YT(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(aK),this.root.sharedNodes.clear()}}}function nHe(n){n.updateLayout()}function iHe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?tl(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Ca(p);p.min=i[d].min,p.max=p.min+m}):Tle(s,t.layoutBox,i)&&tl(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Ca(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=qy();CS(a,i,t.layoutBox);const l=qy();o?CS(l,n.applyTransform(r,!0),t.measuredBox):CS(l,i,t.layoutBox);const c=!Mle(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=nr();TS(v,t.layoutBox,p.layoutBox);const x=nr();TS(x,i,m.layoutBox),ble(v,x)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function rHe(n){Om.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function sHe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function oHe(n){n.clearSnapshot()}function aK(n){n.clearMeasurements()}function aHe(n){n.isLayoutDirty=!1}function lHe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function lK(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function cHe(n){n.resolveTargetDelta()}function uHe(n){n.calcProjection()}function hHe(n){n.resetSkewAndRotation()}function dHe(n){n.removeLeadSnapshot()}function cK(n,e,t){n.translate=Fi(e.translate,0,t),n.scale=Fi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function uK(n,e,t,i){n.min=Fi(e.min,t.min,i),n.max=Fi(e.max,t.max,i)}function fHe(n,e,t,i){uK(n.x,e.x,t.x,i),uK(n.y,e.y,t.y,i)}function pHe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const mHe={duration:.45,ease:[.4,0,.1,1]},hK=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),dK=hK("applewebkit/")&&!hK("chrome/")?Math.round:Ws;function fK(n){n.min=dK(n.min),n.max=dK(n.max)}function gHe(n){fK(n.x),fK(n.y)}function Tle(n,e,t){return n==="position"||n==="preserve-aspect"&&!QU(rK(e),rK(t),.2)}const vHe=Cle({attachResizeListener:(n,e)=>Eh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),z3={current:void 0},Rle=Cle({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!z3.current){const n=new vHe({});n.mount(window),n.setOptions({layoutScroll:!0}),z3.current=n}return z3.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),yHe={pan:{Feature:Dze},drag:{Feature:Lze,ProjectionNode:Rle,MeasureLayout:Ale}},ek={current:null},Ple={current:!1};function xHe(){if(Ple.current=!0,!!VG)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ek.current=n.matches;n.addListener(e),e()}else ek.current=!1}function _He(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(zs(s))n.addValue(r,s),P2(i)&&i.add(r);else if(zs(o))n.addValue(r,Zw(s,{owner:n})),P2(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Zw(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const pK=new WeakMap,AHe=[...zae,Fs,Qf],SHe=n=>AHe.find(kae(n)),Ble=Object.keys(Qw),wHe=Ble.length,mK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],MHe=JG.length;function Ile(n){if(n)return n.options.allowProjection!==!1?n.projection:Ile(n.parent)}class bHe{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(p,m,v,x)=>new this.KeyframeResolver(p,m,v,x,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r9,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ti.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=OB(t),this.isVariantNode=mae(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in d){const m=d[p];l[p]!==void 0&&zs(m)&&(m.set(l[p],!1),P2(h)&&h.add(p))}}mount(e){this.current=e,pK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Ple.current||xHe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ek.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;pK.delete(this.current),this.projection&&this.projection.unmount(),ed(this.notifyUpdate),ed(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)(e=this.features[t])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,t){const i=_0.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ti.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<wHe;l++){const c=Ble[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=Qw[c];p&&(o=p),h(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection=new o(this.latestValues,t["data-framer-portal-id"]?void 0:Ile(this.parent)),this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Yy(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<mK.length;i++){const r=mK[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=_He(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<MHe;i++){const r=JG[i],s=this.props[r];(Yw(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Zw(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Oae(r)||Nae(r))?r=parseFloat(r):!SHe(r)&&Qf.test(t)&&(r=Kae(e,t)),this.setBaseTarget(e,zs(r)?r.get():r)),zs(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=n9(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!zs(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new m9),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Lle extends bHe{constructor(){super(...arguments),this.KeyframeResolver=Yae}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}}function EHe(n){return window.getComputedStyle(n)}class CHe extends Lle{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(_0.has(t)){const i=o9(t);return i&&i.default||0}else{const i=EHe(e),r=(_ae(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return xle(e,t)}build(e,t,i,r){qG(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return t9(e,t,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){bae(e,t,i,r)}}class THe extends Lle{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_0.has(t)){const i=o9(t);return i&&i.default||0}return t=Eae.has(t)?t:jG(t),e.getAttribute(t)}measureInstanceViewportBox(){return nr()}scrapeMotionValuesFromProps(e,t,i){return Tae(e,t,i)}build(e,t,i,r){ZG(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){Cae(e,t,i,r)}mount(e){this.isSVGTag=e9(e.tagName),super.mount(e)}}const RHe=(n,e)=>KG(n)?new THe(e,{enableHardwareAcceleration:!1}):new CHe(e,{allowProjection:n!==he.Fragment,enableHardwareAcceleration:!0}),PHe={layout:{ProjectionNode:Rle,MeasureLayout:Ale}},BHe={...fze,...Ske,...yHe,...PHe},Ta=BUe((n,e)=>cke(n,e,BHe,RHe)),Hs={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},IHe=()=>Be.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[Be.jsxs("div",{className:`${Hs.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[Be.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[Be.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915eff]"}),Be.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),Be.jsxs("div",{children:[Be.jsxs("h1",{className:`${Hs.heroHeadText} text-white`,children:[" Hello there! I'm ",Be.jsx("span",{className:"text-[#915eff]",children:"Divyarajsinh."})]}),Be.jsx("p",{className:`${Hs.heroSubText} mt-2 text-white-100`,children:"I am in love with CS!"})]})]}),Be.jsx(mUe,{}),Be.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:Be.jsx("a",{href:"#about",children:Be.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:Be.jsx(Ta.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),LHe="/assets/logo-CaBZvlbM.png",DHe="/assets/backend-hTXvHAtb.png",FHe="/assets/creator-B3dXWOt8.png",NHe="/assets/mobile-DOyYxxYf.png",OHe="/assets/web-08ko_qNY.png",UHe="/assets/github-BUfx7uqA.png",kHe="data:image/svg+xml,%3csvg%20width='20'%20height='12'%20viewBox='0%200%2020%2012'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202L19%202C19.2652%202%2019.5196%201.89464%2019.7071%201.70711C19.8946%201.51957%2020%201.26522%2020%201C20%200.734784%2019.8946%200.480429%2019.7071%200.292892C19.5196%200.105356%2019.2652%200%2019%200L9%200C8.73478%200%208.48043%200.105356%208.29289%200.292892C8.10536%200.480429%208%200.734784%208%201C8%201.26522%208.10536%201.51957%208.29289%201.70711C8.48043%201.89464%208.73478%202%209%202ZM19%2010L1%2010C0.734784%2010%200.480429%2010.1054%200.292892%2010.2929C0.105356%2010.4804%200%2010.7348%200%2011C0%2011.2652%200.105356%2011.5196%200.292892%2011.7071C0.480429%2011.8946%200.734784%2012%201%2012L19%2012C19.2652%2012%2019.5196%2011.8946%2019.7071%2011.7071C19.8946%2011.5196%2020%2011.2652%2020%2011C20%2010.7348%2019.8946%2010.4804%2019.7071%2010.2929C19.5196%2010.1054%2019.2652%2010%2019%2010V10ZM1%207L19%207C19.2652%207%2019.5196%206.89464%2019.7071%206.70711C19.8946%206.51957%2020%206.26522%2020%206C20%205.73478%2019.8946%205.48043%2019.7071%205.29289C19.5196%205.10536%2019.2652%205%2019%205L1%205C0.734784%205%200.480429%205.10536%200.292892%205.29289C0.105356%205.48043%200%205.73478%200%206C0%206.26522%200.105356%206.51957%200.292892%206.70711C0.480429%206.89464%200.734784%207%201%207Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",zHe="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4099%209L16.7099%202.71C16.8982%202.5217%2017.004%202.2663%2017.004%202C17.004%201.7337%2016.8982%201.47831%2016.7099%201.29C16.5216%201.1017%2016.2662%200.995911%2015.9999%200.995911C15.7336%200.995911%2015.4782%201.1017%2015.2899%201.29L8.99994%207.59L2.70994%201.29C2.52164%201.1017%202.26624%200.995911%201.99994%200.995911C1.73364%200.995911%201.47824%201.1017%201.28994%201.29C1.10164%201.47831%200.995847%201.7337%200.995847%202C0.995847%202.2663%201.10164%202.5217%201.28994%202.71L7.58994%209L1.28994%2015.29C1.19621%2015.383%201.12182%2015.4936%201.07105%2015.6154C1.02028%2015.7373%200.994141%2015.868%200.994141%2016C0.994141%2016.132%201.02028%2016.2627%201.07105%2016.3846C1.12182%2016.5064%201.19621%2016.617%201.28994%2016.71C1.3829%2016.8037%201.4935%2016.8781%201.61536%2016.9289C1.73722%2016.9797%201.86793%2017.0058%201.99994%2017.0058C2.13195%2017.0058%202.26266%2016.9797%202.38452%2016.9289C2.50638%2016.8781%202.61698%2016.8037%202.70994%2016.71L8.99994%2010.41L15.2899%2016.71C15.3829%2016.8037%2015.4935%2016.8781%2015.6154%2016.9289C15.7372%2016.9797%2015.8679%2017.0058%2015.9999%2017.0058C16.132%2017.0058%2016.2627%2016.9797%2016.3845%2016.9289C16.5064%2016.8781%2016.617%2016.8037%2016.7099%2016.71C16.8037%2016.617%2016.8781%2016.5064%2016.9288%2016.3846C16.9796%2016.2627%2017.0057%2016.132%2017.0057%2016C17.0057%2015.868%2016.9796%2015.7373%2016.9288%2015.6154C16.8781%2015.4936%2016.8037%2015.383%2016.7099%2015.29L10.4099%209Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",HHe="/assets/css-DlZE0Yf0.png",GHe="/assets/docker-DrQKSZ7f.png",VHe="/assets/figma-V-jssYD-.png",jHe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",WHe="/assets/html-BlhLRGzY.png",XHe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",JHe="/assets/mongodb-DnU9EL9s.png",KHe="/assets/nodejs-BctxLIqp.png",YHe="/assets/reactjs-LYxsbuPE.png",QHe="/assets/tailwind-CLR6e3yI.png",qHe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20fill='none'%20stroke-linecap='square'%20stroke-miterlimit='10'%20version='1.1'%20viewBox='0%200%20226.77%20226.77'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='translate(8.964%204.2527)'%20fill-rule='evenodd'%20stroke='%23000'%20stroke-linecap='butt'%20stroke-linejoin='round'%20stroke-width='4'%3e%3cpath%20d='m63.02%20200.61-43.213-174.94%20173.23%2049.874z'/%3e%3cpath%20d='m106.39%2050.612%2021.591%2087.496-86.567-24.945z'/%3e%3cpath%20d='m84.91%20125.03-10.724-43.465%2043.008%2012.346z'/%3e%3cpath%20d='m63.458%2038.153%2010.724%2043.465-43.008-12.346z'/%3e%3cpath%20d='m149.47%2062.93%2010.724%2043.465-43.008-12.346z'/%3e%3cpath%20d='m84.915%20125.06%2010.724%2043.465-43.008-12.346z'/%3e%3c/g%3e%3c/svg%3e",$He="/assets/COE-B6bS9TU8.png",ZHe="/assets/sglogo-BUPXZsxl.png",gK="/assets/USF-3CeHFK67.png",eGe="/assets/OpenCVShow-DPTlN3Uq.png",tGe="/assets/DNSFinalProjectShow-CjBxPh0q.png",nGe="/assets/PortfolioWebsiteShow-vIswDXxw.png",iGe="/assets/LinkedInLogo-WTsSmV9f.png",rGe="/assets/GithubLogo-hJjCtujl.png",vK=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"},{id:"linkedin",title:"LinkedIn",href:"https://www.linkedin.com/in/dkarmariya/",imgSrc:iGe},{id:"github",title:"GitHub",href:"https://github.com/Iamdk25",imgSrc:rGe}],sGe=[{title:"Web Developer",icon:OHe},{title:"React Native Developer",icon:NHe},{title:"iOS Developer",icon:DHe},{title:"Interactive Dashboard Designer",icon:FHe}],oGe=[{name:"HTML 5",icon:WHe},{name:"CSS 3",icon:HHe},{name:"JavaScript",icon:XHe},{name:"React JS",icon:YHe},{name:"Tailwind CSS",icon:QHe},{name:"Node JS",icon:KHe},{name:"MongoDB",icon:JHe},{name:"Three JS",icon:qHe},{name:"git",icon:jHe},{name:"figma",icon:VHe},{name:"docker",icon:GHe}],aGe=[{title:"Procurement Card Student Assistant",company_name:"College of Engineering - Resource Management",icon:$He,iconBg:"#008631",date:"September 2023 - Present",points:["Conducting PCard verifications for 350+ professors, and maintaining financial resource management at ERM.","Collaborating with JP Morgan and Chase and decrease statement processing time by 10%.","Assisting in reconciling bank statements for professors, and managing multiple budgets across several departments."]},{title:"Campus Council Representative",company_name:"USF Student Government",icon:ZHe,iconBg:"#E6DEDD",date:"May 2023 - Sept 2023",points:["Overlooked 1000+ student organization interim budget requests, travel grants, events requests, for etc.","Ensured smooth conduct of fund distribution and fair assessment to all organizations.","Validated the safe and fair conduct of elections while adhering to both ethical codes and procedural norms."]},{title:"Peer Mentor",company_name:"ACE, Office of Undergraduate Studies",icon:gK,iconBg:"#383E56",date:"May 2023 - Present",points:["Conducted group meetings with 30+ students and provided them with necessary information to succeed in college.","Hosted office hours and offered 1 on 1 mentorship for student facing academic challenges.","Gained valuable crowd management abilities and cultivated crucial leadership and mentoring skills."]},{title:"Student Housing Assistant",company_name:"Housing and Residential Education, USF",icon:gK,iconBg:"#E6DEDD",date:"April 2023 - Present",points:["Acted as a first line of response by ensuring the safety of students by conducting safe management of keys and access cards.","Created a positive residential experience for students, guests, and visitors.","Handled over 150 packages and mails per day at the campus mailing center."]}],lGe=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but Rick proved me wrong.",name:"Sara Lee",designation:"CFO",company:"Acme Co",image:"https://randomuser.me/api/portraits/women/4.jpg"},{testimonial:"I've never met a web developer who truly cares about their clients' success like Rick does.",name:"Chris Brown",designation:"COO",company:"DEF Corp",image:"https://randomuser.me/api/portraits/men/5.jpg"},{testimonial:"After Rick optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Lisa Wang",designation:"CTO",company:"456 Enterprises",image:"https://randomuser.me/api/portraits/women/6.jpg"}],cGe=[{name:"Python-Based Object Detector Using OpenCV",description:"An advanced Python-based object detection system for images and videos using OpenCV and GoogleNet Frameworks.",tags:[{name:"Python",color:"blue-text-gradient"},{name:"OpenCV",color:"green-text-gradient"},{name:"Machine Learning",color:"pink-text-gradient"}],image:eGe,source_code_link:"https://github.com/Iamdk25/Open-CV-Python-project"},{name:"Parking & Offense Management System",description:"A project to manage, and keep track of all the final parking citation appeals that come to the USF Student Government Supreme Court.",tags:[{name:"DataStructures",color:"blue-text-gradient"},{name:"BFSDFS",color:"green-text-gradient"},{name:"C++",color:"pink-text-gradient"}],image:tGe,source_code_link:"https://github.com/Iamdk25/DNS_Final_Project"},{name:"Personal 3D Portfolio Website",description:"A visually striking 3D portfolio website that showcases my skills and projects using 3D environments, rendering, camera controls and advanced lighting effects.",tags:[{name:"threeJS",color:"blue-text-gradient"},{name:"ReactJS",color:"green-text-gradient"},{name:"TailwindCSS",color:"pink-text-gradient"}],image:nGe,source_code_link:"https://github.com/"}],uGe=()=>{const[n,e]=he.useState(""),[t,i]=he.useState(!1),[r,s]=he.useState(window.scrollY),[o,a]=he.useState(!0),l=()=>{const c=window.scrollY,h=r>c||c<10;a(h),s(c)};return he.useEffect(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[r,o]),Be.jsx("nav",{className:`px-4 md:px-8 w-full flex items-center py-5 fixed top-0 z-20 transition-opacity duration-300 ${o?"opacity-100":"opacity-0 h-0"}`,children:Be.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[Be.jsxs(i2e,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[Be.jsx("img",{src:LHe,alt:"logo",style:{cursor:"pointer",width:"50px",height:"50px"}}),Be.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["Divyarajsinh Karmariya  ",Be.jsx("span",{className:"sm:block hidden",children:" | Software Developer"})]})]}),Be.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:vK.map(c=>Be.jsx("li",{className:`${n===c.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(c.title),children:c.imgSrc?Be.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:Be.jsx("img",{src:c.imgSrc,alt:c.title,style:{position:"relative",top:"-15px",width:"53px",height:"50px"}})}):Be.jsx("a",{href:`#${c.id}`,children:c.title})},c.id))}),Be.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[Be.jsx("img",{src:t?zHe:kHe,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>i(!t)}),Be.jsx("div",{className:`${t?"flex":"hidden"} p-6 background-gradient bg-tertiary rounded-2xl absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-2xl`,children:Be.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:vK.map(c=>Be.jsx("li",{className:`${n===c.title?"text-white":"text-secondary"} font-poppins font-medium cursor-pointer text-[16px]`,onClick:()=>{i(!t),e(c.title)},children:c.imgSrc?Be.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:Be.jsx("img",{src:c.imgSrc,alt:c.title,style:{position:"relative",left:"6px",width:"30px",height:"30px"}})}):Be.jsx("a",{href:`#${c.id}`,children:c.title})},c.id))})})]})]})})};var hGe=Object.defineProperty,dGe=Object.defineProperties,fGe=Object.getOwnPropertyDescriptors,yK=Object.getOwnPropertySymbols,pGe=Object.prototype.hasOwnProperty,mGe=Object.prototype.propertyIsEnumerable,xK=(n,e,t)=>e in n?hGe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,LA=(n,e)=>{for(var t in e||(e={}))pGe.call(e,t)&&xK(n,t,e[t]);if(yK)for(var t of yK(e))mGe.call(e,t)&&xK(n,t,e[t]);return n},DA=(n,e)=>dGe(n,fGe(e)),Dle=class extends he.Component{constructor(n){super(n),this.ref=Qc.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:DA(LA({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:DA(LA({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:DA(LA({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:DA(LA({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=i*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:DA(LA({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return Be.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const HB=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),tb=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),_K=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),gGe=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),B1=(n,e)=>function(){return Be.jsxs(Ta.section,{variants:gGe(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Hs.padding} max-w-7xl mx-auto relative z-0`,children:[Be.jsx("span",{className:"hash-span",id:e,children:" "}),Be.jsx(n,{})]})},vGe=({index:n,title:e,icon:t})=>Be.jsx(Dle,{className:"xs:w-[250px] w-full",children:Be.jsx(Ta.div,{variants:tb("right","spring",n*.5,.5),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:Be.jsxs("div",{options:{max:90,scale:100,speed:1e3},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[Be.jsx("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),Be.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),yGe=()=>Be.jsxs(Be.Fragment,{children:[Be.jsxs(Ta.div,{variants:HB(),children:[Be.jsx("p",{className:`${Hs.sectionHeadText} text-center`,children:"Introduction"}),Be.jsx("h2",{className:`${Hs.sectionSubText} mt-4 text-center`,children:"Overview"})]}),Be.jsx(Ta.p,{variants:tb("","",.1,1),className:"mt-4 text-secondary text-center text-[17px] max-w-10xl leading-[30px]",children:"I am a Computer Science student. I love to code. I have done projects on multiple platforms."}),Be.jsx("div",{className:"mt-20 flex flex-wrap gap-10",children:sGe.map((n,e)=>Be.jsx(vGe,{index:e,...n},e))})]}),xGe=B1(yGe,"about"),_Ge=()=>Be.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:oGe.map(n=>Be.jsx("div",{className:"w-28 h-28",children:Be.jsx(fUe,{icon:n.icon})},n.name))}),AGe=B1(_Ge,"");var GB={},Fle={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Fle);var g9=Fle.exports;const tk=HP(g9);GB.__esModule=!0;GB.default=void 0;var SGe=v9(he),Jd=v9(uae),wGe=v9(g9);function v9(n){return n&&n.__esModule?n:{default:n}}const Nle=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),SGe.default.createElement("div",{className:(0,wGe.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));Nle.propTypes={children:Jd.default.oneOfType([Jd.default.arrayOf(Jd.default.node),Jd.default.node]).isRequired,className:Jd.default.string,animate:Jd.default.bool,layout:Jd.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Jd.default.string};var MGe=Nle;GB.default=MGe;var VB={};function nk(){return nk=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nk.apply(this,arguments)}function bGe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ik(n,e)}function ik(n,e){return ik=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},ik(n,e)}function EGe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var rk=new Map,iT=new WeakMap,AK=0,Ole=void 0;function CGe(n){Ole=n}function TGe(n){return n?(iT.has(n)||(AK+=1,iT.set(n,AK.toString())),iT.get(n)):"0"}function RGe(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?TGe(n.root):n[e])}).toString()}function PGe(n){var e=RGe(n),t=rk.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(h){h(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},rk.set(e,t)}return t}function y9(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=Ole),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=PGe(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),rk.delete(o))}}var BGe=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function SK(n){return typeof n.children!="function"}var I2=function(n){bGe(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),SK(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,h=r.fallbackInView;this._unobserveCb=y9(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!SK(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,h=EGe(a,BGe);return he.createElement(c||"div",nk({ref:this.handleNode},h),l)},e}(he.Component);I2.displayName="InView";I2.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function IGe(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,h=e.fallbackInView,d=he.useRef(),p=he.useState({inView:!!c}),m=p[0],v=p[1],x=he.useCallback(function(g){d.current!==void 0&&(d.current(),d.current=void 0),!l&&g&&(d.current=y9(g,function(S,w){v({inView:S,entry:w}),w.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,h,i]);he.useEffect(function(){!d.current&&m.entry&&!a&&!l&&v({inView:!!c})});var y=[x,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const LGe=Object.freeze(Object.defineProperty({__proto__:null,InView:I2,default:I2,defaultFallbackInView:CGe,observe:y9,useInView:IGe},Symbol.toStringTag,{value:"Module"})),DGe=iCe(LGe);VB.__esModule=!0;VB.default=void 0;var Kd=x9(he),bi=x9(uae),rT=x9(g9),FGe=DGe;function x9(n){return n&&n.__esModule?n:{default:n}}const Ule=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:h=null,id:d="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:x={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:y=!1})=>Kd.default.createElement(FGe.InView,x,({inView:g,ref:S})=>Kd.default.createElement("div",{ref:S,id:d,className:(0,rT.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Kd.default.createElement(Kd.default.Fragment,null,Kd.default.createElement("span",{style:h,onClick:l,className:(0,rT.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||y,"is-hidden":!(g||y)})},o),Kd.default.createElement("div",{style:i,onClick:c,className:(0,rT.default)(v,"vertical-timeline-element-content",{"bounce-in":g||y,"is-hidden":!(g||y)})},Kd.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Kd.default.createElement("span",{className:(0,rT.default)(s,"vertical-timeline-element-date")},r)))));Ule.propTypes={children:bi.default.oneOfType([bi.default.arrayOf(bi.default.node),bi.default.node]),className:bi.default.string,contentArrowStyle:bi.default.shape({}),contentStyle:bi.default.shape({}),date:bi.default.node,dateClassName:bi.default.string,icon:bi.default.element,iconClassName:bi.default.string,iconStyle:bi.default.shape({}),iconOnClick:bi.default.func,onTimelineElementClick:bi.default.func,id:bi.default.string,position:bi.default.string,style:bi.default.shape({}),textClassName:bi.default.string,visible:bi.default.bool,intersectionObserverProps:bi.default.shape({root:bi.default.object,rootMargin:bi.default.string,threshold:bi.default.number,triggerOnce:bi.default.bool})};var NGe=Ule;VB.default=NGe;var kle={VerticalTimeline:GB.default,VerticalTimelineElement:VB.default};const OGe=({experience:n})=>Be.jsxs(kle.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:Be.jsx("div",{className:"flex justify-center items-center w-full h-full",children:Be.jsx("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[Be.jsxs("div",{children:[Be.jsx("h3",{className:"text-white text-[24px] font-bold",children:n.title}),Be.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),Be.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>Be.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),UGe=()=>Be.jsxs(Be.Fragment,{children:[Be.jsxs(Ta.div,{variants:HB(),children:[Be.jsx("p",{className:`${Hs.sectionHeadText} text-center`,children:"Experience"}),Be.jsx("h2",{className:`${Hs.sectionSubText} mt-4 text-center`,children:"What I have done so far"})]}),Be.jsx("div",{className:"mt-20 flex flex-col",children:Be.jsx(kle.VerticalTimeline,{children:aGe.map((n,e)=>Be.jsx(OGe,{experience:n},e))})})]}),kGe=B1(UGe,"work"),t1=Math.min,Rg=Math.max,L2=Math.round,sT=Math.floor,qf=n=>({x:n,y:n}),zGe={left:"right",right:"left",bottom:"top",top:"bottom"},HGe={start:"end",end:"start"};function sk(n,e,t){return Rg(n,t1(e,t))}function nb(n,e){return typeof n=="function"?n(e):n}function r0(n){return n.split("-")[0]}function ib(n){return n.split("-")[1]}function zle(n){return n==="x"?"y":"x"}function _9(n){return n==="y"?"height":"width"}function n1(n){return["top","bottom"].includes(r0(n))?"y":"x"}function A9(n){return zle(n1(n))}function GGe(n,e,t){t===void 0&&(t=!1);const i=ib(n),r=A9(n),s=_9(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=D2(o)),[o,D2(o)]}function VGe(n){const e=D2(n);return[ok(n),e,ok(e)]}function ok(n){return n.replace(/start|end/g,e=>HGe[e])}function jGe(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function WGe(n,e,t,i){const r=ib(n);let s=jGe(r0(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(ok)))),s}function D2(n){return n.replace(/left|right|bottom|top/g,e=>zGe[e])}function XGe(n){return{top:0,right:0,bottom:0,left:0,...n}}function Hle(n){return typeof n!="number"?XGe(n):{top:n,right:n,bottom:n,left:n}}function F2(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function wK(n,e,t){let{reference:i,floating:r}=n;const s=n1(e),o=A9(e),a=_9(o),l=r0(e),c=s==="y",h=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:h,y:i.y-r.height};break;case"bottom":m={x:h,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:d};break;case"left":m={x:i.x-r.width,y:d};break;default:m={x:i.x,y:i.y}}switch(ib(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const JGe=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:h,y:d}=wK(c,i,l),p=i,m={},v=0;for(let x=0;x<a.length;x++){const{name:y,fn:g}=a[x],{x:S,y:w,data:b,reset:P}=await g({x:h,y:d,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});h=S??h,d=w??d,m={...m,[y]:{...m[y],...b}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):P.rects),{x:h,y:d}=wK(c,p,l)),x=-1)}return{x:h,y:d,placement:p,strategy:r,middlewareData:m}};async function Gle(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=nb(e,n),v=Hle(m),y=a[p?d==="floating"?"reference":"floating":d],g=F2(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),S=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},P=F2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:w,strategy:l}):S);return{top:(g.top-P.top+v.top)/b.y,bottom:(P.bottom-g.bottom+v.bottom)/b.y,left:(g.left-P.left+v.left)/b.x,right:(P.right-g.right+v.right)/b.x}}const KGe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=nb(n,e)||{};if(c==null)return{};const d=Hle(h),p={x:t,y:i},m=A9(r),v=_9(m),x=await o.getDimensions(c),y=m==="y",g=y?"top":"left",S=y?"bottom":"right",w=y?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[m]-p[m]-s.floating[v],P=p[m]-s.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let B=T?T[w]:0;(!B||!await(o.isElement==null?void 0:o.isElement(T)))&&(B=a.floating[w]||s.floating[v]);const I=b/2-P/2,R=B/2-x[v]/2-1,C=t1(d[g],R),N=t1(d[S],R),j=C,W=B-x[v]-N,X=B/2-x[v]/2+I,Q=sk(j,X,W),Y=!l.arrow&&ib(r)!=null&&X!==Q&&s.reference[v]/2-(X<j?C:N)-x[v]/2<0,ie=Y?X<j?X-j:X-W:0;return{[m]:p[m]+ie,data:{[m]:Q,centerOffset:X-Q-ie,...Y&&{alignmentOffset:ie}},reset:Y}}}),YGe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=nb(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=r0(r),S=n1(a),w=r0(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(w||!x?[D2(a)]:VGe(a)),T=v!=="none";!p&&T&&P.push(...WGe(a,x,v,b));const B=[a,...P],I=await Gle(e,y),R=[];let C=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&R.push(I[g]),d){const X=GGe(r,o,b);R.push(I[X[0]],I[X[1]])}if(C=[...C,{placement:r,overflows:R}],!R.every(X=>X<=0)){var N,j;const X=(((N=s.flip)==null?void 0:N.index)||0)+1,Q=B[X];if(Q)return{data:{index:X,overflows:C},reset:{placement:Q}};let Y=(j=C.filter(ie=>ie.overflows[0]<=0).sort((ie,D)=>ie.overflows[1]-D.overflows[1])[0])==null?void 0:j.placement;if(!Y)switch(m){case"bestFit":{var W;const ie=(W=C.filter(D=>{if(T){const z=n1(D.placement);return z===S||z==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(z=>z>0).reduce((z,H)=>z+H,0)]).sort((D,z)=>D[1]-z[1])[0])==null?void 0:W[0];ie&&(Y=ie);break}case"initialPlacement":Y=a;break}if(r!==Y)return{reset:{placement:Y}}}return{}}}};async function QGe(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=r0(t),a=ib(t),l=n1(t)==="y",c=["left","top"].includes(o)?-1:1,h=s&&l?-1:1,d=nb(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*h,y:p*c}:{x:p*c,y:m*h}}const qGe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await QGe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},$Ge=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:S}=y;return{x:g,y:S}}},...l}=nb(n,e),c={x:t,y:i},h=await Gle(e,l),d=n1(r0(r)),p=zle(d);let m=c[p],v=c[d];if(s){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",S=m+h[y],w=m-h[g];m=sk(S,m,w)}if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",S=v+h[y],w=v-h[g];v=sk(S,v,w)}const x=a.fn({...e,[p]:m,[d]:v});return{...x,data:{x:x.x-t,y:x.y-i}}}}};function I1(n){return Vle(n)?(n.nodeName||"").toLowerCase():"#document"}function xa(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function od(n){var e;return(e=(Vle(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Vle(n){return n instanceof Node||n instanceof xa(n).Node}function gu(n){return n instanceof Element||n instanceof xa(n).Element}function vu(n){return n instanceof HTMLElement||n instanceof xa(n).HTMLElement}function MK(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof xa(n).ShadowRoot}function rb(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=fc(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function ZGe(n){return["table","td","th"].includes(I1(n))}function jB(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function S9(n){const e=w9(),t=fc(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function e9e(n){let e=$f(n);for(;vu(e)&&!i1(e);){if(jB(e))return null;if(S9(e))return e;e=$f(e)}return null}function w9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function i1(n){return["html","body","#document"].includes(I1(n))}function fc(n){return xa(n).getComputedStyle(n)}function WB(n){return gu(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function $f(n){if(I1(n)==="html")return n;const e=n.assignedSlot||n.parentNode||MK(n)&&n.host||od(n);return MK(e)?e.host:e}function jle(n){const e=$f(n);return i1(e)?n.ownerDocument?n.ownerDocument.body:n.body:vu(e)&&rb(e)?e:jle(e)}function eM(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=jle(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=xa(r);return s?e.concat(o,o.visualViewport||[],rb(r)?r:[],o.frameElement&&t?eM(o.frameElement):[]):e.concat(r,eM(r,[],t))}function Wle(n){const e=fc(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=vu(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=L2(t)!==s||L2(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function M9(n){return gu(n)?n:n.contextElement}function _x(n){const e=M9(n);if(!vu(e))return qf(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=Wle(e);let o=(s?L2(t.width):t.width)/i,a=(s?L2(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const t9e=qf(0);function Xle(n){const e=xa(n);return!w9()||!e.visualViewport?t9e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n9e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==xa(n)?!1:e}function s0(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=M9(n);let o=qf(1);e&&(i?gu(i)&&(o=_x(i)):o=_x(n));const a=n9e(s,t,i)?Xle(s):qf(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,h=r.width/o.x,d=r.height/o.y;if(s){const p=xa(s),m=i&&gu(i)?xa(i):i;let v=p,x=v.frameElement;for(;x&&i&&m!==v;){const y=_x(x),g=x.getBoundingClientRect(),S=fc(x),w=g.left+(x.clientLeft+parseFloat(S.paddingLeft))*y.x,b=g.top+(x.clientTop+parseFloat(S.paddingTop))*y.y;l*=y.x,c*=y.y,h*=y.x,d*=y.y,l+=w,c+=b,v=xa(x),x=v.frameElement}}return F2({width:h,height:d,x:l,y:c})}function i9e(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=od(i),a=e?jB(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=qf(1);const h=qf(0),d=vu(i);if((d||!d&&!s)&&((I1(i)!=="body"||rb(o))&&(l=WB(i)),vu(i))){const p=s0(i);c=_x(i),h.x=p.x+i.clientLeft,h.y=p.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+h.x,y:t.y*c.y-l.scrollTop*c.y+h.y}}function r9e(n){return Array.from(n.getClientRects())}function Jle(n){return s0(od(n)).left+WB(n).scrollLeft}function s9e(n){const e=od(n),t=WB(n),i=n.ownerDocument.body,r=Rg(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Rg(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+Jle(n);const a=-t.scrollTop;return fc(i).direction==="rtl"&&(o+=Rg(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function o9e(n,e){const t=xa(n),i=od(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=w9();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function a9e(n,e){const t=s0(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=vu(n)?_x(n):qf(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function bK(n,e,t){let i;if(e==="viewport")i=o9e(n,t);else if(e==="document")i=s9e(od(n));else if(gu(e))i=a9e(e,t);else{const r=Xle(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return F2(i)}function Kle(n,e){const t=$f(n);return t===e||!gu(t)||i1(t)?!1:fc(t).position==="fixed"||Kle(t,e)}function l9e(n,e){const t=e.get(n);if(t)return t;let i=eM(n,[],!1).filter(a=>gu(a)&&I1(a)!=="body"),r=null;const s=fc(n).position==="fixed";let o=s?$f(n):n;for(;gu(o)&&!i1(o);){const a=fc(o),l=S9(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||rb(o)&&!l&&Kle(n,o))?i=i.filter(h=>h!==o):r=a,o=$f(o)}return e.set(n,i),i}function c9e(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?jB(e)?[]:l9e(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,h)=>{const d=bK(e,h,r);return c.top=Rg(d.top,c.top),c.right=t1(d.right,c.right),c.bottom=t1(d.bottom,c.bottom),c.left=Rg(d.left,c.left),c},bK(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function u9e(n){const{width:e,height:t}=Wle(n);return{width:e,height:t}}function h9e(n,e,t){const i=vu(e),r=od(e),s=t==="fixed",o=s0(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=qf(0);if(i||!i&&!s)if((I1(e)!=="body"||rb(r))&&(a=WB(e)),i){const d=s0(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else r&&(l.x=Jle(r));const c=o.left+a.scrollLeft-l.x,h=o.top+a.scrollTop-l.y;return{x:c,y:h,width:o.width,height:o.height}}function H3(n){return fc(n).position==="static"}function EK(n,e){return!vu(n)||fc(n).position==="fixed"?null:e?e(n):n.offsetParent}function Yle(n,e){const t=xa(n);if(jB(n))return t;if(!vu(n)){let r=$f(n);for(;r&&!i1(r);){if(gu(r)&&!H3(r))return r;r=$f(r)}return t}let i=EK(n,e);for(;i&&ZGe(i)&&H3(i);)i=EK(i,e);return i&&i1(i)&&H3(i)&&!S9(i)?t:i||e9e(n)||t}const d9e=async function(n){const e=this.getOffsetParent||Yle,t=this.getDimensions,i=await t(n.floating);return{reference:h9e(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function f9e(n){return fc(n).direction==="rtl"}const p9e={convertOffsetParentRelativeRectToViewportRelativeRect:i9e,getDocumentElement:od,getClippingRect:c9e,getOffsetParent:Yle,getElementRects:d9e,getClientRects:r9e,getDimensions:u9e,getScale:_x,isElement:gu,isRTL:f9e};function m9e(n,e){let t=null,i;const r=od(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:h,width:d,height:p}=n.getBoundingClientRect();if(a||e(),!d||!p)return;const m=sT(h),v=sT(r.clientWidth-(c+d)),x=sT(r.clientHeight-(h+p)),y=sT(c),S={rootMargin:-m+"px "+-v+"px "+-x+"px "+-y+"px",threshold:Rg(0,t1(1,l))||1};let w=!0;function b(P){const T=P[0].intersectionRatio;if(T!==l){if(!w)return o();T?o(!1,T):i=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{t=new IntersectionObserver(b,{...S,root:r.ownerDocument})}catch{t=new IntersectionObserver(b,S)}t.observe(n)}return o(!0),s}function g9e(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=M9(n),h=r||s?[...c?eM(c):[],...eM(e)]:[];h.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const d=c&&a?m9e(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[S]=g;S&&S.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,x=l?s0(n):null;l&&y();function y(){const g=s0(n);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&t(),x=g,v=requestAnimationFrame(y)}return t(),()=>{var g;h.forEach(S=>{r&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const v9e=qGe,y9e=$Ge,x9e=YGe,_9e=KGe,CK=(n,e,t)=>{const i=new Map,r={platform:p9e,...t},s={...r.platform,_c:i};return JGe(n,e,{...r,platform:s})};var TK={};const A9e="react-tooltip-core-styles",S9e="react-tooltip-base-styles",RK={core:!1,base:!1};function PK({css:n,id:e=S9e,type:t="base",ref:i}){var r,s;if(!n||typeof document>"u"||RK[t]||t==="core"&&typeof process<"u"&&(!((r=process==null?void 0:TK)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_CORE_STYLES)||t!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:TK)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;t==="core"&&(e=A9e),i||(i={});const{insertAt:o}=i;if(document.getElementById(e))return void console.warn(`[react-tooltip] Element with id '${e}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=e,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n)),RK[t]=!0}const BK=async({elementReference:n=null,tooltipReference:e=null,tooltipArrowReference:t=null,place:i="top",offset:r=10,strategy:s="absolute",middlewares:o=[v9e(Number(r)),x9e({fallbackAxisSideDirection:"start"}),y9e({padding:5})],border:a})=>{if(!n)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const l=o;return t?(l.push(_9e({element:t,padding:5})),CK(n,e,{placement:i,strategy:s,middleware:l}).then(({x:c,y:h,placement:d,middlewareData:p})=>{var m,v;const x={left:`${c}px`,top:`${h}px`,border:a},{x:y,y:g}=(m=p.arrow)!==null&&m!==void 0?m:{x:0,y:0},S=(v={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&v!==void 0?v:"bottom",w=a&&{borderBottom:a,borderRight:a};let b=0;if(a){const P=`${a}`.match(/(\d+)px/);b=P!=null&&P[1]?Number(P[1]):1}return{tooltipStyles:x,tooltipArrowStyles:{left:y!=null?`${y}px`:"",top:g!=null?`${g}px`:"",right:"",bottom:"",...w,[S]:`-${4+b}px`},place:d}})):CK(n,e,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:h,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${h}px`},tooltipArrowStyles:{},place:d}))},IK=(n,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(n,e),LK=(n,e,t)=>{let i=null;const r=function(...s){const o=()=>{i=null};!i&&(n.apply(this,s),i=setTimeout(o,e))};return r.cancel=()=>{i&&(clearTimeout(i),i=null)},r},DK=n=>n!==null&&!Array.isArray(n)&&typeof n=="object",ak=(n,e)=>{if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e))return n.length===e.length&&n.every((r,s)=>ak(r,e[s]));if(Array.isArray(n)!==Array.isArray(e))return!1;if(!DK(n)||!DK(e))return n===e;const t=Object.keys(n),i=Object.keys(e);return t.length===i.length&&t.every(r=>ak(n[r],e[r]))},w9e=n=>{if(!(n instanceof HTMLElement||n instanceof SVGElement))return!1;const e=getComputedStyle(n);return["overflow","overflow-x","overflow-y"].some(t=>{const i=e.getPropertyValue(t);return i==="auto"||i==="scroll"})},FK=n=>{if(!n)return null;let e=n.parentElement;for(;e;){if(w9e(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},M9e=typeof window<"u"?he.useLayoutEffect:he.useEffect,b9e="DEFAULT_TOOLTIP_ID",E9e={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},C9e=he.createContext({getTooltipData:()=>E9e});function Qle(n=b9e){return he.useContext(C9e).getTooltipData(n)}var oy={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},G3={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const T9e=({forwardRef:n,id:e,className:t,classNameArrow:i,variant:r="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:h=!1,positionStrategy:d="absolute",middlewares:p,wrapper:m,delayShow:v=0,delayHide:x=0,float:y=!1,hidden:g=!1,noArrow:S=!1,clickable:w=!1,closeOnEsc:b=!1,closeOnScroll:P=!1,closeOnResize:T=!1,openEvents:B,closeEvents:I,globalCloseEvents:R,imperativeModeOnly:C,style:N,position:j,afterShow:W,afterHide:X,content:Q,contentWrapperRef:Y,isOpen:ie,defaultIsOpen:D=!1,setIsOpen:z,activeAnchor:H,setActiveAnchor:ee,border:pe,opacity:ke,arrowColor:ne,role:ve="tooltip"})=>{var be;const xe=he.useRef(null),st=he.useRef(null),Ke=he.useRef(null),Ge=he.useRef(null),U=he.useRef(null),[fe,me]=he.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Ce,_e]=he.useState(!1),[Ne,Oe]=he.useState(!1),[Re,at]=he.useState(null),k=he.useRef(!1),F=he.useRef(null),{anchorRefs:se,setActiveAnchor:ge}=Qle(e),Ae=he.useRef(!1),[Se,qe]=he.useState([]),Ie=he.useRef(!1),ze=h||c.includes("click"),ct=ze||(B==null?void 0:B.click)||(B==null?void 0:B.dblclick)||(B==null?void 0:B.mousedown),Te=B?{...B}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!B&&ze&&Object.assign(Te,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const $e=I?{...I}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!I&&ze&&Object.assign($e,{mouseleave:!1,blur:!1,mouseout:!1});const ht=R?{...R}:{escape:b||!1,scroll:P||!1,resize:T||!1,clickOutsideAnchor:ct||!1};C&&(Object.assign(Te,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign($e,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ht,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),M9e(()=>(Ie.current=!0,()=>{Ie.current=!1}),[]);const Ye=Ue=>{Ie.current&&(Ue&&Oe(!0),setTimeout(()=>{Ie.current&&(z==null||z(Ue),ie===void 0&&_e(Ue))},10))};he.useEffect(()=>{if(ie===void 0)return()=>null;ie&&Oe(!0);const Ue=setTimeout(()=>{_e(ie)},10);return()=>{clearTimeout(Ue)}},[ie]),he.useEffect(()=>{if(Ce!==k.current)if(U.current&&clearTimeout(U.current),k.current=Ce,Ce)W==null||W();else{const Ue=(ot=>{const gt=ot.match(/^([\d.]+)(ms|s)$/);if(!gt)return 0;const[,nn,on]=gt;return Number(nn)*(on==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));U.current=setTimeout(()=>{Oe(!1),at(null),X==null||X()},Ue+25)}},[Ce]);const te=Ue=>{me(ot=>ak(ot,Ue)?ot:Ue)},$=(Ue=v)=>{Ke.current&&clearTimeout(Ke.current),Ne?Ye(!0):Ke.current=setTimeout(()=>{Ye(!0)},Ue)},Me=(Ue=x)=>{Ge.current&&clearTimeout(Ge.current),Ge.current=setTimeout(()=>{Ae.current||Ye(!1)},Ue)},Qe=Ue=>{var ot;if(!Ue)return;const gt=(ot=Ue.currentTarget)!==null&&ot!==void 0?ot:Ue.target;if(!(gt!=null&&gt.isConnected))return ee(null),void ge({current:null});v?$():Ye(!0),ee(gt),ge({current:gt}),Ge.current&&clearTimeout(Ge.current)},G=()=>{w?Me(x||100):x?Me():Ye(!1),Ke.current&&clearTimeout(Ke.current)},De=({x:Ue,y:ot})=>{var gt;const nn={getBoundingClientRect:()=>({x:Ue,y:ot,width:0,height:0,top:ot,left:Ue,right:Ue,bottom:ot})};BK({place:(gt=Re==null?void 0:Re.place)!==null&&gt!==void 0?gt:a,offset:l,elementReference:nn,tooltipReference:xe.current,tooltipArrowReference:st.current,strategy:d,middlewares:p,border:pe}).then(on=>{te(on)})},de=Ue=>{if(!Ue)return;const ot=Ue,gt={x:ot.clientX,y:ot.clientY};De(gt),F.current=gt},ye=Ue=>{var ot;if(!Ce)return;const gt=Ue.target;gt.isConnected&&(!((ot=xe.current)===null||ot===void 0)&&ot.contains(gt)||[document.querySelector(`[id='${s}']`),...Se].some(nn=>nn==null?void 0:nn.contains(gt))||(Ye(!1),Ke.current&&clearTimeout(Ke.current)))},Le=LK(Qe,50),Xe=LK(G,50),dt=Ue=>{Xe.cancel(),Le(Ue)},Ve=()=>{Le.cancel(),Xe()},rt=he.useCallback(()=>{var Ue,ot;const gt=(Ue=Re==null?void 0:Re.position)!==null&&Ue!==void 0?Ue:j;gt?De(gt):y?F.current&&De(F.current):H!=null&&H.isConnected&&BK({place:(ot=Re==null?void 0:Re.place)!==null&&ot!==void 0?ot:a,offset:l,elementReference:H,tooltipReference:xe.current,tooltipArrowReference:st.current,strategy:d,middlewares:p,border:pe}).then(nn=>{Ie.current&&te(nn)})},[Ce,H,Q,N,a,Re==null?void 0:Re.place,l,d,j,Re==null?void 0:Re.position,y]);he.useEffect(()=>{var Ue,ot;const gt=new Set(se);Se.forEach(q=>{gt.add({current:q})});const nn=document.querySelector(`[id='${s}']`);nn&&gt.add({current:nn});const on=()=>{Ye(!1)},_n=FK(H),En=FK(xe.current);ht.scroll&&(window.addEventListener("scroll",on),_n==null||_n.addEventListener("scroll",on),En==null||En.addEventListener("scroll",on));let Zt=null;ht.resize?window.addEventListener("resize",on):H&&xe.current&&(Zt=g9e(H,xe.current,rt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Bn=q=>{q.key==="Escape"&&Ye(!1)};ht.escape&&window.addEventListener("keydown",Bn),ht.clickOutsideAnchor&&window.addEventListener("click",ye);const Gt=[],xr=q=>{Ce&&(q==null?void 0:q.target)===H||Qe(q)},El=q=>{Ce&&(q==null?void 0:q.target)===H&&G()},Oo=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],O=["click","dblclick","mousedown","mouseup"];Object.entries(Te).forEach(([q,K])=>{K&&(Oo.includes(q)?Gt.push({event:q,listener:dt}):O.includes(q)&&Gt.push({event:q,listener:xr}))}),Object.entries($e).forEach(([q,K])=>{K&&(Oo.includes(q)?Gt.push({event:q,listener:Ve}):O.includes(q)&&Gt.push({event:q,listener:El}))}),y&&Gt.push({event:"pointermove",listener:de});const J=()=>{Ae.current=!0},ae=()=>{Ae.current=!1,G()};return w&&!ct&&((Ue=xe.current)===null||Ue===void 0||Ue.addEventListener("mouseenter",J),(ot=xe.current)===null||ot===void 0||ot.addEventListener("mouseleave",ae)),Gt.forEach(({event:q,listener:K})=>{gt.forEach(Fe=>{var Je;(Je=Fe.current)===null||Je===void 0||Je.addEventListener(q,K)})}),()=>{var q,K;ht.scroll&&(window.removeEventListener("scroll",on),_n==null||_n.removeEventListener("scroll",on),En==null||En.removeEventListener("scroll",on)),ht.resize?window.removeEventListener("resize",on):Zt==null||Zt(),ht.clickOutsideAnchor&&window.removeEventListener("click",ye),ht.escape&&window.removeEventListener("keydown",Bn),w&&!ct&&((q=xe.current)===null||q===void 0||q.removeEventListener("mouseenter",J),(K=xe.current)===null||K===void 0||K.removeEventListener("mouseleave",ae)),Gt.forEach(({event:Fe,listener:Je})=>{gt.forEach(Ze=>{var et;(et=Ze.current)===null||et===void 0||et.removeEventListener(Fe,Je)})})}},[H,rt,Ne,se,Se,B,I,R,ze,v,x]),he.useEffect(()=>{var Ue,ot;let gt=(ot=(Ue=Re==null?void 0:Re.anchorSelect)!==null&&Ue!==void 0?Ue:o)!==null&&ot!==void 0?ot:"";!gt&&e&&(gt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const nn=new MutationObserver(on=>{const _n=[],En=[];on.forEach(Zt=>{if(Zt.type==="attributes"&&Zt.attributeName==="data-tooltip-id"&&(Zt.target.getAttribute("data-tooltip-id")===e?_n.push(Zt.target):Zt.oldValue===e&&En.push(Zt.target)),Zt.type==="childList"){if(H){const Bn=[...Zt.removedNodes].filter(Gt=>Gt.nodeType===1);if(gt)try{En.push(...Bn.filter(Gt=>Gt.matches(gt))),En.push(...Bn.flatMap(Gt=>[...Gt.querySelectorAll(gt)]))}catch{}Bn.some(Gt=>{var xr;return!!(!((xr=Gt==null?void 0:Gt.contains)===null||xr===void 0)&&xr.call(Gt,H))&&(Oe(!1),Ye(!1),ee(null),Ke.current&&clearTimeout(Ke.current),Ge.current&&clearTimeout(Ge.current),!0)})}if(gt)try{const Bn=[...Zt.addedNodes].filter(Gt=>Gt.nodeType===1);_n.push(...Bn.filter(Gt=>Gt.matches(gt))),_n.push(...Bn.flatMap(Gt=>[...Gt.querySelectorAll(gt)]))}catch{}}}),(_n.length||En.length)&&qe(Zt=>[...Zt.filter(Bn=>!En.includes(Bn)),..._n])});return nn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{nn.disconnect()}},[e,o,Re==null?void 0:Re.anchorSelect,H]),he.useEffect(()=>{rt()},[rt]),he.useEffect(()=>{if(!(Y!=null&&Y.current))return()=>null;const Ue=new ResizeObserver(()=>{setTimeout(()=>rt())});return Ue.observe(Y.current),()=>{Ue.disconnect()}},[Q,Y==null?void 0:Y.current]),he.useEffect(()=>{var Ue;const ot=document.querySelector(`[id='${s}']`),gt=[...Se,ot];H&&gt.includes(H)||ee((Ue=Se[0])!==null&&Ue!==void 0?Ue:ot)},[s,Se,H]),he.useEffect(()=>(D&&Ye(!0),()=>{Ke.current&&clearTimeout(Ke.current),Ge.current&&clearTimeout(Ge.current)}),[]),he.useEffect(()=>{var Ue;let ot=(Ue=Re==null?void 0:Re.anchorSelect)!==null&&Ue!==void 0?Ue:o;if(!ot&&e&&(ot=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),ot)try{const gt=Array.from(document.querySelectorAll(ot));qe(gt)}catch{qe([])}},[e,o,Re==null?void 0:Re.anchorSelect]),he.useEffect(()=>{Ke.current&&(clearTimeout(Ke.current),$(v))},[v]);const pt=(be=Re==null?void 0:Re.content)!==null&&be!==void 0?be:Q,$t=Ce&&Object.keys(fe.tooltipStyles).length>0;return he.useImperativeHandle(n,()=>({open:Ue=>{if(Ue!=null&&Ue.anchorSelect)try{document.querySelector(Ue.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ue.anchorSelect}" is not a valid CSS selector`)}at(Ue??null),Ue!=null&&Ue.delay?$(Ue.delay):Ye(!0)},close:Ue=>{Ue!=null&&Ue.delay?Me(Ue.delay):Ye(!1)},activeAnchor:H,place:fe.place,isOpen:!!(Ne&&!g&&pt&&$t)})),Ne&&!g&&pt?Qc.createElement(m,{id:e,role:ve,className:tk("react-tooltip",oy.tooltip,G3.tooltip,G3[r],t,`react-tooltip__place-${fe.place}`,oy[$t?"show":"closing"],$t?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&oy.fixed,w&&oy.clickable),onTransitionEnd:Ue=>{U.current&&clearTimeout(U.current),Ce||Ue.propertyName!=="opacity"||(Oe(!1),at(null),X==null||X())},style:{...N,...fe.tooltipStyles,opacity:ke!==void 0&&$t?ke:void 0},ref:xe},pt,Qc.createElement(m,{className:tk("react-tooltip-arrow",oy.arrow,G3.arrow,i,S&&oy.noArrow),style:{...fe.tooltipArrowStyles,background:ne?`linear-gradient(to right bottom, transparent 50%, ${ne} 50%)`:void 0},ref:st})):null},R9e=({content:n})=>Qc.createElement("span",{dangerouslySetInnerHTML:{__html:n}});Qc.forwardRef(({id:n,anchorId:e,anchorSelect:t,content:i,html:r,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:h=10,wrapper:d="div",children:p=null,events:m=["hover"],openOnClick:v=!1,positionStrategy:x="absolute",middlewares:y,delayShow:g=0,delayHide:S=0,float:w=!1,hidden:b=!1,noArrow:P=!1,clickable:T=!1,closeOnEsc:B=!1,closeOnScroll:I=!1,closeOnResize:R=!1,openEvents:C,closeEvents:N,globalCloseEvents:j,imperativeModeOnly:W=!1,style:X,position:Q,isOpen:Y,defaultIsOpen:ie=!1,disableStyleInjection:D=!1,border:z,opacity:H,arrowColor:ee,setIsOpen:pe,afterShow:ke,afterHide:ne,role:ve="tooltip"},be)=>{const[xe,st]=he.useState(i),[Ke,Ge]=he.useState(r),[U,fe]=he.useState(c),[me,Ce]=he.useState(l),[_e,Ne]=he.useState(h),[Oe,Re]=he.useState(g),[at,k]=he.useState(S),[F,se]=he.useState(w),[ge,Ae]=he.useState(b),[Se,qe]=he.useState(d),[Ie,ze]=he.useState(m),[ct,Te]=he.useState(x),[$e,ht]=he.useState(null),[Ye,te]=he.useState(null),$=he.useRef(D),{anchorRefs:Me,activeAnchor:Qe}=Qle(n),G=Xe=>Xe==null?void 0:Xe.getAttributeNames().reduce((dt,Ve)=>{var rt;return Ve.startsWith("data-tooltip-")&&(dt[Ve.replace(/^data-tooltip-/,"")]=(rt=Xe==null?void 0:Xe.getAttribute(Ve))!==null&&rt!==void 0?rt:null),dt},{}),De=Xe=>{const dt={place:Ve=>{var rt;fe((rt=Ve)!==null&&rt!==void 0?rt:c)},content:Ve=>{st(Ve??i)},html:Ve=>{Ge(Ve??r)},variant:Ve=>{var rt;Ce((rt=Ve)!==null&&rt!==void 0?rt:l)},offset:Ve=>{Ne(Ve===null?h:Number(Ve))},wrapper:Ve=>{var rt;qe((rt=Ve)!==null&&rt!==void 0?rt:d)},events:Ve=>{const rt=Ve==null?void 0:Ve.split(" ");ze(rt??m)},"position-strategy":Ve=>{var rt;Te((rt=Ve)!==null&&rt!==void 0?rt:x)},"delay-show":Ve=>{Re(Ve===null?g:Number(Ve))},"delay-hide":Ve=>{k(Ve===null?S:Number(Ve))},float:Ve=>{se(Ve===null?w:Ve==="true")},hidden:Ve=>{Ae(Ve===null?b:Ve==="true")},"class-name":Ve=>{ht(Ve)}};Object.values(dt).forEach(Ve=>Ve(null)),Object.entries(Xe).forEach(([Ve,rt])=>{var pt;(pt=dt[Ve])===null||pt===void 0||pt.call(dt,rt)})};he.useEffect(()=>{st(i)},[i]),he.useEffect(()=>{Ge(r)},[r]),he.useEffect(()=>{fe(c)},[c]),he.useEffect(()=>{Ce(l)},[l]),he.useEffect(()=>{Ne(h)},[h]),he.useEffect(()=>{Re(g)},[g]),he.useEffect(()=>{k(S)},[S]),he.useEffect(()=>{se(w)},[w]),he.useEffect(()=>{Ae(b)},[b]),he.useEffect(()=>{Te(x)},[x]),he.useEffect(()=>{$.current!==D&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[D]),he.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:D==="core",disableBase:D}}))},[]),he.useEffect(()=>{var Xe;const dt=new Set(Me);let Ve=t;if(!Ve&&n&&(Ve=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),Ve)try{document.querySelectorAll(Ve).forEach(ot=>{dt.add({current:ot})})}catch{console.warn(`[react-tooltip] "${Ve}" is not a valid CSS selector`)}const rt=document.querySelector(`[id='${e}']`);if(rt&&dt.add({current:rt}),!dt.size)return()=>null;const pt=(Xe=Ye??rt)!==null&&Xe!==void 0?Xe:Qe.current,$t=new MutationObserver(ot=>{ot.forEach(gt=>{var nn;if(!pt||gt.type!=="attributes"||!(!((nn=gt.attributeName)===null||nn===void 0)&&nn.startsWith("data-tooltip-")))return;const on=G(pt);De(on)})}),Ue={attributes:!0,childList:!1,subtree:!1};if(pt){const ot=G(pt);De(ot),$t.observe(pt,Ue)}return()=>{$t.disconnect()}},[Me,Qe,Ye,e,t]),he.useEffect(()=>{X!=null&&X.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),z&&!IK("border",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`border\`.`),X!=null&&X.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),H&&!IK("opacity",`${H}`)&&console.warn(`[react-tooltip] "${H}" is not a valid \`opacity\`.`)},[]);let de=p;const ye=he.useRef(null);if(s){const Xe=s({content:(Ye==null?void 0:Ye.getAttribute("data-tooltip-content"))||xe||null,activeAnchor:Ye});de=Xe?Qc.createElement("div",{ref:ye,className:"react-tooltip-content-wrapper"},Xe):null}else xe&&(de=xe);Ke&&(de=Qc.createElement(R9e,{content:Ke}));const Le={forwardRef:be,id:n,anchorId:e,anchorSelect:t,className:tk(o,$e),classNameArrow:a,content:de,contentWrapperRef:ye,place:U,variant:me,offset:_e,wrapper:Se,events:Ie,openOnClick:v,positionStrategy:ct,middlewares:y,delayShow:Oe,delayHide:at,float:F,hidden:ge,noArrow:P,clickable:T,closeOnEsc:B,closeOnScroll:I,closeOnResize:R,openEvents:C,closeEvents:N,globalCloseEvents:j,imperativeModeOnly:W,style:X,position:Q,isOpen:Y,defaultIsOpen:ie,border:z,opacity:H,arrowColor:ee,setIsOpen:pe,afterShow:ke,afterHide:ne,activeAnchor:Ye,setActiveAnchor:Xe=>te(Xe),role:ve};return Qc.createElement(T9e,{...Le})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",n=>{n.detail.disableCore||PK({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),n.detail.disableBase||PK({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const P9e=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s})=>Be.jsx(Ta.div,{variants:tb("up","spring",n*.5,.75),children:Be.jsxs(Dle,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[Be.jsxs("div",{className:"relative w-full h-[230px]",children:[Be.jsx("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),Be.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:Be.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:Be.jsx("img",{src:UHe,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),Be.jsxs("div",{className:"mt-5",children:[Be.jsx("h3",{className:"text-white font-bold text-[24px]",children:e}),Be.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),Be.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>Be.jsxs("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})}),B9e=()=>Be.jsxs(Be.Fragment,{children:[Be.jsxs(Ta.div,{variants:HB(),children:[Be.jsx("p",{className:`${Hs.sectionHeadText} text-center`,children:"Projects"}),Be.jsx("h2",{className:`${Hs.sectionSubText} mt-4 text-center`,children:"What I have done so far"})]}),Be.jsx("div",{className:"w-full flex",children:Be.jsx(Ta.p,{variants:tb("","",.1,1),className:"mt-4 text-secondary text-center font-medium text-[17px] max-w-6xl leading-[30px]",children:"I am currently working on my upcoming projects. Here, I have showcased some of my favourite projects which deal with different disciplines in Computer Science. I am always open to new projects. If you have any suggestions, feel free to message me on my LinkedIn."})}),Be.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:cGe.map((n,e)=>Be.jsx(P9e,{index:e,...n},e))})]}),I9e=B1(B9e,""),L9e=({index:n,testimonial:e,name:t,designation:i,company:r,image:s})=>Be.jsxs(Ta.div,{variants:tb("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[Be.jsx("p",{className:"text-white font-black text-[48px]",children:'"'}),Be.jsxs("div",{className:"mt-1",children:[Be.jsx("p",{className:"text-white tracking-wider text-[18px]",children:e}),Be.jsxs("div",{className:"mt-7 flex justify-between items-center gap-1",children:[Be.jsxs("div",{className:"flex-1 flex flex-col",children:[Be.jsxs("p",{className:"text-white font-medium text-[16px]",children:[Be.jsx("span",{className:"blue-text-gradient",children:"@"})," ",t]}),Be.jsxs("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),Be.jsx("img",{src:s,alt:`feedback_by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),D9e=()=>Be.jsxs("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[Be.jsx("div",{className:`bg-tertiary rounded-2xl ${Hs.padding} min-h-[300px]`,children:Be.jsxs(Ta.div,{variants:HB(),children:[Be.jsx("p",{className:Hs.sectionSubText,children:"What others say"}),Be.jsx("h2",{className:Hs.sectionHeadText,children:"Testimonials."})]})}),Be.jsx("div",{className:`-mt-20 pb-14 ${Hs.paddingX} flex flex-wrap gap-7`,children:lGe.map((n,e)=>Be.jsx(L9e,{index:e,...n},n.name))})]}),F9e=B1(D9e,"");class sb{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const N9e=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},ps={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:N9e()},b9=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},O9e=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=b9(n);ps.publicKey=t.publicKey,ps.blockHeadless=t.blockHeadless,ps.storageProvider=t.storageProvider,ps.blockList=t.blockList,ps.limitRate=t.limitRate,ps.origin=t.origin||e},qle=async(n,e,t={})=>{const i=await fetch(ps.origin+n,{method:"POST",headers:t,body:e}),r=await i.text(),s=new sb(i.status,r);if(i.ok)return s;throw s},$le=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},U9e=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Zle=n=>n.webdriver||!n.languages||n.languages.length===0,ece=()=>new sb(451,"Unavailable For Headless Browser"),k9e=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},z9e=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},H9e=(n,e)=>n instanceof FormData?n.get(e):n[e],tce=(n,e)=>{if(z9e(n))return!1;k9e(n.list,n.watchVariable);const t=H9e(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},nce=()=>new sb(403,"Forbidden"),G9e=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},V9e=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},ice=async(n,e,t)=>{if(!e.throttle||!t)return!1;G9e(e.throttle,e.id);const i=e.id||n;return await V9e(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},rce=()=>new sb(429,"Too Many Requests"),j9e=async(n,e,t,i)=>{const r=b9(i),s=r.publicKey||ps.publicKey,o=r.blockHeadless||ps.blockHeadless,a=ps.storageProvider||r.storageProvider,l={...ps.blockList,...r.blockList},c={...ps.limitRate,...r.limitRate};return o&&Zle(navigator)?Promise.reject(ece()):($le(s,n,e),U9e(t),t&&tce(l,t)?Promise.reject(nce()):await ice(location.pathname,c,a)?Promise.reject(rce()):qle("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},W9e=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},X9e=n=>typeof n=="string"?document.querySelector(n):n,J9e=async(n,e,t,i)=>{const r=b9(i),s=r.publicKey||ps.publicKey,o=r.blockHeadless||ps.blockHeadless,a=ps.storageProvider||r.storageProvider,l={...ps.blockList,...r.blockList},c={...ps.limitRate,...r.limitRate};if(o&&Zle(navigator))return Promise.reject(ece());const h=X9e(t);$le(s,n,e),W9e(h);const d=new FormData(h);return tce(l,d)?Promise.reject(nce()):await ice(location.pathname,c,a)?Promise.reject(rce()):(d.append("lib_version","4.3.3"),d.append("service_id",n),d.append("template_id",e),d.append("user_id",s),qle("/api/v1.0/email/send-form",d))},K9e={init:O9e,send:j9e,sendForm:J9e,EmailJSResponseStatus:sb},Y9e=()=>{const n=he.useRef(),[e,t]=he.useState({name:"",email:"",message:""}),[i,r]=he.useState(!1),s=a=>{const{target:l}=a,{name:c,value:h}=l;t({...e,[c]:h})},o=a=>{a.preventDefault(),r(!0),K9e.send("service_raibf13","template_pkulou1",{from_name:e.name,to_name:"Divyarajsinh Karmariya",from_email:e.email,to_email:"divyarajsinhkarmariya@gmail.com",message:e.message},"BXpAYvRhlMHHbpQ1x").then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return Be.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[Be.jsxs(Ta.div,{variants:_K("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[Be.jsx("p",{className:Hs.sectionSubText,children:"Get in touch"}),Be.jsx("h3",{className:Hs.sectionHeadText,children:"Contact."}),Be.jsxs("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[Be.jsxs("label",{className:"flex flex-col",children:[Be.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),Be.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your good name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Be.jsxs("label",{className:"flex flex-col",children:[Be.jsx("span",{className:"text-white font-medium mb-4",children:"Your email"}),Be.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your web address?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Be.jsxs("label",{className:"flex flex-col",children:[Be.jsx("span",{className:"text-white font-medium mb-4",children:"Your Message"}),Be.jsx("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What you want to say?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Be.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]}),Be.jsx("p",{className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:" or email me at:"}),Be.jsx("a",{href:"mailto:divyarajsinhkarmariya@gmail.com",children:"divyarajsinhkarmariya@gmail.com"})]}),Be.jsx(Ta.div,{variants:_K("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:Be.jsx(hUe,{})})]})},Q9e=B1(Y9e,"contact"),q9e=()=>Be.jsxs(e2e,{children:[Be.jsx("div",{className:"relative z-0 bg-primary"}),Be.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[Be.jsx(uGe,{}),Be.jsx(IHe,{})]}),Be.jsxs("div",{className:"relative z-0",children:[Be.jsx(xGe,{}),Be.jsx(kGe,{}),Be.jsx(AGe,{}),Be.jsx(I9e,{}),Be.jsx(F9e,{}),Be.jsx(Q9e,{}),Be.jsx(vUe,{})]})]});$N.createRoot(document.getElementById("root")).render(Be.jsx(Qc.StrictMode,{children:Be.jsx(q9e,{})}));
